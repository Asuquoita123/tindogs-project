if (self.CavalryLogger) { CavalryLogger.start_js(["jQ5Tf"]); }

__d("searchCometTypeaheadODSLogFocusEvent",["requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("BanzaiODS");function a(a,b){b===void 0&&(b=!0);if(!b)return;g.onReady(function(b){b.bumpEntityKey(354,a,"focused")})}e.exports=a}),null);
__d("TypeaheadFacepileX.react",["React","joinClasses"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.renderPic=function(a,c){var e="url("+d.props.photos[a]+")";return b("React").jsx("span",{className:b("joinClasses")("splitpic",c),style:{backgroundImage:e}},a)},d.renderPics=function(){var a=d.props.size;if(a>=3)return[d.renderPic(0,"leftpic"),d.renderPic(1,"toppic"),d.renderPic(2,"bottompic")];else return[d.renderPic(0,"leftpic"),d.renderPic(1)]},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx("span",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"splitpics clearfix"),children:this.renderPics()}))};return c}(b("React").Component);e.exports=a}),null);
__d("SearchClientFunnelTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("search_client_funnel:SearchClientFunnelLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionName=function(a){this.$1.action_name=a;return this};c.setLastState=function(a){this.$1.last_state=a;return this};c.setSelectedID=function(a){this.$1.selected_id=a;return this};c.setSelectedText=function(a){this.$1.selected_text=a;return this};c.setSelectedType=function(a){this.$1.selected_type=a;return this};c.setTypeaheadSid=function(a){this.$1.typeahead_sid=a;return this};c.setTypedQuery=function(a){this.$1.typed_query=a;return this};return a}();c={action_name:!0,last_state:!0,selected_id:!0,selected_text:!0,selected_type:!0,typeahead_sid:!0,typed_query:!0};e.exports=a}),null);
__d("WorkGalahadBadgingDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("WorkGalahadBadgingActions",["WorkGalahadBadgingDispatcher","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){b("setImmediateAcrossTransitions")(function(){b("WorkGalahadBadgingDispatcher").dispatch({type:"update_badge_count",section:a,count:c})})};e.exports={updateCount:a}}),null);
__d("WorkGalahadDirectDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("WorkGalahadDirectActions",["WorkGalahadDirectDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){b("WorkGalahadDirectDispatcher").dispatch({type:"initialise",unreadDirectStories:a})};c=function(a,c){b("WorkGalahadDirectDispatcher").dispatch({type:"updateStory",storyID:a,isUnread:c})};e.exports={initialise:a,updateStory:c}}),null);
__d("WorkGalahadDirectStore",["FluxReduceStore","WorkGalahadDirectDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{unreadDirectStories:new Set()}};c.reduce=function(a,b){switch(b.type){case"initialise":return babelHelpers["extends"]({},a,{unreadDirectStories:new Set(b.unreadDirectStories)});case"updateStory":if(b.isUnread)return babelHelpers["extends"]({},a,{unreadDirectStories:a.unreadDirectStories.add(b.storyID)});else{var c=new Set(a.unreadDirectStories);c["delete"](b.storyID);return babelHelpers["extends"]({},a,{unreadDirectStories:c})}default:return a}};c.getUnreadCount=function(){return this.getState().unreadDirectStories.size};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("WorkGalahadDirectDispatcher"))}),null);
__d("WorkGalahadNavStore",["FluxReduceStore","WorkGalahadDispatcher","WorkGalahadEntityKey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{activeEntityKeys:[],loading:!1,seenGroups:new Set(),seenGroupPosts:new Set(),selectedAppTabID:"home",publicContentBanner:void 0,stackedChannelData:[],pendingTransitionState:void 0}};d.reduce=function(a,b){__p&&__p();var c;switch(b.type){case"nav/markPendingTransition":return babelHelpers["extends"]({},a,{pendingTransitionState:{appTabID:b.appTabID,entityKeys:b.entityKeys,uri:b.uri}});case"nav/setActiveEntityKeys":return this.$WorkGalahadNavStore1(a,b.entityKeys);case"nav/selectAppTabID":return this.$WorkGalahadNavStore2(a,b.appTabID);case"nav/pushStackedChannel":return babelHelpers["extends"]({},a,{stackedChannelData:[].concat(a.stackedChannelData,[b.stackedChannelData])});case"nav/dismissStackedChannel":return babelHelpers["extends"]({},a,{stackedChannelData:a.stackedChannelData.slice(0,-1)});case"nav/dismissAllStackedChannels":return babelHelpers["extends"]({},a,{stackedChannelData:[]});case"nav/startLoading":var d=babelHelpers["extends"]({},a,{loading:!0});if(b.uri===((c=d)==null?void 0:(c=c.pendingTransitionState)==null?void 0:c.uri)){d=this.$WorkGalahadNavStore1(d,((c=d.pendingTransitionState)==null?void 0:c.entityKeys)||d.activeEntityKeys);d=this.$WorkGalahadNavStore2(d,((c=d.pendingTransitionState)==null?void 0:c.appTabID)||d.selectedAppTabID)}return babelHelpers["extends"]({},d,{pendingTransitionState:void 0});case"nav/stopLoading":return babelHelpers["extends"]({},a,{loading:!1});case"nav/showPublicContentBanner":return babelHelpers["extends"]({},a,{publicContentBanner:b.html});case"nav/hidePublicContentBanner":return babelHelpers["extends"]({},a,{publicContentBanner:void 0});default:return a}};d.getActiveEntityKeys=function(){return[].concat(this.getState().activeEntityKeys)};d.getSelectedAppTabID=function(){return this.getState().selectedAppTabID};d.getStackedChannelData=function(){var a=this.getState().stackedChannelData;return a[a.length-1]};d.isLoading=function(){return this.getState().loading};d.hasGroupBeenSeen=function(a){return this.getState().seenGroups.has(a)};d.hasGroupPostBeenSeen=function(a){return this.getState().seenGroupPosts.has(a)};d.getPublicContentBanner=function(){return this.getState().publicContentBanner};d.$WorkGalahadNavStore1=function(a,c){if(a.activeEntityKeys.length===c.length&&a.activeEntityKeys.every(function(a,b){return a===c[b]}))return a;var d=a.seenGroups,e=b("WorkGalahadEntityKey").getGroupID(c);e!=null&&!d.has(e)&&(d=new Set(d).add(e));e=a.seenGroupPosts;var f=b("WorkGalahadEntityKey").getPermalinkID(c);f!=null&&!e.has(f)&&(e=new Set(e).add(f));return babelHelpers["extends"]({},a,{activeEntityKeys:[].concat(c),seenGroups:d,seenGroupPosts:e})};d.$WorkGalahadNavStore2=function(a,b){return a.selectedAppTabID!==b?babelHelpers["extends"]({},a,{selectedAppTabID:b,stackedChannelData:[]}):a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("WorkGalahadDispatcher"))}),null);
__d("WorkGalahadBadging",["SubscriptionsHandler","WorkAdminIntroductionNuxGating","WorkGalahadBadgingActions","WorkGalahadDirectActions","WorkGalahadDirectStore","WorkGalahadNavStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SubscriptionsHandler"))();function a(a){b("WorkGalahadDirectActions").initialise(a);a=function(){if(b("WorkGalahadNavStore").getSelectedAppTabID()=="direct")return;b("WorkGalahadBadgingActions").updateCount("direct",b("WorkGalahadDirectStore").getUnreadCount())};a();g.addSubscriptions(b("WorkGalahadDirectStore").addListener(a))}function c(){b("WorkAdminIntroductionNuxGating").shouldShowAdminIntroductionNux()&&b("WorkGalahadBadgingActions").updateCount("admin_panel",1)}e.exports={initDirect:a,initAdminPanel:c}}),null);
__d("WorkGalahadBadgingStore",["FluxReduceStore","WorkGalahadBadgingDispatcher","getObjectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return b("getObjectValues")(a.badgeCounts).reduce(function(a,b){return a+b},0)}a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{badgeCounts:{}}};c.reduce=function(a,b){var c;switch(b.type){case"update_badge_count":return babelHelpers["extends"]({},a,{badgeCounts:babelHelpers["extends"]({},a.badgeCounts,(c={},c[b.section]=b.count,c))});default:return a}};c.getTotalBadgeCount=function(){return g(this.getState())};c.getBadgeCount=function(a){return(a=this.getState().badgeCounts[a])!=null?a:0};c.getBadgeCounts=function(){return babelHelpers["extends"]({},this.getState().badgeCounts)};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("WorkGalahadBadgingDispatcher"))}),null);
__d("WorkGalahadLocalUISettingsDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("WorkGalahadNotificationsFilters",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({ALL:null,UNREAD:null,PRIORITY:null,CONVERSATIONS:null,PINNED_GROUPS:null,MULTI_COMPANY_GROUPS:null});e.exports=a}),null);
__d("WorkGalahadLocalUISettingsStore",["FluxReduceStore","WorkGalahadLocalUISettingsDispatcher","WorkGalahadLocalUISettingsHelper","WorkGalahadNotificationsFilters","objectKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{rhc:{collapsed:b("WorkGalahadLocalUISettingsHelper").getRhcCollapsedStateFromStorage()},notifications:{filter:b("WorkGalahadLocalUISettingsHelper").getNotificationsFilterFromStorage()},pop_ups:{turned_off:!1}}};d.reduce=function(a,c){switch(c.type){case"rhc/set_collapsed":var d;b("WorkGalahadLocalUISettingsHelper").saveRhcCollapsedStateToStorage(c.sidebarType,c.collapsed);return babelHelpers["extends"]({},a,{rhc:babelHelpers["extends"]({},a.rhc,{collapsed:babelHelpers["extends"]({},a.rhc.collapsed,(d={},d[c.sidebarType]=c.collapsed,d))})});case"notifications/set_filter":b("WorkGalahadLocalUISettingsHelper").saveNotificationsFilterToStorage(c.filter);return babelHelpers["extends"]({},a,{notifications:babelHelpers["extends"]({},a.notifications,{filter:c.filter})});case"pop_ups/set_turned_off":return babelHelpers["extends"]({},a,{pop_ups:babelHelpers["extends"]({},a.pop_ups,{turned_off:c.turned_off})});default:return a}};d.getRhcCollapsed=function(a){return this.getState().rhc.collapsed[a]===!0};d.getNotificationsFilter=function(){var a=this.getState().notifications.filter;return!b("objectKeys")(b("WorkGalahadNotificationsFilters")).includes(a)?b("WorkGalahadNotificationsFilters").ALL:a};d.getPopUpsTurnedOff=function(){return this.getState().pop_ups.turned_off};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("WorkGalahadLocalUISettingsDispatcher"))}),null);
__d("WorkGalahadEntityKeyMatcher",["requireCond","cr:1141942"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1141942")).useEntityKeys;d=a.useMatch;f=a.useMatchCustom;b=a.useMatcher;e.exports={useEntityKeys:c,useMatch:d,useMatcher:b,useMatchCustom:f}}),null);
__d("WorkGalahadLocalUISettingsActions",["WorkGalahadLocalUISettingsDispatcher"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("WorkGalahadLocalUISettingsDispatcher").dispatch({type:"rhc/set_collapsed",sidebarType:a,collapsed:c})}function c(a){b("WorkGalahadLocalUISettingsDispatcher").dispatch({type:"notifications/set_filter",filter:a})}function d(a){b("WorkGalahadLocalUISettingsDispatcher").dispatch({type:"pop_ups/set_turned_off",turned_off:a})}e.exports={setRhcCollapsed:a,setNotificationsFilter:c,setPopUpsTurnedOff:d}}),null);
__d("WorkGalahadLocalUISettingsHelper",["FluxHooks","MercuryFilters.re","React","WebStorage","WorkGalahadEntityKeyMatcher","WorkGalahadLayoutUtils","WorkGalahadLocalUISettingsActions","WorkGalahadLocalUISettingsStore","WorkGalahadNotificationsFilters","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("FluxHooks").useFluxStore,j=b("React").useCallback,k=b("WorkGalahadEntityKeyMatcher").useEntityKeys,l=b("WorkGalahadLayoutUtils").SidebarType,m="galahadSidebarToggle",n="collapsed",o="expanded",p="galahadNotificationFilter",q="galahadChatsFilter";function r(a){return m+"/"+a}function s(){return b("WorkGalahadLocalUISettingsStore").getNotificationsFilter()}a={useRhcCollapsedState:function(){var a=k(),c=b("WorkGalahadLayoutUtils").getSidebarType(a);a=j(function(){return c!=null?b("WorkGalahadLocalUISettingsStore").getRhcCollapsed(c):!0},[c]);a=i(b("WorkGalahadLocalUISettingsStore"),a);var d=j(function(a){c!=null&&b("WorkGalahadLocalUISettingsActions").setRhcCollapsed(c,a)},[c]);return[a,d]},getRhcCollapsedStateFromStorage:function(){var a=(g||(g=b("WebStorage"))).getSessionStorageForRead();return(h||(h=b("mapObject")))(l,function(b){return a!=null?a.getItem(r(b))===n:!1})},saveRhcCollapsedStateToStorage:function(a,c){(g||(g=b("WebStorage"))).setItemGuarded(g.getSessionStorage(),r(a),c?n:o)},useNotificationFilterState:function(){var a=i(b("WorkGalahadLocalUISettingsStore"),s);return[a,function(a){b("WorkGalahadLocalUISettingsActions").setNotificationsFilter(a)}]},getNotificationsFilterFromStorage:function(){var a=(g||(g=b("WebStorage"))).getLocalStorageForRead();if(a){a=a.getItem(p);if(a!=null&&b("WorkGalahadNotificationsFilters")[a]!=null)return b("WorkGalahadNotificationsFilters")[a]}return b("WorkGalahadNotificationsFilters").ALL},saveNotificationsFilterToStorage:function(a){(g||(g=b("WebStorage"))).setItemGuarded(g.getLocalStorage(),p,a)},getChatsFilterFromStorage:function(){var a=(g||(g=b("WebStorage"))).getLocalStorageForRead();if(a){a=a.getItem(q);if(a!=null&&b("MercuryFilters.re").isSupportedFilter(a))return a}return b("MercuryFilters.re").all},saveChatsFilterToStorage:function(a){(g||(g=b("WebStorage"))).setItemGuarded(g.getLocalStorage(),q,a)}};e.exports=a}),null);
__d("WorkGalahadChatChannelStore",["FluxReduceStore","MercuryFilters.re","MessagingTag","WorkGalahadDispatcher","WorkGalahadLocalUISettingsHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{filter:b("WorkGalahadLocalUISettingsHelper").getChatsFilterFromStorage(),folder:b("MessagingTag").INBOX}};d.getFolder=function(){return this.getState().folder};d.getFilter=function(){return this.getState().filter};d.reduce=function(a,c){switch(c.type){case"galahad/chat_change_folder":return babelHelpers["extends"]({},a,{folder:c.folder});case"galahad/chat_change_filter":b("WorkGalahadLocalUISettingsHelper").saveChatsFilterToStorage(String(c.filter));return babelHelpers["extends"]({},a,{filter:c.filter});default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("WorkGalahadDispatcher"))}),null);
__d("WorkGalahadNavActions",["URI","WorkGalahadBeeperActions","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){var c=a.appTabID,d=a.entityKeys;a=a.uri;b("WorkGalahadDispatcher").dispatch({type:"nav/markPendingTransition",appTabID:c,entityKeys:d,uri:new(g||(g=b("URI")))(a).getPath()})}function c(a){b("WorkGalahadDispatcher").dispatch({type:"nav/setActiveEntityKeys",entityKeys:a})}function d(a){b("WorkGalahadDispatcher").dispatch({type:"nav/selectAppTabID",appTabID:a}),b("WorkGalahadBeeperActions").clearBeepsForTabID(a)}function f(a){b("WorkGalahadDispatcher").dispatch({type:"nav/pushStackedChannel",stackedChannelData:a})}function h(){b("WorkGalahadDispatcher").dispatch({type:"nav/dismissStackedChannel"})}function i(){b("WorkGalahadDispatcher").dispatch({type:"nav/dismissAllStackedChannels"})}function j(a){b("WorkGalahadDispatcher").dispatch({type:"nav/startLoading",uri:new(g||(g=b("URI")))(a).getPath()})}function k(){b("WorkGalahadDispatcher").dispatch({type:"nav/stopLoading"})}function l(a){b("WorkGalahadDispatcher").dispatch({type:"nav/showPublicContentBanner",html:a})}function m(){b("WorkGalahadDispatcher").dispatch({type:"nav/hidePublicContentBanner"})}e.exports={markPendingTransition:a,setActiveEntityKeys:c,selectAppTabID:d,pushStackedChannel:f,dismissStackedChannel:h,dismissAllStackedChannels:i,startLoading:j,stopLoading:k,showPublicContentBanner:l,hidePublicContentBanner:m}}),null);
__d("WorkGalahadQuickChatStore",["FluxReduceStore","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{threadID:null,composing:!1,showInbox:!1}};c.reduce=function(a,b){switch(b.type){case"quickChat/hide":return babelHelpers["extends"]({},a,{composing:!1,showInbox:!1,threadID:null});case"quickChat/showCompose":return babelHelpers["extends"]({},a,{composing:!0});case"quickChat/showInbox":return babelHelpers["extends"]({},a,{showInbox:!0,composing:!1,threadID:null});case"quickChat/hideInbox":return babelHelpers["extends"]({},a,{showInbox:!1});case"quickChat/close":return babelHelpers["extends"]({},a,{threadID:null});case"quickChat/openThreadID":return babelHelpers["extends"]({},a,{threadID:b.threadID,showInbox:!1});default:return a}};c.getActiveThreadID=function(){return this.getState().threadID};c.isShowingConversation=function(){return this.getState().threadID!=null};c.isComposing=function(){return this.getState().composing};c.isShowingInbox=function(){return this.getState().showInbox};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("WorkGalahadDispatcher"))}),null);
__d("WorkGalahadSearchStore",["FluxReduceStore","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return{typeaheadListProps:null,query:null}};c.reduce=function(a,b){switch(b.type){case"galahad/setTypeaheadListProps":return babelHelpers["extends"]({},a,{typeaheadListProps:b.listProps});case"galahad/setQuery":return babelHelpers["extends"]({},a,{query:b.query});default:return a}};c.getTypeaheadListProps=function(){return this.getState().typeaheadListProps};c.getQuery=function(){return this.getState().query};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("WorkGalahadDispatcher"))}),null);
__d("WorkGalahadFluxEnv",["invariant","requireCond","WorkGalahadBadging","WorkGalahadBadgingDispatcher","WorkGalahadBadgingStore","WorkGalahadBeeperActions","WorkGalahadBeeperDispatcher","WorkGalahadBeeperStore","WorkGalahadChatChannelStore","WorkGalahadDirectDispatcher","WorkGalahadDirectStore","WorkGalahadDispatcher","WorkGalahadLocalUISettingsDispatcher","WorkGalahadLocalUISettingsStore","WorkGalahadNavActions","WorkGalahadNavStore","WorkGalahadQuickChatStore","WorkGalahadSearchStore","WorkKnowledgeDispatcher","WorkKnowledgeStore","cr:1261928"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){a.defaultAppTabID;a=[b("WorkGalahadChatChannelStore"),b("WorkGalahadNavStore"),b("WorkGalahadSearchStore"),b("WorkGalahadQuickChatStore"),b("cr:1261928")].filter(Boolean);b("WorkGalahadDispatcher").explicitlyRegisterStores(a);b("WorkGalahadBeeperDispatcher").explicitlyRegisterStores([b("WorkGalahadBeeperStore")]);b("WorkGalahadBadgingDispatcher").explicitlyRegisterStores([b("WorkGalahadBadgingStore")]);b("WorkGalahadLocalUISettingsDispatcher").explicitlyRegisterStores([b("WorkGalahadLocalUISettingsStore")]);b("WorkGalahadDirectDispatcher").explicitlyRegisterStores([b("WorkGalahadDirectStore")]);b("WorkKnowledgeDispatcher").explicitlyRegisterStores([b("WorkKnowledgeStore")])}function i(a){var c=a.beeperConfig,d=a.defaultAppTabID,e=a.entityKeys;a=a.unreadDirectStories;b("WorkGalahadNavActions").setActiveEntityKeys(e);b("WorkGalahadNavActions").selectAppTabID(d);b("WorkGalahadBadging").initDirect(a);b("WorkGalahadBadging").initAdminPanel();b("WorkGalahadBeeperActions").setSoundEnabled(c.soundEnabled);b("WorkGalahadBeeperActions").setSoundPath(c.soundPath)}var j=[],k=!1;function l(){while(j.length>0){var a=j.shift();a()}}a={init:function(a){k&&g(0,11757),k=!0,h(a),i(a),l()},queueEvent:function(a){!k?j.push(a):a()}};e.exports=a}),null);
__d("WorkGalahadSearchActions",["WorkGalahadDispatcher","WorkGalahadFluxEnv"],(function(a,b,c,d,e,f){"use strict";function a(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/setTypeaheadListProps",listProps:a})}function c(a){b("WorkGalahadFluxEnv").queueEvent(function(){b("WorkGalahadDispatcher").dispatch({type:"galahad/setQuery",query:a})})}e.exports={setTypeaheadListProps:a,setQuery:c}}),null);
__d("WorkGalahadFluxEntityKeyMatcher",["FluxHooks","React","WorkGalahadEntityKey","WorkGalahadNavStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FluxHooks").useFluxStore,h=b("React").useCallback;function a(){return g(b("WorkGalahadNavStore"),i)}function c(a){a===void 0&&(a="keyOrSubKey");var c=g(b("WorkGalahadNavStore"),i),d=h(function(d){if(d==null)return!1;switch(a){case"key":return b("WorkGalahadEntityKey").containsKey(c,d);default:a;return b("WorkGalahadEntityKey").containsKeyOrSubkey(c,d)}},[c,a]);return d}function d(a,c){__p&&__p();c===void 0&&(c="keyOrSubKey");var d=h(function(){if(a==null)return!1;var d=b("WorkGalahadNavStore").getActiveEntityKeys();switch(c){case"key":return b("WorkGalahadEntityKey").containsKey(d,a);default:c;return b("WorkGalahadEntityKey").containsKeyOrSubkey(d,a)}},[a,c]);return g(b("WorkGalahadNavStore"),d)}function f(a,c){c=h(function(){var b=i();return a(b)},c);return g(b("WorkGalahadNavStore"),c)}function i(){return b("WorkGalahadNavStore").getActiveEntityKeys()}e.exports={useEntityKeys:a,useMatcher:c,useMatch:d,useMatchCustom:f}}),null);
__d("WorkGalahadSearchOverlayEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=new(b("EventEmitter"))();e.exports=a}),null);
__d("WorkGalahadChannelItemChromeList.react",["React","WorkGalahadUIChannelItem.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){var c,d=a.index,e=a.isBig,f=a.isIndented,h=a.isNested,i=a.isSmall,j=a.roundIcon;a=a.textType;var k={animationDelay:d*.1+"s"};return(c=b("React")).jsx("div",{children:c.jsx(b("WorkGalahadUIChannelItem.react"),{isSemanticListItem:!1,headline:c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{width:"100%",transform:"scaleX("+(Math.abs(Math.sin(d))*(1-.6)+.6)+")",transformOrigin:"center left"},className:"tv52aht6 foph6o47 oitujibm mu99tzkh",children:c.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","display-1":"nfce3akt","height-1":"h2bzcsm2","margin-top-1":"prqhm3cj","margin-end-1":"ouhd256r","margin-bottom-1":"pc5scjqj","margin-start-1":"mq32vg4l"},{"width-1":"tc9e0ywr"},{"animation-name-1":"ew95mbw3","animation-duration-1":"bpr26ejm","animation-timing-function-1":"qxyxv99d","animation-delay-1":"onhkkjna","animation-iteration-count-1":"ac4n43ct","animation-direction-1":"au5xxshi","animation-fill-mode-1":"ipp0uhbu","animation-play-state-1":"kv3jftw5","background-image-1":"gz6u7fie"},i?{"height-1":"qxlu86f3"}:null),style:k})}),a==="multi"?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","display-1":"nfce3akt","height-1":"h2bzcsm2","margin-top-1":"prqhm3cj","margin-end-1":"ouhd256r","margin-bottom-1":"pc5scjqj","margin-start-1":"mq32vg4l"},{"width-1":"byl60bsq"},{"animation-name-1":"ew95mbw3","animation-duration-1":"bpr26ejm","animation-timing-function-1":"qxyxv99d","animation-delay-1":"onhkkjna","animation-iteration-count-1":"ac4n43ct","animation-direction-1":"au5xxshi","animation-fill-mode-1":"ipp0uhbu","animation-play-state-1":"kv3jftw5","background-image-1":"gz6u7fie"},i?{"height-1":"qxlu86f3"}:null),style:k}),b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","display-1":"nfce3akt","height-1":"h2bzcsm2","margin-top-1":"prqhm3cj","margin-end-1":"ouhd256r","margin-bottom-1":"pc5scjqj","margin-start-1":"mq32vg4l"},{"width-1":"pbwg1s8d"},{"animation-name-1":"ew95mbw3","animation-duration-1":"bpr26ejm","animation-timing-function-1":"qxyxv99d","animation-delay-1":"onhkkjna","animation-iteration-count-1":"ac4n43ct","animation-direction-1":"au5xxshi","animation-fill-mode-1":"ipp0uhbu","animation-play-state-1":"kv3jftw5","background-image-1":"gz6u7fie"},i?{"height-1":"qxlu86f3"}:null),style:k})]}):null]}),meta:a==="subtitled"?b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"border-top-start-radius-1":"lf6jz1fy","border-top-end-radius-1":"oz48ar1p","border-bottom-end-radius-1":"d1e651vp","border-bottom-start-radius-1":"y0l0x72j","display-1":"nfce3akt","height-1":"h2bzcsm2","margin-top-1":"prqhm3cj","margin-end-1":"ouhd256r","margin-bottom-1":"pc5scjqj","margin-start-1":"mq32vg4l"},{"width-1":"byl60bsq"},{"animation-name-1":"ew95mbw3","animation-duration-1":"bpr26ejm","animation-timing-function-1":"qxyxv99d","animation-delay-1":"onhkkjna","animation-iteration-count-1":"ac4n43ct","animation-direction-1":"au5xxshi","animation-fill-mode-1":"ipp0uhbu","animation-play-state-1":"kv3jftw5","background-image-1":"gz6u7fie"},i?{"height-1":"qxlu86f3"}:null),style:k}):void 0,addOnPrimary:h?void 0:b("React").jsx("div",{className:(g||(g=b("stylex"))).dedupe({"animation-name-1":"ew95mbw3","animation-duration-1":"bpr26ejm","animation-timing-function-1":"qxyxv99d","animation-delay-1":"onhkkjna","animation-iteration-count-1":"ac4n43ct","animation-direction-1":"au5xxshi","animation-fill-mode-1":"ipp0uhbu","animation-play-state-1":"kv3jftw5","background-image-1":"gz6u7fie"},!e&&!i?{"height-1":"ddmrlm6u","width-1":"oyfvlk2a"}:null,i?{"height-1":"mhmrsd19","width-1":"ez34a2ks"}:null,e?{"height-1":"gxaa0u11","width-1":"runnr3yg"}:null,j?{"border-top-start-radius-1":"fviam4sw","border-top-end-radius-1":"e3xoa9gt","border-bottom-end-radius-1":"c6boxllp","border-bottom-start-radius-1":"mukvf3dn"}:null,j?null:{"border-top-start-radius-1":"qcplsvq8","border-top-end-radius-1":"lbj7a7zq","border-bottom-end-radius-1":"qd9vfp32","border-bottom-start-radius-1":"ex16komz"}),style:k}),indented:f})})}function i(){return b("React").jsx("div",{className:"t36ehdhz akl1aaa0 mu99tzkh kykouyfj p8o7x76n bv6y7xb9 tgxds0u3",children:b("React").jsx("div",{className:"gz6u7fie kv3jftw5 ipp0uhbu au5xxshi ac4n43ct onhkkjna qxyxv99d bpr26ejm ew95mbw3 mq32vg4l pc5scjqj ouhd256r prqhm3cj h2bzcsm2 nfce3akt y0l0x72j d1e651vp oz48ar1p lf6jz1fy byl60bsq"})})}function a(a){__p&&__p();var c=a.amount,d=a.type;a=a.withHeader;a=a===void 0?!1:a;var e;switch(d){case"groups":case"teams":e={centered:!0,textType:"single",roundIcon:!1,isNested:!1,isBig:!1,spacing:"narrow",isIndented:!0};break;case"people":e={centered:!0,textType:"single",roundIcon:!0,isNested:!1,isBig:!1,spacing:"narrow",isIndented:!0};break;case"notifications":e={centered:!1,textType:"multi",roundIcon:!0,isNested:!1,isBig:!0,spacing:"narrow",isIndented:!0};break;case"minimall":e={centered:!1,textType:"multi",roundIcon:!0,isNested:!1,isBig:!1,spacing:"narrow",isIndented:!0};break;case"inlineMinimall":e={centered:!1,textType:"multi",roundIcon:!0,isNested:!0,isBig:!1,spacing:"narrow",isIndented:!0};break;case"search":e={centered:!1,textType:"subtitled",roundIcon:!1,isNested:!1,isBig:!1,spacing:"medium",isIndented:!1};break;case"chats":e={centered:!0,textType:"single",roundIcon:!0,isNested:!1,isBig:!0,spacing:"narrow",isIndented:!0};break;case"quick-chat":e={roundIcon:!0,isSmall:!0,spacing:"narrow",isIndented:!1};break;case"message-search":e={centered:!1,textType:"subtitled",roundIcon:!0,isNested:!1,isBig:!1,spacing:"medium",isIndented:!1};break;default:d}d=[];for(var f=0;f<c;f++)d.push(b("React").jsx(h,babelHelpers["extends"]({index:f},e),f));return b("React").jsxs(b("React").Fragment,{children:[a?b("React").jsx(i,{}):null,d]})}e.exports=a}),null);
__d("WorkGalahadChatSearchAddThreadID",["MercuryThreadIDMap"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=b("MercuryThreadIDMap").get();a=[a,c];d.setServerIDToClientID.apply(d,a);d.setDeprecatedServerIDToClientID.apply(d,a)}e.exports={addThreadID:a}}),null);
__d("FacebarGSv2Echo",["cx","fbt","FacebarGlobalOptions","FacebarJSConstants","FacebarKeywordSearchUtils","FacebarStructuredText"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={insertInto:function(a,b,c,d,e,f){__p&&__p();var g=this,h=i.normalizeValue(a);if(!this._shouldInsert(a,b))return;var j=b.findIndex(function(a){return a.isSpecialIntent&&g._isKeywordSuggestion(a)&&h===i.normalizeValue(a.text)},this);j=j<0;if(!j)return;j=this._removeExactMatchAndReturnSubtext(a,b);a=this._createEchoResult(a,c,j,d,e,f);d?a!=null&&b.unshift(a):a!=null&&b.push(a)},_shouldInsert:function(a,c){__p&&__p();a=i.normalizeValue(a);if(!a)return!1;for(var d=0;d<c.length;d++){var e=c[d];e=b("FacebarStructuredText").fromStruct(e.structure).toString().toLowerCase();if(a.toLowerCase()===e)return!1}return!0},_isKeywordSuggestion:function(a){return a.type===b("FacebarJSConstants").keywordType||a.type===b("FacebarJSConstants").grammarType},_removeExactMatchAndReturnSubtext:function(a,b){__p&&__p();var c="";a=i.normalizeValue(a);for(var d=0;d<b.length;d++){var e=b[d];if(this._isKeywordSuggestion(e)&&a===i.normalizeValue(e.text)){e.subtext&&(c=e.subtext);b.splice(d,1);return c}}return c},normalizeValue:function(a){return String(a).trim().replace(/\s+/g," ").replace(/[\u200E|\u200F|\u202a|\u202b|\u202c]/g,"").toLowerCase()},_createEchoResult:function(a,c,d,e,f,g){var j=i.normalizeValue(a);f=e&&f&&b("FacebarGlobalOptions").showLocalPinkKwsSingleState&&a instanceof b("FacebarStructuredText")&&a.getFragment(0)&&a.getFragment(0).isLocal();var k=f?b("FacebarKeywordSearchUtils").makeFacebarEntryForLocalPage(a):b("FacebarKeywordSearchUtils").makeFacebarEntry(j),l=f?b("FacebarJSConstants").keywordTypes.local:b("FacebarJSConstants").keywordTypes.keyword,m={};f&&(m.subtext=d||h._("See photos, posts and info about this place"),g!==null&&(m.boldedSubtext=h._("{categoryName}",[h._param("categoryName",g)])));return babelHelpers["extends"]({type:b("FacebarJSConstants").keywordType,results_set_type:b("FacebarJSConstants").browseTypes.keyword,text:a,id:j,uid:j,query_string:j,icon_class:"_5b1w",isSingleState:e,isLocal:f,exactMatchKeyword:!0,structure:b("FacebarStructuredText").fromString(String(a)),semantic:k.semantic,uri:k.uri,keywordType:l,keywordSource:b("FacebarJSConstants").keywordTypes.echo,fromCache:c,tags:{}},m)}};e.exports=i}),null);
__d("FacebarInviteCoworkers",["cx","fbt","FacebarGlobalOptions","FacebarStructuredText","XWorkInviteCoworkersDialogController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={insertInto:function(a,b,c){a=this._cleanQuery(a);var d=this._getInsertionIndex(a,b);if(d>-1){a=this._createInviteCoworkersResult(a,c);b.splice(d,0,a)}},_getInsertionIndex:function(a,c){return!a||!b("FacebarGlobalOptions").inviteCoworkers?-1:c.length},_cleanQuery:function(a){return String(a).trim().replace(/\s+/g," ").replace(/[\u200E|\u200F|\u202a|\u202b|\u202c]/g,"")},_createInviteCoworkersResult:function(a,c){var d=h._("Invite \"{query}\" to Workplace",[h._param("query",a)]),e=b("XWorkInviteCoworkersDialogController").getURIBuilder().setEnum("source","search_typeahead").getURI();return{uid:a,icon_class:"_5yiv",isAsync:!1,isInviteCoworkers:!0,structure:b("FacebarStructuredText").fromString(d),semantic:d.toString(),text:d,asyncURI:e,fromCache:c}}};e.exports=a}),null);
__d("FacebarResultStore",["CurrentUser","FacebarGlobalOptions","FacebarJSConstants","FacebarResultStoreUtils","FacebarStructuredText","KeywordsSearchResultConfig","SearchI18nMatch","TokenizeUtil","concatMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CurrentUser").isWorkUser(),h=13,i=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this._extractStructure=function(a){__p&&__p();function c(a,b,c,d,e){return{type:a==="ent:extend_string"?"text":a,text:b,uid:c||null,isLocal:d?d:!1,categoryName:e?e:null}}function d(b,d){b.split(" ").forEach(function(b){b!==""&&(d&&a.chunks.push(a.structure.length),a.structure.push(c("text",b))),a.structure.push(c("text"," "))}),a.structure.pop()}function e(c){return a.structure.length!==0||b("FacebarJSConstants").nonGrammarTypes[a.type]?c:c.charAt(0).toUpperCase()+c.substr(1)}a.structure=[];a.chunks=[];a.parse.display.forEach(function(b){__p&&__p();if(typeof b==="string")d(e(b),!0);else if(b.type==="ent:extend_string")d(b.text,!0);else if(b.uid){var f=this.getEntry(b.uid,b.fetchType);a.chunks.push(a.structure.length);if(f==null)throw new Error('No entry found for uid "'+b.uid+'", type "'+b.fetchType+'" and piece text "'+b.text+'"');if(f.grammar_like)d(e(f.text),!1);else{var g=b.type;b.fetchType&&(g+=":"+b.fetchType);a.structure.push(c(g,f.text,b.uid,a.isLocal,a.categoryName))}}else b.type=="blank"&&(a.chunks.push(a.structure.length),a.structure.push(c(b.type,"...")))},f);return a};this._processBackendResult=function(a){__p&&__p();if(a.semantic==null)throw new Error("Facebar can't process empty semantic "+JSON.stringify(a));a.semantic=a.semantic.toString();a.backendCost=a.cost;f._extractStructure(a);a.type.match(/^\{.*\}$/)&&(a.useExtendedIndex=!0);a.alternateSemantic&&(a.alternateSemantic=a.alternateSemantic.toLowerCase().replace(/\[(\d*)\]/g,"$1"));if(a.semantic.match(/\[\d*\]/)){var b=a.parse,c=b.pos;if(c===void 0)a.semantic=a.semantic.replace(/\[(\d*)\]/g,"$1");else{var d=b.remTokens[b.remTokens.length-1];b.remTokens.length&&a.structure[a.chunks[d]]&&a.structure[a.chunks[d]].uid&&(c=b.remTokens[b.remTokens.length-1],a.completed=!0);var e=a.structure[a.chunks[c]].uid;if(e===null)a.semantic=a.semantic.replace(/\[(\d*)\]/g,"$1");else{var g=new RegExp("\\["+e+"\\]","g");a.unsubstituted_semantic=a.semantic;a.semantic=a.semantic.replace(g,e);b&&b.disambiguation&&b.disambiguation.length>0&&(b.disambiguation=b.disambiguation.filter(function(a){return a.indexOf("["+e+"]")!==-1}),b.unsubstituted_disambiguation=b.disambiguation.splice(0),b.disambiguation=b.disambiguation.map(function(a){return a.replace(g,e)}))}}}a.semantic=a.semantic.replace(/\[(.*)\]/g,"$1");a.tuid=JSON.stringify({semantic:a.semantic,structure:a.structure});return a};this.facebarConfig=a;this.facebarConfig.grammar_stop_words_penalty=this.facebarConfig.grammar_stop_words_penalty||2;this.facebarConfig.grammar_stop_words=this.facebarConfig.grammar_stop_words||{};this.facebarConfig.options=e;this.injectedSuggestionCount=0;this.tokenize=c;this.getEntry=d;this.typeaheadTypeMap=this.facebarConfig.mapped_types;this.facebarConfig.typeahead_types.forEach(function(a){this.typeaheadTypeMap[a]=a},this);this.unicodeMatch=new(b("SearchI18nMatch"))({prefix_hangul_conjoining_jamo:!0});this.resetCaches()}var c=a.prototype;c.transformStructured=function(a){__p&&__p();var b=[],c=[],d="",e="";a.forEach(function(a,f){if(a.isType("text"))d+=a.getText(),e=e==null?null:e+a.getText();else{f=d.match(/\"/g);f&&f.length%2&&(d=d.replace(/\s+$/,"")+'"');d.length&&(Array.prototype.push.apply(b,this.tokenize(d)),c.push(d),d="");b.push(a.toStruct());c.push({uid:String(a.getUID()),type:this._getFBObjectType(a.getTypePart(1)),text:a.getText()});e=null}},this);a=!1;var f=d;d.length&&(d[d.length-1]=="'"&&(d=d.substr(0,d.length-1)),d.length>0&&d[0]==="#"?Array.prototype.push.call(b,d):d.length>0&&d[0]==="@"?(a=!0,f=this._convertToAliasKey(d.substring(1)),Array.prototype.push.call(b,f)):(f=this._convertToAliasKey(d),Array.prototype.push.apply(b,this.tokenize(d))),c.push(d),d[d.length-1]==" "&&b.push(""));var g=JSON.stringify(c),h=g.replace(/\]$/,"").replace(/\"$/,"");h=h.replace(/\s{2,}/g," ");return{tokens:b,text_form:g,is_empty:!!g.match(/^\[(\"\s*\")?\]$/),raw_text:e,cache_id:h,is_alias_search:a,potential_alias_term:f}};c.resetCaches=function(){this.resetBootstrapCache(),this.resetQueryCache()};c.resetBootstrapCache=function(){this.bootstrapCache={}};c.resetQueryCache=function(){this.queryCache={"":{tokens:[],results:[]}}};c.setNullState=function(a){this.facebarConfig.null_state=a.map(this._extractStructure,this)};c.clearRecentSearches=function(){if(!this.facebarConfig.null_state)return;this.facebarConfig.null_state=this.facebarConfig.null_state.filter(function(a){return!a.isRecent})};c.setSortFunction=function(a){this._sortFunction=a};c.addBootstrap=function(a){var b=this.bootstrapCache;a.forEach(function(a){var c=this.getEntry(a);c.bootstrapped=!0;var d=this.tokenize(c.textToIndex,!0);c.tokens&&Array.prototype.push.apply(d,c.tokens.split(" "));d.forEach(function(c){Object.prototype.hasOwnProperty.call(b,c)||(b[c]={}),b[c][a]=!0})},this)};c._convertToAliasKey=function(a){return a.replace(/\./g,"").toLowerCase()};c.addNullStateToQueryCache=function(a){this.saveResults(this.facebarConfig.null_state,a,!0)};c.getResults=function(a,c){__p&&__p();var d=this;if(a.tokens.length===0||a.tokens.length==1&&a.tokens[0]==="")return{results:this.facebarConfig.null_state||[],null_state:!0};c=this._getBestQueryCache(a.cache_id);c=c.results.filter(function(a){return!a.isRecent});var e={},f=this._getBootstrapMatchByType(a,e),i=this._addMatchingBootstrapResults(a,f[0]||{},e,[]);b("FacebarGlobalOptions").limitBootstrapResult&&(i=i.slice(0,b("FacebarGlobalOptions").limitBootstrapResultNum));var k=[],m=[],n=a.tokens.map(function(a){return a.text!=null?a.text:a}).join(" ").toLowerCase();b("FacebarGlobalOptions").hasKeywordBootstrap&&(k=i.filter(function(a){return a.type===b("FacebarJSConstants").keywordType&&d.unicodeMatch.prefixMatch(a.structure[0].text.toLowerCase(),n)}),k.sort(this._sortFunction(a.raw_text)),m=i.filter(function(a){return a.type!==b("FacebarJSConstants").keywordType&&d.unicodeMatch.prefixMatch(a.structure[0].text.toLowerCase(),n)}),m.sort(this._sortFunction(a.raw_text)),i=m.concat(k));Array.prototype.push.apply(i,b("concatMap")(this._getResultsFromCache.bind(this,f,a),c));b("FacebarGlobalOptions").hasKeywordBootstrap||i.sort(this._sortFunction(a.raw_text));var o={},p=[],q=!1,r=0;i.forEach(function(a){__p&&__p();var c=b("FacebarStructuredText").fromStruct(a.structure);if(c.hasType("blank")){p.push(a);return}a.semantic=a.semantic.toLowerCase();a.termMatches||(a.termMatches=e[a.semantic]);c=l(a,a.semantic);var d=l(a,a.alternateSemantic);if(!c)return;var f=o[c]||d!=null&&o[d];if(f){a.isJSBootstrapMatch?(f.isJSBootstrapMatch=!0,f.bootstrapCost=a.bootstrapCost):f.isJSBootstrapMatch&&a.backendCost!==void 0&&f.backendCost===void 0&&(f.backendCost=a.backendCost);a.tags!=null&&Object.assign(f.tags||{},a.tags);j(a)&&f.keyword_type==="keyword"&&Object.assign(f,a);return}if(q&&a.blankFilled)return;if(a.type.indexOf("browse_type")>=0){r+=1;if(this.facebarConfig.maxGrammarResults!==void 0&&r>this.facebarConfig.maxGrammarResults)return}q=q||!!a.blankFilled;o[c]=a;d&&(o[d]=a);(!g||a.isJSBootstrapMatch||a.position<h||a.type==="post")&&p.push(a)},this);return{results:p}};c.saveResults=function(a,c,d,e){__p&&__p();a=a.map(this._processBackendResult,this);var f=[],i={},j={};a.forEach(function(a){j[a.semantic]=!0});var k=new Set(),l=this._getBestQueryCache(c.cache_id);l.results.forEach(function(a){__p&&__p();if(a.type==="websuggestion")return;if(a.exactMatchKeyword)return;if(a.isRecent)return;if(a.semantic in i)return;var b=this._getDifferenceArrayTokens(a.tokens,c.tokens),d=this._getNumTokensMatching(b,a);d=this._tryMatchingFinalInsertedEntity(b,d,a);(d>0&&d==b.length||a.type==="shortcut"&&a.termMatches.indexOf(c.tokens[c.tokens.length-1])>=0)&&(a.cacheOnlyResult=!j[a.semantic],(!g||a.position<h||a.type==="post")&&(f.push(a),k.add(a.semantic)))},this);b("FacebarGlobalOptions").limitCacheResult&&(f=f.slice(0,b("FacebarGlobalOptions").limitCacheResultNum));a.forEach(function(a){a.tokens=c.tokens,a.cache_id_length=c.cache_id.length,a.isTypeNamedXBootstrap&&++a.cache_id_length,(!g||!k.has(a.semantic)||a.type==="post")&&f.push(a)},this);f.forEach(function(a,b){a.position=b});this.queryCache[c.cache_id]===void 0&&(this.queryCache[c.cache_id]={});Object.assign(this.queryCache[c.cache_id],{tokens:c.tokens,results:f,incomplete:d},e)};c.alreadyKnown=function(a){return!!this.queryCache[a]&&!this.queryCache[a].incomplete};c.stripBrackets=function(a){return a.replace(/^[\[\{]/,"").replace(/[\]\}]$/,"")};c._getDifferenceArrayTokens=function(a,b){if(!a.length)return[""].concat(b);var c=a.length-1,d=a[c];d===""&&(d=a[--c]);a="";typeof d==="string"&&c<b.length&&(a=b[c].substr(d.length));return[a].concat(b.slice(c+1))};c._sortFunction=function(a){return function(a,b){return(a.cost||0)-(b.cost||0)}};c._getResultsFromCache=function(a,c,d){a=c.tokens;var e=this._getDifferenceArrayTokens(d.tokens,a),f=[],g=this._getNumTokensMatching(e,d);g=this._tryMatchingFinalInsertedEntity(e,g,d);g>0&&g==e.length&&!(d.type===b("KeywordsSearchResultConfig").result_type&&e.length===1&&e[0]==='"')&&f.push(d);d.type==="shortcut"&&d.termMatches.indexOf(c.tokens[a-1])>=0&&f.push(d);return f};c._addMatchingBootstrapResults=function(a,c,d,e){__p&&__p();var f=a.tokens;return b("concatMap")(function(g){__p&&__p();var h=c[g];if(h===void 0)return[];var i=[],j=b("FacebarResultStoreUtils").getQueryFeatures(a);h.forEach(function(c){__p&&__p();var h=this.getEntry(c,g);if(a.is_alias_search){if(!this._isAliasMatch(a,h,!1))return}else if(!this._isTitleTermMatch(f,h)&&!this._isAliasMatch(a,h,!1)&&!e.includes(c))return;var k=this._isOriginalNameMatch(f,h)||this._isAliasMatch(a,h,!0),l=k?0:this.facebarConfig.non_title_term_match_penalty,m=0;if(this.facebarConfig.enableExactQueryMatchCost){var n=this._isExactNameMatch(a.raw_text,h);m=n?0:this.facebarConfig.non_exact_query_match_penalty}n=this._isNonGrammarTermMatch(f,h);var o=h.grammar_costs?h.grammar_costs["{"+g+"}"]:0,p=g===b("FacebarJSConstants").keywordType?h.cost:0;p=p+o+l+m+this.facebarConfig.entity_cost+this.facebarConfig.grammar_stop_words_penalty*!n;o=b("FacebarResultStoreUtils").processEntityResult(g,c,h.text,p,a,j,d,k,!n);o.bootstrapCost=p;o.isJSBootstrapMatch=!0;o.item_logging_id=h.itemLoggingId;g===b("FacebarJSConstants").keywordType&&(o.iconClass=h.iconClass,o.keywordBootstrapType=h.keywordBootstrapType,o.parse=h.parse,o.subtext=h.subtext,o.boldedSubtext=h.boldedSubtext,o.semantic=h.semantic,o.popularSearchScore=h.popularSearchScore,o.trendingTopicID=h.trendingTopicID,o.photo=h.photo,o.keyword_type=h.keyword_type,o.keywordSource=h.keywordSource);i.push(o)},this);return i}.bind(this),this.facebarConfig.bootstrap_types)};c._isTitleTermMatch=function(a,c){var d=a[0]||{};if(typeof d==="object")return!1;c=c.titleToIndex;return a.length===1?this._isTokenizePrefixMatch(d,c):b("TokenizeUtil").isExactMatch(d,c)};c._isOriginalNameMatch=function(a,c){var d=a[0]||{};if(typeof d==="object")return!1;d=c.text;for(var c=0;c<a.length-1;++c)if(a[c]!==""&&!b("TokenizeUtil").isExactMatch(a[c],d))return!1;return a.length>0&&this._isTokenizePrefixMatch(a[a.length-1],d)};c._getNormalizedName=function(a){return a.split(/\W+/).join(",").toLowerCase()};c._isExactNameMatch=function(a,b){return this._getNormalizedName(b.text)===this._getNormalizedName(a)};c._isAliasMatch=function(a,c,d){if(c.alias==null||a.potential_alias_term==null)return!1;c=this._convertToAliasKey(c.alias);if(d||!a.is_alias_search)return b("TokenizeUtil").isExactMatch(a.potential_alias_term,c);else return b("TokenizeUtil").isPrefixMatch(a.potential_alias_term,c)};c._isNonGrammarTermMatch=function(a,c){__p&&__p();c=b("TokenizeUtil").parse(c.titleToIndex.toLowerCase());c=c.tokens.filter(function(a){return a!==""&&!this.facebarConfig.grammar_stop_words[a]},this);c=c.join(" ");for(var d=0;d<a.length;++d){if(typeof a[d]==="object")return!0;var e=d===a.length-1?this._isTokenizePrefixMatch(a[d],c):b("TokenizeUtil").isQueryMatch(a[d],c);if(e)return!0}return!1};c._getBootstrapMatchByType=function(a,b,c){__p&&__p();c===void 0&&(c=[]);var d=a.tokens.slice();if(d.length===0)return[];var e=d.map(function(){return{}}),f=d[d.length-1]==="",g={},h,i=f?d.length-1:d.length,j=d[i-1];if(i&&j.uid){this._pushBootstrapEntryAtPosition(e,i-1,j.uid,a.is_alias_search);return e}for(var k in this.bootstrapCache)if(i&&this.unicodeMatch.prefixMatch(k,j)&&(!f||k===j))for(h in this.bootstrapCache[k])this._addMatchedTerm(h,k,b),g[h]||(g[h]=1,this._pushBootstrapEntryAtPosition(e,i-1,h,a.is_alias_search));for(var f=i-2;f>=0;f--){if(typeof d[f]==="object")break;if(d[f].length&&d[f][0]=='"')break;for(h in this.bootstrapCache[d[f]])g[h]||(g[h]=0),g[h]+f==i-1&&(++g[h],this._addMatchedTerm(h,d[f],b),this._pushBootstrapEntryAtPosition(e,f,h,a.is_alias_search))}if(!a.is_alias_search&&a.potential_alias_term)for(h in this.bootstrapCache[a.potential_alias_term])this._addMatchedTerm(h,a.potential_alias_term,b),g[h]||(g[h]=1,this._pushBootstrapEntryAtPosition(e,0,h,a.is_alias_search));for(var j=c,f=Array.isArray(j),i=0,j=f?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(i>=j.length)break;d=j[i++]}else{i=j.next();if(i.done)break;d=i.value}b=d;this.getEntry(b)&&!g[b]&&(g[b]=1,this._pushBootstrapEntryAtPosition(e,0,b,a.is_alias_search))}return e};c._addMatchedTerm=function(a,b,c){(c[a]=c[a]||[]).push(b);return c};c._pushBootstrapEntryAtPosition=function(a,b,c,d){__p&&__p();var e=this.getEntry(c);if(!e)return;var f=[];f=[e.type];for(var e=0;e<f.length;e++){var g=f[e];if(d&&g!=="user"&&g!=="page")continue;a[b][g]===void 0&&(a[b][g]=[]);a[b][g].push(c)}};c._getNumTokensMatching=function(a,b){__p&&__p();var c=0,d=b.parse,e=a.length,f=null,g=null;if(d.pos!==void 0){var h=b.structure[b.chunks[d.pos]];h&&(f=h.uid,g=h.type.split(":")[2])}b.outputTokensUsed=[];b.termMatches=[];if(f){c=this._prefixMatchEntity(a,d,f,b.outputTokensUsed,g,!!b.useExtendedIndex,b.termMatches);if(c===0||c===e)return c}else if(d.suffix&&e==1&&d.suffix.indexOf(a[0])===0)return e;else if(d.suffix==a[0])++c;else return 0;h=[];d.remTokens=d.remTokens||[];for(var f=0;f<d.remTokens.length;f++){if(typeof a[c]!=="string"||b.chunks.length<=d.remTokens[f]||b.structure.length<=b.chunks[d.remTokens[f]]||b.structure[b.chunks[d.remTokens[f]]].uid)break;g=b.structure[b.chunks[d.remTokens[f]]].text;h.push(g.toLowerCase())}c=this._greedyMatchText(h,a,c,d.remTokens,b.outputTokensUsed,b.isNullState);return c==e-1&&a[c]===""?e:c};c._prefixMatchEntity=function(a,b,c,d,e,f,g){__p&&__p();b.entTokens=b.entTokens||[];if(b.entTokens.length===0){if(a[0]!=="")return 0;if(b.possessive&&a.length>1&&a[1]=="'s"){d.push([b.pos+1]);return 2}else return 1}var h=!1;c=this.getEntry(c,e);if(e!==void 0&&e!==c.fetchType)return 0;e=this.tokenize(f?c.textToIndex:c.text,!0);f=[];for(var c=0;c<a.length+b.entTokens.length-1;c++)c<b.entTokens.length-1?f.push(b.entTokens[c]):c==b.entTokens.length-1?f.push(b.entTokens[c]+a[0]):f.push(a[c-b.entTokens.length+1]);c=-b.entTokens.length+1;for(var i=0;i<f.length;++i){var j=f[i];if(typeof j!=="string")break;if(j===""){c++;continue}var k=!1;for(var l=0;l<e.length;l++)if(e[l]==j||i===f.length-1&&e[l].indexOf(j)===0){g&&g.push(e[l]);e[l]="";k=!0;++c;break}if(k)continue;if(!b.possessive||j.length<=2||j.substr(j.length-2)!="'s")break;k=j.substr(0,j.length-2);for(l=0;l<e.length;l++)if(e[l]==k){++c;d&&(h=!0);break}break}if(c>0){h&&d.push([b.pos+1]);return c}if(d===void 0)return 0;j=a[0];l=j;b.possessive&&j.length>=2&&j.substr(j.length-2)=="'s"&&(l=j.substr(0,j.length-2));b.suffix=b.suffix||"";if(a.length==1&&b.suffix.indexOf(j)===0||b.suffix==l||b.suffix==j){l!=j&&b.suffix==l&&d.push([b.pos+1]);return 1}return 0};c._tryMatchingFinalInsertedEntity=function(a,b,c){if(!c.completed||b<0)return b;var d=c.parse;d=d.remTokens[d.remTokens.length-1];c=c.structure[c.chunks[d]];d=this.getEntry(c.uid,c.type);c=this.tokenize(d.text,!0);b=this._greedyMatchText(c,a,b);return b==a.length-1&&a[b]===""?a.length:b};c._greedyMatchText=function(a,b,c,d,e,f){__p&&__p();for(var g=0;g<a.length;g++){var h=a[g];if(h==b[c]){e!==void 0&&e.push(d[g]);++c;continue}if(c===b.length-1&&h.indexOf(b[c])===0){e!==void 0&&(h==b[c]?e.push([d[g]]):e.push([d[g],b[c].length]));return b.length}if(f)break}return c};c._getBestQueryCache=function(a){for(var b=a.length;b>=0;b--){var c=this.queryCache[a.slice(0,b)];if(c)return c}};c._getFBObjectType=function(a){if(this.typeaheadTypeMap[a])return this.typeaheadTypeMap[a];else return"page"};c._isTokenizePrefixMatch=function(a,c){return b("TokenizeUtil").isPrefixMatch(this.unicodeMatch.prefixMatchPrepare(a),this.unicodeMatch.prefixMatchPrepare(c))};c.getBootstrapMatches=function(a,b){b===void 0&&(b=[]);var c={},d=this._getBootstrapMatchByType(a,c,b?b:[]);return this._addMatchingBootstrapResults(a,d[0]||{},c,b?b:[])};return a}();i.EPSILON=1e-5;i.getUniqueSemantic=function(a){__p&&__p();if(!a)return;var b=[],c=[],d=[];a="("+a+")";var e=a,f=!1;a.replace(/[\(\),]/g,function(g,h){__p&&__p();var i;switch(g){case",":var j=d.length-1;i=e.substr(d[j],h-d[j]);b[j].push(i);d[j]=h+1;break;case"(":d.push(h+1);b.push([]);c.push(h+1);break;case")":if(d.length===0)throw new Error(a+" is not a valid semantic string");j=d.pop();i=e.substr(j,h-j);i=decodeURI(i.replace(/%/g,"%25").replace(/\s/g,"+").trim());j=b.pop();j.push(i);i=j.sort();for(var j=1;j<i.length;j++)i[j]==i[j-1]&&(f=!0);j=i.join(",");e=e.substr(0,c.pop())+j+e.substr(h);break}return g});return f?"":e.replace(/\((.*)\)/,"$1")};var j=function(a){return a.keyword_type==="local"&&a.semantic.match(/[0-9]+\/local/)!=null},k=function(a){if(!j(a))return null;a=encodeURIComponent(a.name.replace(/\s+/g,"+"));return"str/"+a+"/keywords_search"},l=function(a,c){if(!b("CurrentUser").isWorkUser())return b("FacebarStructuredText").fromStruct(a.structure).toString().toLowerCase();a=k(a);a=a!=null?a:i.getUniqueSemantic(c);return a!=null?a.toLowerCase():null};e.exports=i}),null);
__d("FacebarSearchAllMessages",["fbt","FacebarGSv2Echo","FacebarStructuredText","URI","WorkGalahadEntityKey","WorkGalahadNavStore","WorkplaceSearchTypeaheadConfigs","WWWBase"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a={insertInto:function(a,c,d){a=b("FacebarGSv2Echo").normalizeValue(a);var e=this._getInsertionIndex(a,c);if(e>-1){a=this._createSearchMessagesResult(a,d);c.splice(e,0,a)}},_getInsertionIndex:function(a,c){return a.length>0&&b("WorkplaceSearchTypeaheadConfigs").unifySearchBox&&b("WorkGalahadNavStore").getSelectedAppTabID()==="chats"?0:-1},_createSearchMessagesResult:function(a,c){var d=g._("Search Messages for \"{queryString}\"",[g._param("queryString",a)]),e=b("WorkGalahadNavStore").getActiveEntityKeys();e=b("WorkGalahadEntityKey").getThreadID(e);var f=new(h||(h=b("URI")))(b("WWWBase").uri);e!=null?f.setPath("/chat/t/"+e):f.setPath("/chat");f.addQueryData("qa",a);return{uid:a,isAsync:!1,structure:b("FacebarStructuredText").fromString(d),semantic:a,text:a,uri:f,fromCache:c,type:"keyword",isSeeMessages:!0}}};e.exports=a}),null);
__d("FacebarTimerUtils",[],(function(a,b,c,d,e,f){"use strict";a={getTimestamp:function(){return Date.now()}};e.exports=a}),null);
__d("FacebarTokenizer",["TokenizeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a='[^"]';var g=["\\s's","'s",'"'+a+'*"?'],h=[[/\s+$/,""],[/\"\s+/,'"'],[/\s+\"/,'"'],[/\"\"/,""],[/^\"$/,""],[/\s+/," "]];c={tokenize:function(a,c){__p&&__p();var d=[],e=0;a=a.replace(/\s/g," ").toLowerCase();a.replace(new RegExp(g.join("|"),"g"),function(f,g){__p&&__p();if(g>e){var i=a.substr(e,g-e);Array.prototype.push.apply(d,b("TokenizeUtil").parse(i).tokens.slice(0))}i=f;for(var j=0;j<h.length;j++){var k=h[j];i=i.replace(k[0],k[1])}d.length&&i=="'s"?d[d.length-1]+=i:i!==""&&d.push(i);c&&Array.prototype.push.apply(d,b("TokenizeUtil").parse(f).tokens);e=g+f.length});if(e<a.length){var f=a.substr(e,a.length-e);Array.prototype.push.apply(d,b("TokenizeUtil").parse(f).tokens.slice(0))}return d}};e.exports=c}),null);
__d("ResultsBucketizer",["FacebarGlobalOptions","FacebarJSConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$2=b}a.trimResults=function(a,b,c){var d=[];a.forEach(function(a,c){a.indexBeforeBuckets>b&&d.push({index:c,originalIndex:a.indexBeforeBuckets})});d.sort(function(a,b){return a.originalIndex-b.originalIndex}).slice(c).sort(function(a,b){return b.index-a.index}).forEach(function(b){a.splice(b.index,1)})};a.mergeBuckets=function(b,c){var d=[];for(var e in c)!c[e].rule.hidden&&(!c[e].rule.xor||!c[c[e].rule.xor])&&d.push(c[e]);d.sort(function(a,b){var c=(a.rule.position||0)-(b.rule.position||0);return c!==0?c:a.results[0].indexBeforeBuckets-b.results[0].indexBeforeBuckets});b.length=0;d.forEach(function(c,e){c.rule.maxPromotions!=null&&e<d.length-1&&a.trimResults(c.results,d[e+1].results[0].indexBeforeBuckets,c.rule.maxPromotions),Array.prototype.push.apply(b,c.results)}.bind(this))};var c=a.prototype;c.$3=function(a,b){if(b.propertyName==null)return b.bucketName||"default";a=this.$2(a,b.propertyName);return a==null||b.propertyValue!=null&&""+a!==b.propertyValue?!1:b.bucketName||b.propertyName+"."+a};c.$4=function(a,c,d){__p&&__p();var e={};d==null&&(d=b("FacebarGlobalOptions").default_num_top_results_to_show);a.forEach(function(a,f){__p&&__p();c.some(function(c){__p&&__p();var f=this.$3(a,c);if(f===!1)return!1;e[f]==null&&(e[f]={results:[],rule:c});if(f===b("FacebarJSConstants").keywordType&&e[f].results.length>=d)return!0;if(!!c.maxResults&&e[f].results.length>=c.maxResults)return!0;a.bucketLineage.push({bucketName:f,bucketIndex:e[f].results.length});e[f].results.push(a);return!0}.bind(this))}.bind(this));return e};c.$5=function(b,c,d){__p&&__p();c=this.$1[c];if(!c)return{};c=this.$4(b,c,d);for(var e in c){var f=c[e].rule.subBucketRules;f&&this.$5(c[e].results,f,d)}a.mergeBuckets(b,c);return c};c.$6=function(a,b,c){if(b.length<=c)return b.slice();a=b.map(function(a){return a.indexBeforeBuckets});var d=a.sort(function(a,b){return a-b})[c];return d==null?b:b.filter(function(a){return a.indexBeforeBuckets<d})};c.bucketize=function(a,b,c,d){a.forEach(function(a,b){a.bucketLineage=[],a.indexBeforeBuckets=b});c=c||{};Object.assign(c,this.$5(a,"main",d));d=this.$6(c,a,b);return d};return a}();e.exports=a}),null);
__d("FacebarDataSource",["invariant","Arbiter","AsyncRequest","CurrentUser","FacebarGlobalOptions","FacebarGSv2Echo","FacebarInviteCoworkers","FacebarJSConstants","FacebarKeywordSearchUtils","FacebarResultStore","FacebarResultStoreUtils","FacebarSearchAllMessages","FacebarStructuredText","FacebarTimerUtils","FacebarTokenizer","FacebarURI","ResultsBucketizer","ResultsBucketizerConfig","SearchDataSource","URI","Vector","ViewportBounds","WorkGalahadNavStore","WorkplaceSearchTypeaheadConfigs","XFacebookWorkChatInboxController","emptyFunction","gkx","queryThenMutateDOM","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=50,j=b("gkx")("1195440"),k=13,l={};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.executeQuery=function(a,c,e){__p&&__p();d._useCustomQueryId!==!0&&d._curQueryId++;e!=null&&(e.queryId=d._curQueryId,e.startCacheQuery=b("FacebarTimerUtils").getTimestamp());var f=d.getMaxResults(),g=b("CurrentUser").isWorkUser()&&b("WorkGalahadNavStore").getSelectedAppTabID()==="chats";d.setQueryData({qid:d._curQueryId,max_results:f,galahad_chat_tab:g});d.inform("beforeQuery",{value:a,queryId:d._curQueryId});d.value=a;f=d.buildUids(a,[]);e!=null&&(e.endCacheQuery=b("FacebarTimerUtils").getTimestamp());c&&f.length===0&&f.push(c);d.inform("query",{value:a,results:f,queryId:d._curQueryId});d.resultStore&&d.respond(a,f,!1,!1,e)};d.sendRemoteQuery=function(a,c,e){__p&&__p();var f=d.getQueryData(a.text_form),g=e!=null?e.queryId:0;f=new(b("AsyncRequest"))().setURI(d.queryEndpoint).setData(f).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(b,d){this.handleQueryResponse(d,b,a,c,e)}.bind(babelHelpers.assertThisInitialized(d),g)).setFinallyHandler(function(){d.activityEnd()});for(var h=d._headerflags,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];f.setRequestHeader(l,k)}d.inform("sending_request",f);d._maxRemoteQueryId=g;e!=null&&(e.waitingQueries=d._waitingQueries,e.inflightRequests=b("AsyncRequest").getInflightCount(),e.startRemoteQuery=b("FacebarTimerUtils").getTimestamp());f.send();d.activityStart()};d.renderResults=function(a,c,e,f,g){g!=null?l[String(a)]=g:g=l[String(a)],b("FacebarGSv2Echo").insertInto(a,c,!e,d._single_state,d._is_local,d._categoryName),!!a&&a instanceof b("FacebarStructuredText")&&!a.isEmptyOrWhitespace()&&!d._bypassBucketizer&&(c=d._bucketizeResults(a,c,g)),c.length=Math.min(c.length,d.getMaxResults()),d.injectExtraResults(a,c),f=e&&c.length===0,d.inform("respond",{value:a,results:c,isAsync:!!e,isEmptyResults:f})};d._fetched_null_state=null;d._initialQueryData=null;d._curQueryId=-1;d._maxRemoteQueryId=-1;d._single_state=!1;d._is_local=!1;d._categoryName=null;d._waitingQueries=0;d.mixGrammarAndEntity=c.mixGrammarAndEntity!==void 0?c.mixGrammarAndEntity:!0;d._isInjectedSuggestionFlow=!1;d._useCustomQueryId=!1;d.grammarVersion=c.grammarVersion||"";c.grammarOptions||(c.grammarOptions={});d._headerflags=c.headerflags||new Map();d.recordingRoute="banzai_vital";d._maxGrammarResults=c.grammarOptions.maxGrammarResults;d.nullStateEndpoint=c.nullStateEndpoint||"/ajax/browse/null_state.php";d.setNullStateData(c.nullStateData||{},!0);d._minQueryLength=c.minQueryLength||-1;d._performShortQuery=c.performShortQuery||!1;d._fixProcessLean=c.grammarOptions.fixProcessLean||!1;d.throttleExecuteQuery();d.throttleSendRemoteQuery();d.throttleRenderResults();d.resultStoreOptions=c.grammarOptions||{};d.resultStoreOptions.useNewExactNameMatch=c.grammarOptions.useNewExactNameMatch==="true";d.defaultQuery=null;d._bypassBucketizer=!1;d._resultsBucketizer=new(b("ResultsBucketizer"))(b("ResultsBucketizerConfig").rules,function(a,b){switch(b){case"isSeeMore":return a.isSeeMore;case"objectType":return a.type;case"resultSetType":return a.isWorkplacePost?"workpost":null;case"renderType":return a.render_type||a.type;case"cacheOnlyResult":return a.cacheOnlyResult;case"closeEntity":return a.bootstrapped||(a.tags?a.tags[b]:void 0);default:return a.tags?a.tags[b]:void 0}});d.fetchNullState();d.initWithConfig(b("FacebarGlobalOptions").grammarConfig);d.subscribe("bootstrapped",function(){b("Arbiter").subscribe("FacebarDataSource.getBootstrapMatches",function(b,a){a.callback.call(null,d.getBootstrapMatches(a.query,a.whitelistedEntIds))})});return d}var d=c.prototype;d.initWithConfig=function(a){this.facebarConfig=a,this.createResultStore(),this._fetched_null_state&&(this.setNullState(this._fetched_null_state),this._fetched_null_state=null)};d.throttleExecuteQuery=function(){var a=b("FacebarGlobalOptions").executeQueryThrottleTime;this.executeQueryThrottled=b("throttle").withBlocking(this.executeQuery,a,this)};d.throttleSendRemoteQuery=function(){var a=b("FacebarGlobalOptions").sendRemoteQueryThrottleTime;a===0?this.sendRemoteQueryThrottled=this.sendRemoteQuery:this.sendRemoteQueryThrottled=b("throttle").withBlocking(this.sendRemoteQuery,a,this)};d.throttleRenderResults=function(){var a=this,c=b("FacebarGlobalOptions").renderThrottleTime;if(c===0){this.renderResultsThrottled=this.renderResults;return}var d=Date.now();this.renderResultsThrottled=function(b,e,f,g,h){var i=Date.now();(f||d+c<i)&&(d=i,a.renderResults(b,e,f,g,h))}};d.createResultStore=function(){this.facebarConfig.maxGrammarResults=this._maxGrammarResults,b("CurrentUser").isWorkUser()?(this.facebarConfig.enableExactQueryMatchCost=!0,this.facebarConfig.non_exact_query_match_penalty=.5):(this.facebarConfig.enableExactQueryMatchCost=!1,this.facebarConfig.non_exact_query_match_penalty=0),this.resultStore=new(b("FacebarResultStore"))(this.facebarConfig,b("FacebarTokenizer").tokenize,this.getEntry.bind(this),this.resultStoreOptions),this._fixProcessLean&&this._processLean(),this.subscribe("setSortFunction",function(a,b){this.resultStore.setSortFunction(b)}.bind(this))};d.dirty=function(){this._nullStateFetched=!1,this.resultStore.resetCaches(),a.prototype.dirty.call(this)};d.refreshNullstate=function(a,c){a===void 0&&(a=b("emptyFunction")),c===void 0&&(c=b("emptyFunction")),this._nullStateFetched=!1,this.fetchNullState(a,c)};d.addEntries=function(a){this.resultStore.addBootstrap(this.processEntries(a))};d._processLean=function(){__p&&__p();if(this._fixProcessLean){if(this._leanPayload&&this.resultStore){var b,c=this._leanPayload.entries;for(var d in c){b=this.getEntry(d);if(!b)continue;for(var e in c[d])b.grammar_costs||(b.grammar_costs={}),b.grammar_costs["{"+e+"}"]=c[d][e]}this.setExclusions(this._leanPayload.blocked);this._leanPayload=null}}else a.prototype._processLean.call(this)};d.setNullStateData=function(a,b){b&&(this.nullStateData={grammar_version:this.grammarVersion});Object.assign(this.nullStateData,a);return this};d.setNullState=function(a){__p&&__p();var c={};a.queries=a.queries.filter(function(a){if(a.isWorkplacePost)return!0;a=a.parse.display.join(" ").toLowerCase();if(!c[a]){c[a]=!0;return!0}return!1});this._null_state=a;this.processEntries(this._null_state.entities);this.resultStore.setNullState(this._null_state.queries);this.resultStore.addNullStateToQueryCache(this.getRawStructure(b("FacebarStructuredText").fromString("")))};d.getNullStateTrending=function(){return this._null_state.trending};d.setSingleState=function(a){this._single_state=a};d.getSingleState=function(){return this._single_state};d.setLocal=function(a){this._is_local=a};d.setCategoryName=function(a){this._categoryName=a};d.overrideNullState=function(a){this._null_state!=null||g(0,5553),this._original_null_state=this._original_null_state||this._null_state,this.setNullState(a)};d.restoreNullState=function(){this._original_null_state&&this.setNullState(this._original_null_state)};d.fetchNullState=function(a,c){__p&&__p();a===void 0&&(a=b("emptyFunction"));c===void 0&&(c=b("emptyFunction"));if(this._nullStateFetched){this.activityStart();setTimeout(this.activityEnd.bind(this),0);a();return}var d=new(b("AsyncRequest"))().setURI(this.nullStateEndpoint).setData(this.nullStateData).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(b){this.resultStore?(this.setNullState(b.payload),this.inform("nullstateReady",!0)):this._fetched_null_state=b.payload,this._nullStateFetched=!0,a()}.bind(this)).setErrorHandler(function(){c()}).setFinallyHandler(this.activityEnd.bind(this));this.activityStart();d.send()};d.toTypeaheadEntryUid=function(a,c){__p&&__p();var d,e=b("FacebarStructuredText").fromStruct(c.structure),f=e.getFragment(0);if(e.getCount()==1&&f.isType("ent")){var g=f.getType().split(":")[2];d=this.getEntry(f.getUID(),g);d.type=this.resultStore.stripBrackets(c.type)}else d=this.getEntry(c.tuid),d||(d={dynamic_cost:c.dynamic_cost,extra_uri_params:c.extra_uri_params,memcache:c.fromMemcache,photo:c.photo,results_set_type:c.resultsSetType,tuid:c.tuid,type:c.type,uid:c.tuid,tags:c.tags},this.processEntries([d]),d=this.getEntry(c.tuid)),d.icon_class=c.iconClass,d.unseen_posts=c.unseen_posts,d.category=c.category,d.subtext=c.subtext,d.boldedSubtext=c.boldedSubtext,d.is_work_foreign_entity=c.is_work_foreign_entity,d.official_status=c.official_status;d.error_info=c.errorInfo;d.logInfo=c.logInfo;d.itemLoggingInfo=c.item_logging_info;d.itemLoggingId=c.item_logging_id;d.structure=e;d.text=d.structure.toString();d.queryTypeText=c.queryTypeText;d.semantic=!!c.isSingleState&&c.singleStateSemantic?c.singleStateSemantic:c.semantic;d.alternateSemantic=c.alternateSemantic;d.tree=c.tree;d.cost=c.cost;d.isSeeMore=!!c.isSeeMore;d.isNullState=!!c.isNullState;d.isSingleState=!!c.isSingleState;d.keywordSource=c.keywordSource;d.keyword=c.keyword;f=c.keyword_type;d.keywordType=f;d.isTrending=!!c.isTrending||c.keywordBootstrapType===b("FacebarJSConstants").keywordBootstrapTypes.trending||f===b("FacebarJSConstants").keywordTypes.trending;d.isCelebrity=f===b("FacebarJSConstants").keywordTypes.celebrity;d.isFootball=f===b("FacebarJSConstants").keywordTypes.football;d.isPhotos=f===b("FacebarJSConstants").keywordTypes.photos;d.isVideos=f===b("FacebarJSConstants").keywordTypes.videos;d.isHashtag=f===b("FacebarJSConstants").keywordTypes.hashtag;d.isLocal=f===b("FacebarJSConstants").keywordTypes.local||f===b("FacebarJSConstants").keywordTypes.local_category;d.isCompany=f===b("FacebarJSConstants").keywordTypes.company;d.isMovie=f===b("FacebarJSConstants").keywordTypes.movie;d.isHappeningNow=f===b("FacebarJSConstants").keywordTypes.happeningNow;d.isSpecialIntentGeneric=f===b("FacebarJSConstants").keywordTypes.specialIntentGeneric;d.isLink=f===b("FacebarJSConstants").keywordTypes.link;b("FacebarJSConstants").intentKeys.map(function(a){d.isSpecialIntent=d.isSpecialIntent||d[a]});d.isRecent=!!c.isRecent;d.isNullState&&(d.isWorkplacePost=!!c.isWorkplacePost,d.postUri=c.postUri,d.attachedPhoto=c.attachedPhoto);d.isWorkplacePost&&(d.uri=new(h||(h=b("URI")))(d.postUri));d.isPrefetched=!!c.isPrefetched;d.isSuggestion=!!c.isSuggestion;d.isInjectedSuggestion=!!c.isInjectedSuggestion;d.isFromGSEF=!!c.isFromGSEF;d.isGloballyCachedKeyword=!!c.isGloballyCachedKeyword;d.entityInfo=c.entityInfo;d.cacheOnlyResult=c.cacheOnlyResult||!1;if(!b("CurrentUser").isWorkUser()&&(!b("FacebarGlobalOptions").logSERPClickAsRecentSearch||!c.isNullState)){g=b("FacebarStructuredText").fromStruct(c.structure).toString().toLowerCase();e=b("FacebarKeywordSearchUtils").makeFacebarEntry(g);d.uri=e.uri;d.semantic=e.semantic;d.structure=e.structure}else d.uri=d.uri||b("FacebarURI").getURI(this.facebarConfig,d);b("WorkplaceSearchTypeaheadConfigs").unifySearchBox&&b("WorkGalahadNavStore").getSelectedAppTabID()==="chats"&&d.type==="user"&&(d.uri=b("XFacebookWorkChatInboxController").getURIBuilder().setString("thread_key",d.semantic).getURI());d.parse=c.parse;d.tags=c.tags||{};d.isKeywordL2=c.isKeywordL2||!1;d.exactMatchKeyword=c.exactMatchKeyword||!1;d.qid=c.qid;d.templateID=c.templateID;c.isJSBootstrapMatch&&(d.isJSBootstrapMatch=c.isJSBootstrapMatch,d.backendCost=c.backendCost,d.bootstrapCost=c.bootstrapCost,d.keywordBootstrapType=c.keywordBootstrapType);this._replaceCategoryWithTermMatches(a,d,c);return d.tuid};d._replaceCategoryWithTermMatches=function(a,b,c){__p&&__p();if(b.type!=="user"&&b.type!=="page")return;if(!b.term_to_subtitle||!c.termMatches)return;var d=b.alias,e=d==null?"":this.resultStore._convertToAliasKey(d),f=[];c.termMatches.forEach(function(c){var d=b.term_to_subtitle[c];!a.is_alias_search&&c===e&&c!==a.potential_alias_term&&(d=null);d&&f.push(d)},this);b.category===void 0&&(b.category="");b.original_category!==void 0&&(b.category=b.original_category);if(!f||f.length===0)return;b.original_category===void 0&&(b.original_category=b.category);if(!b.original_category)return;d=b.original_category.length>0?b.original_category.split(" \xb7 "):[];d.unshift.apply(d,f);d=d.filter(function(a,b,c){return b==c.indexOf(a)});b.category=d.splice(0,2).join(" \xb7 ")};d.getRawStructure=function(a){typeof a==="string"&&(a=b("FacebarStructuredText").fromString(a));if(this.resultStore)return this.resultStore.transformStructured(a.toArray())};d.saveResult=function(a){this._initialQueryData=this.getUID(a.uid,a.fetchType)};d.isDefaultKeywordQuery=function(a){return a.type===b("FacebarJSConstants").keywordType&&b("FacebarResultStoreUtils").getTextFromResult(a).toLowerCase()===this.value.getHash().trim().toLowerCase()};d.buildUids=function(a){__p&&__p();var c=this;if(!a||!this.resultStore)return[];typeof a==="string"&&(a=b("FacebarStructuredText").fromString(a));var d=this.getRawStructure(a);a=this.resultStore.getResults(d,this.getMaxResults());var e=a.results;if(e===void 0)return[];a=a.null_state===!0;var f=0;e=e.filter(function(a,c){return!b("FacebarGlobalOptions").allowGrammar&&a.type=="grammar"?!1:a.semantic!="<blank>"&&(a.type!="unimplemented"||f++===0)},this);var g=[],h=[],i=[];e.forEach(function(a){a.forcedPosition>0?i.push(a):a.isSeeMore?g.push(a):h.push(a)});a?e=this.orderNullState(e,this.getMaxResults()):e=h;i.length>0&&(i.sort(function(a,b){return a.forcedPosition-b.forcedPosition}),i.forEach(function(a){e.splice(a.forcedPosition,0,a)}));g.length>0&&e.push.apply(e,g);return e.map(function(a){return c.toTypeaheadEntryUid(d,a)})};d.orderNullState=function(a,b){var c={top:[],bottom:[],middle:[]},d=function(a){a=a.null_state_position;return Object.prototype.hasOwnProperty.call(c,a)?a:"middle"},e=function(a,b){return a.original_cost-b.original_cost};a&&a.forEach(function(a){c[d(a)].push(a)},this);for(var f in c)c[f]=c[f].sort(e).slice(0,b),b-=c[f].length;return[].concat(c.top,c.middle,c.bottom)};d.isEntity=function(a){return!a?!1:/^\d+$/.test(a)};d.handleResponse=function(a,b){var c=this;a.payload.errors||(this.processEntries(a.payload.entities),a.payload.results.forEach(function(d){d.qid=a.queryId,d.parse||(d.parse={}),d.parse.entTokens=d.parse.entTokens||[],d.parse.remTokens=d.parse.remTokens||[],d.parse.suffix=d.parse.suffix||"",c.isEntity(d.semantic)&&(d=c._buildCommonEntityFields(d,b.tokens))}),this.saveResults(a,b))};d.saveResults=function(a,b){a.payload.prefetched&&this.processPrefetched(a.payload.prefetched),this.resultStore.saveResults(a.payload.results,b,a.payload.incomplete,{},[])};d.processPrefetched=function(a){var c=this,d=function(d){var e=b("FacebarStructuredText").fromString(d),f=c.getRawStructure(e);e=a[d];c.processEntries(e.entities);e.results.forEach(function(a){c.isEntity(a.semantic)&&(a=c._buildCommonEntityFields(a,f.tokens))});c.resultStore.saveResults(e.results,f,e.incomplete)};for(var e in a)d(e)};d.processEntries=function(a){__p&&__p();return a.map(function(a,b){__p&&__p();var c=a.uid+="";a.textToIndex=this.getTitleTerms(a);a.titleToIndex=this.getTitleTerms(a);c=this.getUID(c,a.fetchType);var d=this.getEntry(c);!d?(this.setEntry(c,{}),d=this.getEntry(c)):delete a.photo;Object.assign(d,a);d.tuid=c;d.index===void 0&&(d.index=b);return c},this)};d.getUID=function(a,b){a+="";if(b!==void 0){b=/([^:]+:)?([^:]+)(:.*)?/.exec(b)[2];return JSON.stringify([a,b])}return a};d.getEntry=function(b,c){b=""+b;c=c!=null?a.prototype.getEntry.call(this,this.getUID(b,c))||a.prototype.getEntry.call(this,b):a.prototype.getEntry.call(this,b);return c};d.getEntryForFragment=function(a){return this.getEntry(a.getUID(),a.getTypePart(2))};d.getMaxResults=function(){return j?k:this._numResults.max};d.query=function(a,c,d){this.executeQueryThrottled(a,this._initialQueryData,{keyPress:b("FacebarTimerUtils").getTimestamp()}),this._initialQueryData=null};d.setCustomQueryID=function(a){this._customQueryID=a};d.shouldFetchMore=function(a,c){__p&&__p();if(!a.is_empty&&!b("CurrentUser").isWorkUser()){var d=c.filter(function(a){return a.type===b("FacebarJSConstants").keywordType}).length;if(d<b("FacebarGlobalOptions").default_num_top_results_to_show)return!0}if(a.is_empty)return!1;if(this.resultStore.alreadyKnown(a.cache_id))return!1;if(a.raw_text&&this._isQueryTooShort(a.raw_text))return!1;if(j)return!0;return c.length<this.getMaxResults()||this._performShortQuery?!0:this.countValidResults(c)<this.getMaxResults()||this._performShortQuery};d.countValidResults=function(a){var b=0;a.forEach(function(a){a&&!a.isNullState&&!a.isSeeMore&&b++},this);return b};d.handleQueryResponse=function(a,c,d,e,f){__p&&__p();var g=this,h=a.payload;a.queryId=c;a.inputQuery=d.text_form;h.results!=null&&h.results.forEach(function(a){a.isSingleState=g._single_state});f!=null&&(f.endRemoteQuery=b("FacebarTimerUtils").getTimestamp());this.inform("response_received",a);this.handleResponse(a,d);c=[];h.abandon_cache&&(c=h.results.map(function(a){return g.toTypeaheadEntryUid(d,a)}));var i=h.num_topresults_to_show;(i==null||i<3)&&(i=3);this.respond(e,c,!0,h&&(!h.results||h.results.length===0),f,i);this.inform("backend_response",a)};d.activityStart=function(){this._waitingQueries||this.inform("activity",{activity:!0},"state"),this._waitingQueries++};d.activityEnd=function(){this._waitingQueries--,this._waitingQueries||this.inform("activity",{activity:!1},"state")};d._bucketizeResults=function(a,b,c){b=this._tagKeywordsSuggestions(b);return this._resultsBucketizer.bucketize(b,i,null,c)};d._tagKeywordsSuggestions=function(a){__p&&__p();if(!a||a.length===0)return a;var c=a[0];if(c.bootstrapped)return a;return c.type==="grammar"||c.cost<b("FacebarGlobalOptions").closeEntityThreshold&&c.type==="user"?a:a.map(function(a){if(a.type!==b("FacebarJSConstants").keywordType)return a;a=babelHelpers["extends"]({},a);a.tags.topBucket=!0;return a})};d._buildCommonEntityFields=function(a,c){if(a.queryTypeText)return a;a.parse.display=[{type:"ent:"+a.type,uid:a.semantic}];a.parse.fetchType&&(a.parse.display[0].fetchType=a.parse.fetchType);a.parse.entTokens=c;a.parse.pos=0;a.resultsSetType="{"+a.type+"}";a.queryTypeText=b("FacebarJSConstants").defaultQueryTypeText;return a};d.setBypassBucketizer=function(a){this._bypassBucketizer=a};d.respond=function(a,c,d,e,f,g){__p&&__p();d&&this.value&&(typeof this.value==="string"&&(this.value=b("FacebarStructuredText").fromString(this.value)),this.inform("remote_query_match",{isMatch:this.value.matches(a),queryId:f!=null?f.queryId:0}),a=this.value,(!c||c.length===0)&&(c=this.buildUids(a)));this.inform("reorderResults",c);this.inform("respondValidUids",c);c=c.map(this.getEntry,this);c.forEach(function(a,b){a.fromCache=!d,a.isSingleState=this._single_state},this);if(!d&&(a.getHash().length<512||a.getHash().startsWith("http://")||a.getHash().startsWith("https://"))){var h=this.getRawStructure(a);this.shouldFetchMore(h,c)&&(f!=null&&(f.dispatchRemoteQuery=b("FacebarTimerUtils").getTimestamp()),this.sendRemoteQueryThrottled(h,a,f))}(!d||f==null||f.queryId===this._maxRemoteQueryId)&&this.renderResultsThrottled(a,c,d,e,g);f!=null&&this.logLatencies(d,f)};d.injectExtraResults=function(a,c,d){b("FacebarInviteCoworkers").insertInto(a,c,!d,this._single_state),b("FacebarSearchAllMessages").insertInto(a,c,!d)};d.logLatencies=function(a,c){var d=b("FacebarTimerUtils").getTimestamp();a?this.inform("remote_query_latency",{queryId:c.queryId,latencies:{queryStart:Math.max(c.startRemoteQuery-c.dispatchRemoteQuery,0),queryEnd:Math.max(c.endRemoteQuery-c.startRemoteQuery,0),keyPressToQueryDispatch:Math.max(c.dispatchRemoteQuery-c.keyPress,0),keyPressToQueryStart:Math.max(c.startRemoteQuery-c.keyPress,0),keyPressToQueryEnd:Math.max(c.endRemoteQuery-c.keyPress,0),render:Math.max(d-c.endRemoteQuery,0),inflightRequests:c.inflightRequests,waitingQueries:c.waitingQueries,keyPressToRender:Math.max(d-c.keyPress,0)}}):this.inform("cache_query_latency",{queryId:c.queryId,latencies:{queryStart:Math.max(c.startCacheQuery-c.keyPress,0),queryEnd:Math.max(c.endCacheQuery-c.startCacheQuery,0),keyPressToQueryEnd:Math.max(c.endCacheQuery-c.keyPress,0),render:Math.max(d-c.endCacheQuery,0),keyPressToRender:Math.max(d-c.keyPress,0)}})};d._updateMaxResults=function(){var a=this;b("queryThenMutateDOM")(function(){var c=b("Vector").getViewportDimensions().y,d=b("ViewportBounds").getTop()||42,e=56,f=48;c=c-d-f-25;a._maxResults=Math.max(a._numResults.min,Math.min(a._numResults.max,Math.floor(c/e)-1));a.value&&a.query(a.value)})};d.setUseCustomQueryId=function(a){this._useCustomQueryId=a};d.setCurQueryId=function(a){this._curQueryId=a};d.getCurQueryId=function(){return this._curQueryId};d.setMinQueryLength=function(a){this._minQueryLength=a};d.setGrammarOption=function(a){b("FacebarGlobalOptions").allowGrammar=a};d.getBootstrapMatches=function(a,c){var d=this;c===void 0&&(c=[]);var e=this.getRawStructure(b("FacebarStructuredText").fromString(a));a=this.resultStore.getBootstrapMatches(e,c);return a.map(function(a){return d.getEntry(d.toTypeaheadEntryUid(e,a))})};return c}(b("SearchDataSource"));Object.assign(a.prototype,{events:["query","respond","bootstrapped","activity","ready"]});e.exports=a}),null);
__d("FacebarRemoveRecentSearchDialog.react",["cx","fbt","AsyncRequest","BanzaiODS","FacebarTypeaheadRefreshNullstate","React","XTypeaheadDeleteRecentSearchController","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUINotice.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isDisabled:!1,showError:!1},d.$1=function(){b("BanzaiODS").bumpEntityKey(2966,"search.www.remove_recent_search.dialog","error"),d.setState({isDisabled:!1,showError:!0})},d.$2=function(){b("BanzaiODS").bumpEntityKey(2966,"search.www.remove_recent_search.dialog","remove");var a=b("XTypeaheadDeleteRecentSearchController").getURIBuilder().setString("recent_search",d.props.recentSearch).getURI();d.setState({isDisabled:!0});new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(){d.setState({isDisabled:!1}),b("FacebarTypeaheadRefreshNullstate").forceNullstateRefresh(d.props.onNullstateReadyAfterRemoval,d.$1)}).setErrorHandler(d.$1).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{children:[a.jsx(b("XUIDialogTitle.react"),{children:h._("Remove this search from your history?")}),a.jsxs(b("XUIDialogBody.react"),{children:[h._("You searched for this before. Removing {=[query]} from your history will remove it from your history across all devices.",[h._param("=[query]",a.jsx("strong",{children:h._("{query}",[h._param("query",this.props.recentSearch)])}))]),this.state.showError?b("React").jsx(b("XUINotice.react"),{use:"warn",className:"_3-8x",children:h._("Sorry, something went wrong. Please try again.")}):null]}),b("React").jsxs(b("XUIDialogFooter.react"),{children:[b("React").jsx(b("XUIDialogButton.react"),{label:h._("Cancel"),action:"cancel",disabled:this.state.isDisabled}),b("React").jsx(b("XUIDialogButton.react"),{label:h._("Remove"),className:"autofocus",use:"confirm",onClick:this.$2,disabled:this.state.isDisabled})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("FacebarTypeaheadInput",["csx","ArbiterMixin","DOM","FacebarStructuredText","Locale","SimpleStructuredInput","StructuredInput","mixin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={text:{className:"text",group:"all",select:"none"},ent:{className:"entity",group:"all",select:"group"},"ent:hashtag_exact":{className:"entity",group:"hashtag",select:"none"}};function i(a){return Object.assign(a.toStruct(),{display:h[a.getType()]||h[a.getTypePart(0)]})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.root=c;var e=b("DOM").scry(d.root,"._586i")[0];e?d.input=b("StructuredInput").getInstance(c):d.input=b("SimpleStructuredInput").getInstance(c);d.value=null;d.selection={offset:0,length:0};d.resetOnChange=!0;d.initEvents();return d}var d=c.prototype;d.initEvents=function(){var a=function(a,b){this.inform(a,b)}.bind(this);this.input.subscribe("blur",a);this.input.subscribe("focus",a);this.input.subscribe("change",function(a,b){this.resetOnChange&&(this.value=null),this.inform("change",b)}.bind(this))};d.togglePlaceholder=function(a){return this.input instanceof b("StructuredInput")?this.input.togglePlaceholder(a):null};d.focus=function(){this.input.focus()};d.blur=function(){this.input.blur()};d.getElement=function(){return this.root};d.getRawInputElement=function(){var a=b("DOM").scry(this.root,"._586i")[0];return a==null?b("DOM").scry(this.root,"._1frb")[0]:a};d.getValue=function(){this.value==null&&(this.value=b("FacebarStructuredText").fromStruct(this.input.getStructure()));return this.value};d.getLength=function(){return this.getValue().getLength()};d.resetPlaceholder=function(){this.input.resetPlaceholder()};d.setValue=function(a,b){this.value=a;this.resetOnChange=!!b;b=a.toArray().map(i);this.input.setStructure(b);this.input.setSelection({offset:a.getLength(),length:0});this.resetOnChange=!0};d.storeSelection=function(){this.selection=this.input.getSelection()};d.restoreSelection=function(){this.selection&&this.input.setSelection(this.selection)};d.clearSelection=function(){this.input.setSelection({offset:this.getLength(),length:0})};d.setHint=function(a){a=a&&!a.hasRTL()&&!b("Locale").isRTL()?a.toArray().map(i):[];this.input.setHint(a)};d.isSelectionAtEnd=function(){return this.input.isSelectionAtEnd()};d.selectInput=function(a){this.input.setSelection({offset:a||0,length:this.getLength()})};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{events:["change","focus","blur"]});e.exports=a}),null);
__d("FacebarTypeaheadCore",["csx","cx","invariant","Arbiter","ArbiterMixin","BanzaiODS","Base64","CSS","DOM","Event","FacebarGlobalOptions","FacebarJSConstants","FacebarKeywordSearchUtils","FacebarResultStoreUtils","FacebarStructuredText","FacebarTypeaheadInput","Keys","KeywordsSearchResultConfig","Parent","URI","WorkGalahadEntityKey","WorkGalahadLayoutUtils","WorkGalahadNavActions","WorkGalahadNavStore","WorkGalahadSearchActions","generateBrowseSessionID","getActiveElement","gkx","immutable","mixin","nullthrows","searchCometTypeaheadODSLogFocusEvent"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("WorkGalahadLayoutUtils").HeaderType,l;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.events=["session","focus","select","change","execute","blur","focusStartTime","open"];d._squashedEntityIDsByQuery=b("immutable").Map();d._ignoreNextBlur=!1;Object.assign(babelHelpers.assertThisInitialized(d),c);l=babelHelpers.assertThisInitialized(d);return d}var d=c.prototype;d.init=function(a,c,d){__p&&__p();if(window.getSelection===null)throw new Error("Facebar: window.getSelection is null!");this.init=function(){};this.data=a;this.view=c;this.root=d;this.facebarRoot=b("Parent").bySelector(d,"._585-");this.button=b("DOM").find(this.facebarRoot,"._4w98");this.windowFocused=!0;this.isFocused=!1;this.hoverAnimation=null;this.stickyQuery=null;this.settedQuery=null;this.selectedQuery=null;this.currentQuery=null;this.isSuggestionBagdeVisible=!1;this.initSubcomponents();this.initEvents();this.checkValue();this.checkSingleState();this.checkLocal();this.checkCategoryName()};d.initSubcomponents=function(){var a=b("DOM").find(this.root,"._5861");this.input=new(b("FacebarTypeaheadInput"))(a);this.view.setInputElement(this.input.getRawInputElement())};d.initEvents=function(){__p&&__p();var a=this,c;(c=b("Event")).listen(this.root,"keydown",this.keydown.bind(this));c.listen(this.root,"keyup",this.keyup.bind(this));c.listen(this.root.parentNode,"mousedown",this.mousedown.bind(this));this.view.onMousedown(this.viewMousedown.bind(this));c.listen(window,"focus",this.focusWindow.bind(this));c.listen(window,"blur",this.blurWindow.bind(this));this.view.subscribe("select",this.selectView.bind(this));this.view.subscribe("highlight",this.highlightView.bind(this));this.view.subscribe("render",this.highlightView.bind(this));this.input.subscribe("focus",this.focusInput.bind(this));this.input.subscribe("blur",this.blurInput.bind(this));this.input.subscribe("change",this.changeInput.bind(this));this.data.subscribe("activity",this.typeaheadActivity.bind(this));this.data.subscribe("respond",this.completeData.bind(this));this.data.subscribe("nullstateReady",this.performQueryIfVisible.bind(this));b("Arbiter").subscribe("FacebarTypeahead.clearRecentSearches",function(){return a.clearRecentSearches()});c.listen(this.button,"click",this.buttonDownOrClick.bind(this));c.listen(this.button,"mousedown",this.buttonDownOrClick.bind(this));c.listen(this.button,"mouseup",this.buttonUp.bind(this));setTimeout(this.initFocus.bind(this),0)};d.ignoreNextBlur=function(){this._ignoreNextBlur=!0};d.focus=function(){this.input.focus()};d.initFocus=function(){!this.lazyFocused&&b("DOM").contains(this.input.root,b("getActiveElement")())&&(this.lazyFocused=!0,this.isFocused=!0,this._newSession(),this.inform("focus",{catchup:!0}),this.open(!0))};d.setStartTime=function(a){this.inform("focusStartTime",{time:a})};d.cleanQuery=function(a){a=babelHelpers["extends"]({},a)||{};a.structure||(a.structure=new(b("FacebarStructuredText"))());(!b("FacebarGlobalOptions").allowGrammar||b("FacebarJSConstants").nonGrammarTypes[a.type])&&(a.structure=b("FacebarStructuredText").fromString(a.structure.toString()));a.structure instanceof b("FacebarStructuredText")||i(0,3869);return a};d._unlockQuery=function(){var a=this.input.getValue();a.hasType("ent")&&a.trim().getCount()===1&&(this.input.storeSelection(),this.input.setValue(b("FacebarStructuredText").fromString(a.toString())),this.input.restoreSelection())};d.setPageQuery=function(a){a=this.cleanQuery(a);var b=this.input.getValue(),c=a.structure;b=!c.isEmptyOrWhitespace()&&(b.isEmptyOrWhitespace()||!b.matches(c));return this.selectQuery(a,b)};d.selectQuery=function(a,b){b=b!==!1;a=this.cleanQuery(a);(b||!this.selectedQuery)&&((b||this.getValue().isEmptyOrWhitespace())&&this.setQuery(a),this.selectedQuery=a);return a};d.completeSelection=function(){var a=this.view.getSelection();if(a&&!a.search){this.data.saveResult(a);a.structure=a.structure.pad();this.setQuery(a);return!0}return!1};d.setQuery=function(a,c){c===void 0&&(c=!0),a=this.cleanQuery(a),a.structure.hasType("blank")&&(a.structure=new(b("FacebarStructuredText"))(a.structure.toArray().filter(function(a){return a.getType()!="blank"}))),this.input.setValue(a.structure),this.settedQuery=a,this.stickyQuery=c===!1?this.stickyQuery:a,this.checkValue(),this.checkSingleState(),this.checkLocal(),this.checkCategoryName()};d.checkValue=function(a){a===void 0&&(a=!1);if(!a&&this.value&&this.value.getHash()===this.input.getValue().getHash())return;this.performQueryIfVisible();this.showSearchSuggestionBadgeIfPossible()};d.showSearchSuggestionBadgeIfPossible=function(){this.isNullState()?!this.isSuggestionBagdeVisible&&this.data.resultStore.injectedSuggestionCount&&(b("Arbiter").inform("FacebarTypeahead.showSuggestionBadge"),this.isSuggestionBagdeVisible=!0):this.isSuggestionBagdeVisible&&(b("Arbiter").inform("FacebarTypeahead.hideSuggestionBadge"),this.isSuggestionBagdeVisible=!1)};d.checkSingleState=function(){var a=this.input.getValue();this.data.setSingleState(a.getCount()===1&&a.hasType("ent"))};d.checkLocal=function(){var a=this.input.getValue();this.data.setLocal(a.getCount()===1&&a.isLocal())};d.checkCategoryName=function(){var a=this.input.getValue();a.getCategoryName()!==null&&this.data.setCategoryName(a.getCategoryName())};d.isNullState=function(){return this.input.getValue().getHash()===""};d.performQueryIfVisible=function(){if(!this.view.visible)return;this.performQuery()};d.performQuery=function(){this.value=this.nextQuery=this.getValue(),this.view.resetIndex(),this.data.query(this.nextQuery),this.currentQuery=this.nextQuery};d.executeQuery=function(a){this._browseSessionID=b("generateBrowseSessionID")({appName:"www",edge:"keywords_search"});var c=this.isNullState();a=this.cleanQuery(a);this._setSquashedEntityIDsFromQuery(a);var d=this.inform("execute",a),e=this.getSessionID();this.close();b("FacebarGlobalOptions").allowGrammar?this.selectQuery(a):this.selectQuery();a.type!=="shortcut"&&(!c||a.isInjectedSuggestion)&&(a.isInjectedSuggestion&&(b("Arbiter").inform("FacebarTypeahead.removeInjectedSuggestion"),--this.data.resultStore.injectedSuggestionCount,this.performQuery()));d||this._navigateToQuery(a,e,a.csid)};d.getSearchType=function(){return"facebar"};d._newSession=function(){if(this._sessionID!=null)return;this._sessionID=Math.random().toString();this.inform("session",this._sessionID,"state")};d._closeSession=function(){this._sessionID=null,this.inform("session",null,"state")};d.getSessionID=function(){return this._sessionID};d.getBrowseSessionID=function(){return this._browseSessionID};d._navigateToQuery=function(a,c,d){__p&&__p();var e=this.data.facebarConfig;if(a.uri){a.uri.addQueryData(a.extra_uri_params);a.uri.addQueryData({ref:"br_tf"});var f=a.uid!=null&&a.uid.match(/^[0-9]+$/)!=null;if(a.structure&&(a.type=="websuggestion"||a.type==b("KeywordsSearchResultConfig").result_type||a.type=="grammar"&&(!e||String(a.uri.getPath()).startsWith(e.search_path))||f)){e=this.data.getRawStructure(a.structure).text_form;f=b("Base64").encode(encodeURIComponent(e)).replace(/\=+$/,"");e={sid:c,qs:f,gv:this.data.getQueryData().grammar_version,ent_ids:this.getSquashedEntityIDsFromQueryString(String(a)),bsid:this._browseSessionID,preloaded_entity_ids:null,preloaded_entity_type:null,ref:"br_tf",csid:null,high_confidence_argument:null,client_time_ms:Date.now()};d&&(e.csid=d);a.uri.addQueryData({ref:b("FacebarKeywordSearchUtils").encodeFacebarURIParams(e),bs:a.alternateSemantic})}a.uri.addQueryData({epa:"SEARCH_BOX"});if(a.type==="keyword"&&!a.isSeeMessages){c=b("WorkGalahadNavStore").getActiveEntityKeys();f=b("WorkGalahadLayoutUtils").getHeaderType(c);b("WorkGalahadNavActions").markPendingTransition({appTabID:"home",entityKeys:f!==k.SEARCH?[b("WorkGalahadEntityKey").forSearch("keywords_search")]:c,uri:b("nullthrows")(a.uri)})}b("WorkGalahadSearchActions").setQuery(a.text.toString());a.uri.go();return}};d.reset=function(){this.selectQuery(),this.inform("reset"),this.showSearchSuggestionBadgeIfPossible(),b("FacebarKeywordSearchUtils").clearSelectedTabInfo()};d.open=function(a){this.view.show(this.facebarRoot.offsetWidth),this.input.focus({catchup:a}),this.checkValue(!0),this.checkSingleState(),this.checkLocal(),this.checkCategoryName(),this.highlightButton(),this.isFocused||(this.isFocused=!0,this._newSession(),this.inform("focus")),this.inform("open",{catchup:a,sessionID:this._sessionID})};d.close=function(){__p&&__p();this._closeSession();if(this.inform("close")===!1)return;(!this.value||this.value.isEmptyOrWhitespace())&&this.selectedQuery?this.input.setValue(this.selectedQuery.structure):this.stickyQuery&&this.input.setValue(this.stickyQuery.structure);this.input.setHint(null);this.view.hide();this.view.setAutoSelect(!1);this.inform("session",null,"state");this.isFocused=!1;this.unlightButton()};d.getElement=function(){return this.root};d.getValue=function(){return this.input.getValue()};d.getText=function(){return this.getValue().toString()};d.submitQuery=function(a){__p&&__p();if(this.view.index<0){var c=this.input.getValue(),d=this.data.getRawStructure(c);if(d&&!d.is_empty){d=d.raw_text?d.raw_text:b("FacebarResultStoreUtils").getRawTextFromStructured(c.toArray());c=b("FacebarKeywordSearchUtils").makeFacebarEntry(d);c.position=a;this.inform("magSearch",c);this.executeQuery(c)}}else this.view.select()};d.keydown=function(a){__p&&__p();var c=!0,d=b("Event").getKeyCode(a);a.metaKey===!0&&(this.metaOnKeyDown=!0);this.isFocused||this.open();switch(d){case b("Keys").ESC:b("gkx")("817376")?(this.selectQuery(),this.view.highlight(-1)):this.input.blur();break;case b("Keys").UP:this.view.prev();break;case b("Keys").DOWN:this.view.next();break;case b("Keys").RETURN:var e=-2;this.submitQuery(e);break;case b("Keys").PAGE_UP:this.view.first();break;case 222:e=this.input.value.trim();!a.getModifierState("shift")&&e.endsOnType("ent")&&this.input.setValue(e);c=!1;break;default:if(b("gkx")("817376")&&this.input.value!=null&&this.input.value.toString()===""){if(d===b("Keys").LEFT||d===b("Keys").RIGHT){this.view.getSelection()==null?c=!1:d===b("Keys").LEFT?this.view.prevColumn():this.view.nextColumn();break}}else if(d===b("Keys").RIGHT){c=this.input.isSelectionAtEnd()&&this.completeSelection();break}e=d<=46&&d!==8&&d!==32;var f=d>=112&&d<=126,g=d===144||d===145;d=d===91||d===92||d===93||d===224;!e&&!f&&!g&&!a.metaKey&&!d&&(this.data.setSingleState(!1),this.data.setLocal(!1));this.stickyQuery=null;c=!1;break}this.input.storeSelection();c?(a.preventDefault(),a.stopPropagation()):b("gkx")("817376")&&this.view.highlight(-1)};d.keyup=function(a){var c=b("Event").getKeyCode(a),d=c<=46&&c!==8&&c!==32,e=c>=112&&c<=126,f=c===144||c===145;c=c===91||c===92||c===93||c===224;!d&&!e&&!f&&!a.metaKey&&!c&&!this.metaOnKeyDown&&this._unlockQuery();c||(this.metaOnKeyDown=!1)};d.mousedown=function(a){this.input.storeSelection()};d.viewMousedown=function(a){this.mousedown(a),a.preventDefault()};d.focusWindow=function(){this.windowFocused=!0};d.blurWindow=function(){this.windowFocused=!1};d.selectView=function(a,c){__p&&__p();if(!c||!c.selected)return;a=this.cleanQuery(c.selected);if(this.view.getCurrentColumnIndex()>0){var d=b("DOM").scry(c.element,'[role="gridcell"]')[this.view.getCurrentColumnIndex()];d=b("DOM").find(d,"a");d.click();return}this.inform("select",c);Boolean(c.skipExecuteQuery)||this.executeQuery(a)};d.highlightView=function(){var a=this.view.getSelection();this.input.setHint(a?a.structure:null)};d.blurInput=function(){var a=this;if(this._ignoreNextBlur){this._ignoreNextBlur=!1;return}setTimeout(function(){(a.windowFocused||(j||(j=b("URI"))).getRequestURI().getSubdomain()==="apps")&&(a.input.togglePlaceholder(),a.close())},0)};d.changeInput=function(){this.inform("change"),this.checkValue(),this.checkLocal(),this.inform("change_end")};d.focusInput=function(){b("BanzaiODS").bumpEntityKey(354,"www_global_ta","focused"),this.open(),this.input.togglePlaceholder(!1)};d.updateData=function(){this.view.setLoading(this.loading)};d.completeData=function(a,b){if(b.forceDisplay||this.value&&this.value.matches(b.value)){a=!b.results.length;this.view.render(b.value,b.results,b.isAsync,a);this.tabQueued&&this.completeSelection()&&delete this.tabQueued}};d.typeaheadActivity=function(a,b){this.fetching=b.activity,this.loading!==this.fetching&&(this.loading=this.fetching,this.updateData())};d.getNameTextFromSelected=function(){var a=this.settedQuery&&this.settedQuery.semantic,b=this.data.facebarConfig&&this.data.facebarConfig.name_functions;a=a&&b&&a.match(/[a-z-]+\([^()]+\)/g);if(a)for(var c=0;c<a.length;c++){var d=a[c].match(/([a-z-]+)\(([^()]+)\)/);if(d&&b.includes(d[1]))return d[2]}return this.value.toString()};d.clearRecentSearches=function(){this.data.resultStore.clearRecentSearches()};d.highlightButton=function(){b("CSS").addClass(this.button,"_4w97")};d.unlightButton=function(){b("CSS").matchesSelector(this.button,"._4w97")&&b("CSS").removeClass(this.button,"_4w97")};d.buttonDownOrClick=function(a){a.preventDefault()};d.buttonUp=function(){!this.isFocused?this.focusInput():this.submitQuery(-1)};d._setSquashedEntityIDsFromQuery=function(a){var b=[];a.itemLoggingInfo?a.itemLoggingInfo.kwEntIds?b=a.itemLoggingInfo.kwEntIds:a.itemLoggingInfo.kwEntId&&(b=[a.itemLoggingInfo.kwEntId]):a.entity_ids&&(b=a.entity_ids);this._squashedEntityIDsByQuery=this._squashedEntityIDsByQuery.set(a.text,b)};d.getSquashedEntityIDsFromQueryString=function(a){a=this._squashedEntityIDsByQuery.get(a);return a==null?[]:a};c.clearRecentSearches=function(){b("Arbiter").inform("FacebarTypeahead.clearRecentSearches")};c.getInstance=function(){return l};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("FacebarRemoveRecentSearchButton.react",["ix","cx","fbt","AbstractButton.react","AsyncRequest","BanzaiODS","DialogX","FacebarRemoveRecentSearchDialog.react","FacebarTypeaheadCore","FacebarTypeaheadRefreshNullstate","Image.react","LayerAutoFocusReact","LayerHideOnBlur","LayerStopMouseDown","React","XTypeaheadDeleteRecentSearchController","XUISpinner.react","asset","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React").useCallback,k=b("React").useRef,l=b("React").useState;function a(a){__p&&__p();var c=a.recentSearch,d=k(null);a=l(!1);var e=a[0],f=a[1],h=j(function(){d.current&&d.current.hide()},[]),m=j(function(){b("BanzaiODS").bumpEntityKey(2966,"search.www.remove_recent_search.dialog","hide");var a=b("FacebarTypeaheadCore").getInstance();a!=null&&a.focus()},[]),n=j(function(){b("BanzaiODS").bumpEntityKey(2966,"search.www.remove_recent_search.dialog","show");var a=new(b("DialogX"))({xui:!0,addedBehaviors:[b("LayerHideOnBlur"),b("LayerStopMouseDown"),b("LayerAutoFocusReact")],width:400},b("React").jsx(b("FacebarRemoveRecentSearchDialog.react"),{recentSearch:c,onNullstateReadyAfterRemoval:h}));a.subscribe("hide",function(){return m()});a.show();d.current=a},[m,h,c]),o=j(function(){b("BanzaiODS").bumpEntityKey(2966,"search.www.remove_recent_search.non_dialog","remove");f(!0);var a=b("XTypeaheadDeleteRecentSearchController").getURIBuilder().setString("recent_search",c).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(){b("FacebarTypeaheadRefreshNullstate").forceNullstateRefresh(h)}).setErrorHandler(function(){b("BanzaiODS").bumpEntityKey(2966,"search.www.remove_recent_search.non_dialog","error"),f(!1)}).send()},[h,c]);a=j(function(){if(b("qex")._("889795")){var a=b("FacebarTypeaheadCore").getInstance();a!=null&&a.ignoreNextBlur();n()}else o()},[o,n]);a=b("qex")._("889796")?b("React").jsx(b("AbstractButton.react"),{className:"_7u-1",href:"#",image:b("React").jsx(b("Image.react"),{src:g("499669")}),label:i._("REMOVE"),role:"link",onClick:a,labelIsHidden:!0}):b("React").jsx(b("AbstractButton.react"),{className:"_7h02",href:"#",label:i._("REMOVE"),role:"link",onClick:a});return b("React").jsx("div",{children:e?b("React").jsx(b("XUISpinner.react"),{className:"_7u-2",size:"small"}):a})}e.exports=a}),null);
__d("FacebarTypeahead",["Arbiter","Keys","Typeahead","WorkGalahadSearchOverlayEventEmitter","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h){__p&&__p();c=a.call(this,c,d,e,f)||this;c.getCore();c.proxyEvents();c.initBehaviors(g||[]);var i=c.core.subscribe("focus",function(){h&&h.init(this),this.core.unsubscribe(i),this.data.bootstrap(!1),this.core.input.focus()}.bind(babelHelpers.assertThisInitialized(c)));(d==null?void 0:(e=d.options)==null?void 0:e.isGalahadEnabled)&&Event.listen(f,"keydown",function(a){a.keyCode===b("Keys").TAB&&b("WorkGalahadSearchOverlayEventEmitter").emit("hide")});c.data.bootstrap(!0);c.inform("init",babelHelpers.assertThisInitialized(c),"persistent");b("Arbiter").inform("Facebar/init",babelHelpers.assertThisInitialized(c),"persistent");return c}var d=c.prototype;d.proxyEvents=function(){var a,b=[],c=null,d=function(){while(a=b.shift())this.inform(a[0],a[1]);c=null}.bind(this);[this.data,this.view,this.core].forEach(function(a){a.subscribe(a.events,function(a,e){b.push([a,e]),c=c||setTimeout(d,0)}.bind(this))},this)};return c}(b("Typeahead"));Object.assign(a.prototype,{init:b("emptyFunction")});e.exports=a}),null);
__d("FacebarTypeaheadRecorder",["Arbiter","CurrentUser","Event","FacebarGlobalOptions","FacebarJSConstants","FacebarTimerUtils","Keys","SearchFunnelLogger","SearchTypeaheadRecorder","URI","clickRefAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();b=a.call(this,b)||this;b.userText="";b.nullStateCandidates=null;b.singleStateCandidates=null;b.queryTimes={};b._sessionDisabled=!1;b.type="facebar";b._maxQueryID=0;b._isQueryMatch=!0;b._bootstrapSize=null;return b}var d=c.prototype;d.initEvents=function(a){__p&&__p();var c=this;a.getCore().subscribe("session",function(a,b){b===null?this.sessionEnd():this.sessionStart(b)}.bind(this));a.getCore().subscribe("select",function(a,b){this.recordStat("time_between_select_and_last_render",Date.now()-this._lastRenderTime),this._firstKeypressTime!=null&&this.recordStat("keypress_to_select_time",Date.now()-this._firstKeypressTime),this.recordSelectInfo(b)}.bind(this));a.getCore().subscribe("magSearch",function(a,b){this.recordMagSearch(b)}.bind(this));a.getCore().input.subscribe("shortcut",function(a,b){this.recordShortcut(b)}.bind(this));a.getCore().subscribe("quickSelectRedirect",function(a,b){this.recordQuickSelectInfo(b)}.bind(this));a.getView().subscribe("render",function(a,b){if(this.data._isInjectedSuggestionFlow)return;this.recordRender(b);this.allFromNullState?this.nullStateCandidates=this.buildListTypeaheadRecords():this.allFromSingleState&&(this.singleStateCandidates=this.buildListTypeaheadRecords());this._lastRenderTime=Date.now()}.bind(this));a.getView().subscribe("show",function(a,b){if(!this.data.lastNullOrSingleStateFetchStartTime)return;this.recordStat("time_render_null_state",Date.now()-this.data.lastNullOrSingleStateFetchStartTime);this.data.lastNullOrSingleStateFetchStartTime=null}.bind(this));a.getView().subscribe("logPerformanceTiming",function(a,b){c.performanceTimings[b.field]=b.value});a.data.subscribe("query",function(a,c){c.value.isEmpty()||this.recordCountStat("num_queries"),this.recordAvgStat("num_results_from_cache",c.results.length),this.queryTimes[c.queryId]={send:b("FacebarTimerUtils").getTimestamp()}}.bind(this));a.data.subscribe("sending_request",function(a,b){a=b.data.value;if(!a)return;this.backendQueries.push(a)}.bind(this));a.subscribe("navigation",function(a,b){b&&b.structure&&(this.recordStat("navigation_input",JSON.stringify(b.structure.toStruct())),this.recordStat("navigation_text",b.structure.toString()))}.bind(this));a.data.subscribe("response_received",function(a,c,d){if(this.queryTimes[c.queryId]){a=this.queryTimes[c.queryId];a.recv=b("FacebarTimerUtils").getTimestamp()-a.send;c&&c.payload&&(a.payload_size=JSON.stringify(c.payload).length)}}.bind(this));a.data.subscribe("remote_query_latency",function(a,b){if(this.queryTimes[b.queryId]){a=this.queryTimes[b.queryId];a.remoteQueryLatencies=b.latencies}}.bind(this));a.data.subscribe("cache_query_latency",function(a,b){if(this.queryTimes[b.queryId]){a=this.queryTimes[b.queryId];a.cacheQueryLatencies=b.latencies}}.bind(this));a.data.subscribe("backend_response",function(a,c){if(this.queryTimes[c.queryId]){a=this.queryTimes[c.queryId];a.render=b("FacebarTimerUtils").getTimestamp()-a.send;c.payload.incomplete&&(a.incomplete=!0);a.backendInfo=c.payload.info;this.core.scubaInfo&&this.logToScuba(c,a,this.core.scubaInfo,c.inputQuery,this.type)}}.bind(this));a.getCore().subscribe("change",function(a,b){this.userInput(this.core.getText())}.bind(this));a.data.subscribe("remote_query_match",function(a,b){this._maxQueryID<b.queryId&&(this._maxQueryID=b.queryId,this._isQueryMatch=b.isMatch)}.bind(this));b("Arbiter").subscribe("BrowseNUX/typing",this.disableThisSession.bind(this));b("Arbiter").subscribe("TestConsole/typing",this.disableThisSession.bind(this));a.subscribe("clear",function(){this.recordAppendStat("before_clear_queries",this.userText)}.bind(this));b("Event").listen(this.element,"keydown",function(a){this.recordStat("keypressed",1),this.recordCountStat("count_keys_pressed"),b("Event").getKeyCode(a)==b("Keys").BACKSPACE?this._backspacing||(this._backspacing=!0,this.recordAppendStat("before_backspace_queries",this.core.getText())):this._backspacing=!1,this._firstKeypressTime==null&&(this._firstKeypressTime=Date.now())}.bind(this));this.core.subscribe("open",function(a,c){c&&c.sessionID&&b("SearchFunnelLogger").logSearchOpen(c.sessionID);if(c&&c.catchup)return;this.data.lastNullOrSingleStateFetchStartTime=Date.now()}.bind(this));this.core.subscribe("focusStartTime",function(a,b){this.data.lastNullOrSingleStateFetchStartTime=b.time}.bind(this));this.data.subscribe("beforeQuery",function(a,b){this.queryStartTime||(this.queryStartTime=[]);a=b.value;this.query=a!=null?a.toString():a;!this.query&&!this.data.lastNullOrSingleStateFetchStartTime&&(this.data.lastNullOrSingleStateFetchStartTime=Date.now());this.queryStartTime[this.query]=Date.now()}.bind(this));a.subscribe("filter",function(a,b){this._unsupportedGrammarInfo=this.buildUnsupportedGrammarInfo(b)}.bind(this));a.getCore().subscribe("recordFunction",function(a,b){this._extraRecorder.push(b)}.bind(this));this.data.subscribe("bootstrapped",function(a,b){this._bootstrapSize=b.size}.bind(this))};d._reset=function(a){this.stats={},this.avgStats={},this.appendStats={},this._backspacing=!1,this.backendQueries=[],this._topreplace=!1,this._inflightRequests={}};d.sessionStart=function(a){__p&&__p();this._sessionEnded=!1;this.data.setQueryData({sid:a});this.recordStat("sid",a);this.recordStat("bootstrap_size",this._bootstrapSize);if(!this.stats.session_start_time){this.recordStat("session_start_time",b("FacebarTimerUtils").getTimestamp());a=new Date();a=a.getTimezoneOffset();a=Date.now()-a*60*1e3;this.recordStat("session_start_time_user_timezone",a)}this.recordStat("keypressed",0);this.queryTimes={};this._lastRenderTime=0;this._firstKeypressTime=null};d.sessionEnd=function(){__p&&__p();if(this._sessionEnded||this._sessionDisabled){this._sessionDisabled&&(this.reset(),this._sessionDisabled=!1,this._sessionEnded=!0);return}this._sessionEnded=!0;var a="typed";this.allFromNullState?a="nullstate":this.allFromSingleState&&(a="singlestate");this.recordStat("last_state",a);this.recordStat("session_end_time",b("FacebarTimerUtils").getTimestamp());this.recordStat("grammar_version",this.data.getQueryData().grammar_version);this.submit();this.nullStateCandidates=null;this.singleStateCandidates=null};d.disableThisSession=function(){this._sessionDisabled=!0};d.userInput=function(a){this.userText=a};d.buildUnsupportedGrammarInfo=function(a){a=a.results?a.results[0]:null;return!a||a.results_set_type!=="unimplemented"?null:{unsupported_grammar:{category:a.error_info.category||"unknown",edge:a.error_info.blamed_edge}}};d.buildTypeaheadRecord=function(a,c){__p&&__p();var d=a.rankType||a.render_type||a.type,e=a.keywordType,f=a.keywordSource;!a.isNullState&&d!==b("FacebarJSConstants").keywordType&&(e=d,b("CurrentUser").isWorkUser()||(d=b("FacebarJSConstants").keywordType),a.isJSBootstrapMatch&&(f=b("FacebarJSConstants").keywordTypes.entityBootstrap));a.isNullState&&d===b("FacebarJSConstants").keywordType&&(f=b("FacebarJSConstants").keywordTypes.recentSearch);var g=0;c=c;typeof a.groupIndex==="number"&&(g=a.groupIndex,c=a.indexInGroup);g={group_index:g,index_in_group:c,cost:a.cost,s_value:a.s_value||0,semantic:a.semantic,text:a.structure.toString(),cache_only:a.cacheOnlyResult?1:0,prefetched:a.isPrefetched?1:0,parse:a.parse,category:a.category,type:d,source:a.bootstrapped,grammar_results_type:(a.results_set_type||"").replace(/[\[\{](.*)[\]\}]/,"$1"),result_from_memcache:a.memcache,dynamic_cost:a.dynamic_cost,is_js_bootstrap_match:a.isJSBootstrapMatch,backend_cost:a.backendCost,bootstrap_cost:a.bootstrapCost,match_type:a.match_type,l_type:a.l_type,vertical_type:a.vertical_type,prefix_match:a.prefix_match,prefix_length:a.prefix_length,index_before_buckets:a.indexBeforeBuckets,bucket_lineage:a.bucketLineage,nullstate:a.isNullState,singlestate:a.isSingleState,query_id:a.qid,template_id:a.templateID,coeff_cost:typeof a.grammar_costs==="undefined"?-1:a.grammar_costs["{"+a.type+"}"],suggestion:a.isSuggestion,keyword_source:f,keyword_bootstrap_type:a.keywordBootstrapType,exact_match_suggestion:a.exactMatchKeyword?1:0,keyword_type:e};a.logInfo&&(g.backend_log_info=a.logInfo);a.s_token&&(g.s_token=a.s_token);a.s_categories&&(g.s_categories=a.s_categories);return g};d.buildListTypeaheadRecords=function(){var a=[];this.results&&this.results.forEach(function(b,c){b.uid!=="search"&&a.push(this.buildTypeaheadRecord(b,c))}.bind(this));return a};d.recordShortcut=function(a){this.recordStat("shortcut",1),this.recordStat("shortcut_with_shift",a.shift)};d.recordStats=function(a,b){for(var c in b)this.recordStat(a+"_"+c,b[c])};d.getTypeaheadIndex=function(a,b){a=typeof a.groupIndex==="number"?a.groupIndex+1:0;return b-a};d.recordQuickSelectInfo=function(a){a={input_query:a.input_query,semantic:a.semantic,type:a.type,position:a.position,with_mouse:a.with_mouse,text:a.text,quick_select:1};this.recordStats("selected",a);this.recordStat("quick_select",1)};d.recordMagSearch=function(a){var b={};b.text=a.text;b.semantic=a.semantic;b.type=a.type;b.input_query=a.text;b.position=a.position;this.recordStats("selected",b)};d.recordSelectInfo=function(a){__p&&__p();var c=a.selected,d=this.getTypeaheadIndex(c,a.index),e={};if(c.uid=="search")e.selected_search=1;else{e=this.buildTypeaheadRecord(c);var f=e.type=="friend"?"user":e.type;e.position=d;e[f]=1}e.with_mouse=a.clicked?1:0;e.quick_select=0;e.input_query=this.userText;e.input_fragments=JSON.stringify(this.core.currentQuery.toStruct());d=c.dataGT?{gt:JSON.parse(c.dataGT)}:{};f={href:c.path};b("clickRefAction")("click",f,null,null,d);this.recordStats("selected",e);this.recordAppendStat("selection_history",{selected:e,candidate_results:this.buildListTypeaheadRecords(),timestamp:b("FacebarTimerUtils").getTimestamp()});var g={};this._extraRecorder.forEach(function(b){b(a,this.results,g)}.bind(this));this.recordStat("extra_select_info",JSON.stringify(g));this.recordStat("selected_with_mouse",a.clicked?1:0)};d._dataToSubmit=function(){__p&&__p();this.recordStat("max_results",this.data._maxResults);this.stats&&this.stats.selected_input_query?this.recordStat("input_query",this.stats.selected_input_query):this.recordStat("input_query",this.userText);this.recordStat("uri",new(g||(g=b("URI")))(window.location.href).toString());this.stats.shortcut||(this.recordStat("shortcut",0),this.recordStat("shortcut_with_shift",!1));var a=this.stats;for(var c in this.avgStats){var d=this.avgStats[c];a[c]=d[0]/d[1]}d={candidate_results:this.buildListTypeaheadRecords(),timestamp:b("FacebarTimerUtils").getTimestamp(),input_query:this.userText,remote_query_match:this._isQueryMatch};this._unsupportedGrammarInfo&&Object.assign(d,this._unsupportedGrammarInfo);this.recordAppendStat("suggestions_at_end_of_session",d);this.nullStateCandidates&&this.recordAppendStat("suggestions_at_nullstate_session",{candidate_results:this.nullStateCandidates});this.singleStateCandidates&&this.recordAppendStat("suggestions_at_singlestate_session",{candidate_results:this.singleStateCandidates});this.recordAppendStat("query_times",this.queryTimes);this.backendQueries.length>0&&(this.backendQueries.length>this.data.logBackendQueriesWindow&&(this.backendQueries=this.backendQueries.slice(this.backendQueries.length-this.data.logBackendQueriesWindow)),this.recordStat("backend_queries",this.backendQueries));if(b("FacebarGlobalOptions").taSessionLoggingSample){var e=[];this.results.forEach(function(a){e.push([a.text||"",a.category||"",a.subtext||""])});this.recordStat("raw_suggestions_text",e)}this.recordStat("experience_type","gsv2");for(var f in this.appendStats)a[f]=JSON.stringify(this.appendStats[f]);return a};d.getDataToSubmit=function(){return this._dataToSubmit()};d.reset=function(){return this._reset()};d.submit=function(){this._sessionDisabled||a.prototype.submit.call(this),this.view.inform("feedback"),this._reset()};return c}(b("SearchTypeaheadRecorder"));Object.assign(a.prototype,{_sessionEnded:!0,_extraRecorder:[],_banzaiRoute:"facebar"});e.exports=a}),null);
__d("FacebarTypeaheadView",["csx","cx","fbt","Arbiter","ContextualLayer","ContextualLayerUpdateOnScroll","CSS","DOM","FacebarGlobalOptions","FacebarJSConstants","FacebarStructuredText","FacebarTypeaheadGSV2List.react","Parent","React","ReactDOM","ScriptPath","Style","SubscriptionList","TypeaheadView","performanceNow"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k="unimplemented";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;e.handleClearHighlight=function(){e.highlight(e.getDefaultIndex(),!1)};e.handleHighlight=function(a){e.highlight(e.getIndexOf(a,e.results),!1),e.resetColumn()};e.handleSelect=function(a){e.handleHighlight(a),e.select(!0)};e.handleRender=function(){e.items=e.getItems()};e.isGalahadEnabled=Boolean(d.isGalahadEnabled);e.isNewClassicSearch=Boolean(d.isNewClassicSearch);e.element=c;e.sid="";e.index=-1;e.warningShown=!1;e.autoSelect=!1;e.flipCount=0;e.loading=!1;e.events=["highlight","render","filter","show"];e.mousedownSubscriptions=new(b("SubscriptionList"))();return e}var d=c.prototype;d.init=function(){this.initializeElements()};d.onMousedown=function(a){this.mousedownSubscriptions.add(a)};d.initGSV2Elements=function(){this.element,this.results=[],this.keywordResults=[],this.entityResults=[]};d.initializeElements=function(){var a=this,c=this.element;Event.listen(this.element,"mousedown",function(b){return a.mousedownSubscriptions.fireCallbacks(b)});this.content=b("DOM").find(c,"._21r");this.warningNode=b("DOM").find(c,"._553e");this.resultsContainer=b("DOM").create("div");this.initGSV2Elements()};d.initializeList=function(){this.renderTypeaheadList(),this.content.appendChild(this.resultsContainer)};d.initializeLayer=function(){this.layer=new(b("ContextualLayer"))({context:b("Parent").bySelector(this.causalElement,"._585-"),position:"below",causalElement:this.causalElement,shouldSetARIAProperties:!1,"data-testid":"search_typeahead_view"},this.element).enableBehavior(b("ContextualLayerUpdateOnScroll"));var a=this.layer.getRoot();a.setAttribute("role","grid");a=this.layer.getContentRoot();this.root=b("DOM").find(a,"._50c9");b("CSS").addClass(a,"_5tlx");b("CSS").addClass(a,"_5xzd");this.wrapper=a};d.setInputElement=function(a){this.setAccessibilityControlElement(a),this.causalElement=a,this.isGalahadEnabled||this.initializeLayer(),this.initializeList()};d.setAutoSelect=function(a){this.autoSelect=a,this.index===-1&&a&&this.first()};d.getIndexOf=function(a,b){for(var c=0;c<b.length;c++)if(a.semantic===b[c].semantic&&a.isSeeMore===b[c].isSeeMore&&a.text===b[c].text)return c;return-1};d.getDefaultIndex=function(){return-1};d.show=function(c){if(!this.visible){this.isGalahadEnabled||(this.inform("beforeShow",this.layer),b("Style").set(this.wrapper,"minWidth",c+"px"));c=a.prototype.show.call(this);this.first();this.isGalahadEnabled||(this.layer.show(),this.layer.updatePosition());this.inform("show");b("Arbiter").inform("layer_shown",{type:"FacebarTypeahead"});return c}};d.hide=function(){this.visible&&(this.isGalahadEnabled||this.layer.hide(),a.prototype.hide.call(this),this.inform("hide"),b("Arbiter").inform("layer_hidden",{type:"FacebarTypeahead"}),this.flipCount=0);return this};d.select=function(c){var d=this.results&&this.results[this.index];if(!d){this.inform("quickSelect");return}d=this.inform("beforeSelect",{index:this.index,selected:d});d!==!1&&(b("ScriptPath").setClickPointInfo({click:"Search"}),a.prototype.select.call(this,c))};d.processGSV2Results=function(a){var b=this;this.keywordResults=[];this.entityResults=[];var c=[],d=[],e=[],f=a.some(function(a){return a.isSingleState});a.forEach(function(a){b.entityResults.push(a)});f&&(this.keywordResults=e.concat(d.concat(c)));return this.keywordResults.concat(this.entityResults)};d.buildResultsData=function(a,b){__p&&__p();var c=String(this.value);a.forEach(function(a){a.query_string=c});this.results=a;this.results=this.processGSV2Results(a);if(this.seeMoreResult){a=this.results.indexOf(this.seeMoreResult);a>-1&&this.results.splice(a,1);this.seeMoreResult=null}!this.isNullState()&&!b&&(this.seeMoreResult=this.inform("seeMore",{value:c,results:this.results}),this.seeMoreResult&&(this.isGalahadEnabled?this.results.unshift(this.seeMoreResult):this.results.push(this.seeMoreResult),this.inform("afterSeeMore",{results:this.results})))};d.buildResultsNoRegeneration=function(a,c){this.buildResultsData(a,c);a=(j||(j=b("performanceNow")))();this.renderTypeaheadList({results:this.results,loading:this.loading});this.inform("logPerformanceTiming",{field:"build_results_set_props_duration",value:j()-a})};d.buildResults=function(a){var b=a.some(function(a){return a.isSingleState});this.buildResultsNoRegeneration(a,b);return this.resultsContainer};d.getGSV2Items=function(){return a.prototype.getItems.call(this).filter(function(a){return!b("CSS").matchesSelector(a,"._3su")})};d.getItems=function(){return this.getGSV2Items()};d.render=function(c,d,e,f){this.inform("filter",{results:d,value:c});var g=!c||c instanceof b("FacebarStructuredText")&&c.isEmptyOrWhitespace();this.isGalahadEnabled||b("CSS").conditionClass(this.wrapper,"_5qz2",!d.length&&g);var h=d[0];f&&!g||(h&&h.results_set_type===k?h.error_info.suppress||this.showWarning(h.error_info.errorMessage||i._("This search isn't currently supported.")):this.hideWarning());d=d.filter(function(a){return a.results_set_type!==k});a.prototype.render.call(this,c,d,e)};d.reset=function(){this.index=-1;this.items=[];this.results=[];this.value="";this.buildResults([]);this.inform("reset");return this};d.resetIndex=function(){this.index=this.getDefaultIndex()};d.showWarning=function(a){b("CSS").show(this.warningNode),b("DOM").setContent(this.warningNode,a),this.warningShown=!0,this.highlight(-1,!1)};d.hideWarning=function(){b("CSS").hide(this.warningNode),this.warningShown=!1,this.highlight(this.index,!1)};d.setLoading=function(a){this.loading!=a&&(this.loading=a,this.renderTypeaheadList({results:this.results,loading:a}))};d.first=function(){this.index=this.autoSelect?0:-1,this.highlight(this.index)};d.prev=function(){(this.index<0||this.index===0&&this.autoSelect)&&(this.index=this.items.length),this.ignoreMouseover=!0,a.prototype.prev.call(this)};d.next=function(){this.autoSelect&&this.index>=this.items.length-1&&(this.index=-1),this.ignoreMouseover=!0,a.prototype.next.call(this)};d.$FacebarTypeaheadView1=function(a,b){var c=this.results.length-1;a>c?a=-1:a<-1&&(a=c);this.index=a;c={controlledHighlight:!0,highlightedResult:this.results[this.index],loading:this.loading,results:this.results};b&&this.inform("highlight",{index:a,selected:this.results[a]});this.visible&&this.renderTypeaheadList(c)};d.highlight=function(b,c){if(this.isNewClassicSearch)this.$FacebarTypeaheadView1(b,c!==!1);else{c=c!==!1&&this.index!==b;var d=this.warningShown||!this.autoSelect?-1:0;a.prototype.highlight.call(this,Math.max(d,b),c)}};d.isNullState=function(){return!String(this.value).trim()};d.copyProps=function(a){return babelHelpers["extends"]({accessibilityElement:this.accessibilityElement,onClearHighlight:this.handleClearHighlight,onHighlight:this.handleHighlight,onRender:this.handleRender,onSelect:this.handleSelect},a)};d.renderGSV2TypeaheadList=function(a,c){b("ReactDOM").render(b("React").jsx(b("FacebarTypeaheadGSV2List.react"),{results:this.results,listProps:a,keywordResults:this.keywordResults,entityResults:this.entityResults,seeMoreResult:this.seeMoreResult,isNewClassicSearch:this.isNewClassicSearch,isNullState:this.isNullState(),accessibilityElement:this.accessibilityElement,onClearHighlight:this.handleClearHighlight,onHighlight:this.handleHighlight,onRender:this.handleRender,onSelect:this.handleSelect}),c)};d.renderTypeaheadList=function(a){a=a||{},this.renderGSV2TypeaheadList(a,this.resultsContainer)};return c}(b("TypeaheadView"));e.exports=a}),null);
__d("FacebarTypeaheadBrowsePreload",["AsyncRequest","XWarmUserRequestArgsController","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this._core=a.core,this._typeahead=a}var c=a.prototype;c.enable=function(){this._core.subscribe("execute",this.preloadOnNavigate.bind(this))};c.preloadOnNavigate=function(a,c){if(c.type==="keyword"){a=b("XWarmUserRequestArgsController").getURIBuilder().setString("query",String(c.text));c.csid&&a.setString("csid",String(c.csid));new(b("AsyncRequest"))().setURI(a.getURI()).setAllowCrossPageTransition(!0).setOption("suppressErrorAlerts",!0).send()}};c.disable=function(){b("emptyFunction")()};return a}();e.exports=a}),null);
__d("FacebarTypeaheadInjectedSuggestion",["csx","cx","fbt","Arbiter","DOM"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=3,k=0,l;a=function(){__p&&__p();function a(a){this.core=a.getCore(),this.$1=this.core.view}var c=a.prototype;c.enable=function(){var a=this,c;(c=b("Arbiter")).subscribe("FacebarTypeahead.injectedSuggestion",function(){return a.addSuggestionTextToSearchBox()});c.subscribe("FacebarTypeahead.removeInjectedSuggestion",function(){return a.removeSuggestionTextToSearchBox()});c.subscribe("FacebarTypeahead.showSuggestionBadge",function(){return a.showSuggestionBadge(!0)});c.subscribe("FacebarTypeahead.hideSuggestionBadge",function(){return a.showSuggestionBadge(!1)})};c.disable=function(){this.$2.unsubscribe()};c.showSuggestionBadge=function(a){var c=b("DOM").scry(this.core.getElement(),"._5861")[0];if(c){c=c.getElementsByClassName("injectedSearchSuggestion")[0];if(!c)return;a?c.style.visibility="visible":c.style.visibility="hidden"}};c.removeSuggestionTextToSearchBox=function(){__p&&__p();if(!k)return;--k;if(!k){var a=b("DOM").scry(this.core.getElement(),"._5861")[0],c=a.getElementsByClassName("injectedSearchSuggestion")[0];a.removeChild(c)}else if(l){a=i._({"suggestion":"{suggestionCount} new suggestion","suggestions":"{suggestionCount} new suggestions"},[i._param("suggestionCount",k),i._enum(k===1?"suggestion":"suggestions",{suggestion:"suggestion",suggestions:"suggestions"})]);l.innerText=a}};c.addSuggestionTextToSearchBox=function(){__p&&__p();if(k)l&&k<j&&(l.innerText=k+1+" new suggestions");else{var a=b("DOM").scry(this.core.getElement(),"._5861")[0];if(a){l=document.createElement("DIV");var c=document.createTextNode("1 new suggestion");l.style.cssFloat="right";l.appendChild(c);c=document.createElement("DIV");c.className="_586j injectedSearchSuggestion";c.appendChild(l);a.appendChild(c)}}k+=1};return a}();e.exports=a}),null);