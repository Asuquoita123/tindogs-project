if (self.CavalryLogger) { CavalryLogger.start_js(["DKSjV"]); }

__d("CampfireCharacters",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({EMBED:"\ud83d\uddbc",PHOTO:"\ud83d\udcf7",VIDEO:"\ud83d\udcf9"});e.exports=a}),null);
__d("calculateMenuTop",["DOMVector","Style"],(function(a,b,c,d,e,f){__p&&__p();function c(c,d){__p&&__p();var e=a.getSelection(),f=e.anchorNode;e=e.focusNode;if(f===null||e===null)return null;c=c.getIsBackward()?e:f;while(c&&(!c.getAttribute||!c.getAttribute("data-block")))c=c.parentNode;if(!c)return null;e=b("DOMVector").getElementPosition(c,"viewport").y;f=b("DOMVector").getElementPosition(d,"viewport").y;d=b("Style").getFloat(c,"paddingTop");c=b("Style").getFloat(c,"lineHeight");e=e+d+c/2;return Math.floor(e-f)}e.exports=c}),null);
__d("GroupsComposerNuxTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({DRAFT:5047,SCHEDULE:4670,FORMATTED_POSTS:7032});e.exports=a}),null);
__d("XNotesUserEmbedsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/composer/embeds/",{original_src:{type:"String",required:!0}})}),null);
__d("NotesEmbed.react",["cx","fbt","ActorURI","AsyncRequest","CurrentUser","Keys","React","XNotesUserEmbedsController","XUIButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","XUITextInput.react","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={error:null,loading:!1,src:""},d.$1=function(){d.refs.src.focusInput()},d.$2=function(){__p&&__p();if(d.state.loading)return;if(d.state.src.trim()===""){d.setState({error:"Please enter a URL."},d.$1);return}var a=function(){var a=b("XNotesUserEmbedsController").getURIBuilder().setString("original_src",d.state.src).getURI();a=b("ActorURI").create(a,d.props.ownerID);new(b("AsyncRequest"))(a).setHandler(function(a){a=a.getPayload();a=a.embedData;d.props.onEmbed(a);d.props.onClose()}).setErrorHandler(function(a){a=a.errorDescription;d.setState({error:a,loading:!1},d.$1)}).send()};d.setState({loading:!0},a)},d.$3=function(a){d.setState({error:null,src:a.target.value})},d.$4=function(a){switch(a.which){case b("Keys").RETURN:a.preventDefault(),d.$2()}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){setTimeout(this.$1,0)};d.render=function(){var a,c=h._("Paste in the URL for the media you want to insert into your note...");return(a=b("React")).jsxs("div",{children:[a.jsx(b("XUIDialogTitle.react"),{children:h._("Embed photos, videos, and more")}),a.jsxs(b("XUIDialogBody.react"),{children:[a.jsx(b("XUITextInput.react"),{className:"_ipd",onChange:this.$3,onKeyDown:this.$4,placeholder:c,ref:"src",xuiError:this.state.error}),a.jsx(b("XUIText.react"),{className:"_ipe",display:"block",children:b("CurrentUser").isWorkUser()?h._("We currently support embedding from Facebook, Workplace, Giphy, Instagram, SoundCloud, Twitter, Vimeo, Vine, and YouTube."):h._("We currently support embedding from Facebook, Giphy, Instagram, SoundCloud, Twitter, Vimeo, Vine, and YouTube.")})]}),b("React").jsx(b("XUIDialogFooter.react"),{children:b("React").jsx(b("XUIButton.react"),{disabled:this.state.loading,label:h._("Insert"),onClick:this.$2,use:"confirm"})})]})};return c}(b("React").Component);a.propTypes={onClose:b("prop-types").func.isRequired,onEmbed:b("prop-types").func.isRequired,ownerID:b("prop-types").string.isRequired};e.exports=a}),null);
__d("NotesEmbedDialog",["DialogX","NotesEmbed.react","React","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){var c=this;this.$2=a.onEmbed;this.$3=a.onEmbedCancel||b("emptyFunction");this.$4=a.ownerID;this.$1=new(b("DialogX"))({width:500},b("React").jsx(b("NotesEmbed.react"),{onClose:function(){return c.hide()},onEmbed:this.$2,ownerID:this.$4}));this.$1.subscribe("cancel",function(){return c.$3()})}var c=a.prototype;c.hide=function(){this.$1.hide()};c.show=function(){this.$1.show()};return a}();e.exports=a}),null);
__d("XNotesUserPhotosController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/composer/photos/",{thumb_height:{type:"Int",required:!0},thumb_width:{type:"Int",required:!0}})}),null);
__d("NotesPhotoPicker.react",["ix","cx","fbt","glyph","ActorURI","AsyncRequest","CssBackgroundImage.react","FileInput.react","Grid.react","Image.react","React","ScrollableArea.react","XNotesUserPhotosController","XUIButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","getObjectValues","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=b("Grid.react").GridItem,l=338,m=116,n=149;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={photoData:null},d.renderThumbnailGrid=function(){if(!d.state.photoData)return b("React").jsx("div",{className:"_5tki",style:{height:l+"px"},children:b("React").jsx(b("XUISpinner.react"),{className:"_5tkj",size:"large"})});var a=b("getObjectValues")(d.state.photoData).map(function(a){var c=function(){d.props.onPhotoPicked(a),d.props.onClose()};return b("React").jsx(k,{onClick:c,children:b("React").jsx("div",{className:"_5tkk",children:b("React").jsx(b("CssBackgroundImage.react"),{imageURI:a.thumbnailSrc,className:"_5tkl",height:m+"px",width:n+"px"})})},"thumbnail_"+a.originalPhotoData.id)});return b("React").jsx(b("Grid.react"),{cols:4,spacing:"_2phz",children:a})},d.onFileInputChange=function(a){d.props.onPhotoUpload(a.target),d.props.onClose()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this,c=b("XNotesUserPhotosController").getURIBuilder().setInt("thumb_height",m).setInt("thumb_width",n).getURI();c=b("ActorURI").create(c,this.props.ownerID);new(b("AsyncRequest"))(c).setHandler(function(b){b=b.payload.photoData;b&&a.setState({photoData:b})}).send()};d.render=function(){var a=i._("Add Photo To Note");this.props.isDoc?a=i._("Add Photo To Doc"):this.props.isPageStory&&(a=i._("Add Photo To Story"));return b("React").jsxs("div",{children:[b("React").jsx(b("XUIDialogTitle.react"),{children:a}),b("React").jsx(b("XUIDialogBody.react"),{className:"_5tkf",children:b("React").jsx(b("ScrollableArea.react"),{height:l,shadow:!1,children:this.renderThumbnailGrid()})}),b("React").jsxs(b("XUIDialogFooter.react"),{children:[b("React").jsx(b("FileInput.react"),{name:"file",onChange:this.onFileInputChange,accept:"image/*",children:b("React").jsx(b("XUIButton.react"),{image:b("React").jsx(b("Image.react"),{src:g("101456")}),href:{url:"#"},label:i._("Upload New Photo")})}),b("React").jsx(b("XUIButton.react"),{className:"_5tkg layerCancel",label:i._("Close"),use:"confirm"})]})]})};return c}(b("React").Component);a.propTypes={onClose:(c=b("prop-types")).func.isRequired,onPhotoPicked:c.func.isRequired,onPhotoUpload:c.func.isRequired,isDoc:c.bool,isPageStory:c.bool};e.exports=a}),null);
__d("NotesPhotoPickerDialog",["invariant","DialogX","NotesPhotoPicker.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=null,this.$2=a.onPhotoPicked,this.$3=a.onPhotoUpload,this.$4=a.onPhotoCancel||b("emptyFunction"),this.$5=a.ownerID,this.$6=a.isDoc,this.$7=a.isPageStory,this.$6&&this.$7&&g(0,5153)}var c=a.prototype;c.hide=function(){this.$1&&this.$1.hide()};c.show=function(){var a=this;this.$1||(this.$1=new(b("DialogX"))({width:690},b("React").jsx(b("NotesPhotoPicker.react"),{onClose:function(){return a.hide()},onPhotoPicked:this.$2,onPhotoUpload:this.$3,ownerID:this.$5,isDoc:this.$6,isPageStory:this.$7})),this.$1.subscribe("cancel",function(){return a.$4()}));this.$1.show()};return a}();e.exports=a}),null);
__d("XNotesUserVideosController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notes/composer/videos/",{is_from_cover:{type:"Bool",defaultValue:!1}})}),null);
__d("NotesVideoPicker.react",["cx","fbt","ActorURI","AsyncRequest","Grid.react","React","ScrollableArea.react","XNotesUserVideosController","XUIDialogBody.react","XUIDialogTitle.react","XUISpinner.react","cssURL","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("Grid.react").GridItem,j=400;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={videoData:null},d.renderThumbnailGrid=function(){if(!d.state.videoData)return b("React").jsx("div",{className:"_29vm",children:b("React").jsx(b("XUISpinner.react"),{className:"_29vo",size:"large"})});var a=Object.keys(d.state.videoData).map(function(a,c){var e=d.state.videoData[a];c=function(){d.props.onVideoPicked(e),d.props.onClose()};return(a=b("React")).jsxs(i,{onClick:c,children:[a.jsx("div",{className:"_29vp",children:a.jsx("div",{className:"_29vq",style:{backgroundImage:b("cssURL")(e.posterSrc)}})}),a.jsx("div",{className:"_29vr",children:e.title})]},"thumbnail_"+e.id)});return b("React").jsx(b("Grid.react"),{cols:2,spacing:"_2phz",children:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this,c=b("XNotesUserVideosController").getURIBuilder().getURI();c=b("ActorURI").create(c,this.props.ownerID);new(b("AsyncRequest"))(c).setHandler(function(b){b=b.getPayload().videoData;b&&a.setState({videoData:b})}).send()};d.render=function(){var a;return(a=b("React")).jsxs("div",{children:[a.jsx(b("XUIDialogTitle.react"),{children:h._("Add Video")}),a.jsx(b("XUIDialogBody.react"),{className:"_29vl",children:a.jsx(b("ScrollableArea.react"),{height:j,shadow:!1,children:this.renderThumbnailGrid()})})]})};return c}(b("React").Component);a.propTypes={onClose:b("prop-types").func.isRequired,onVideoPicked:b("prop-types").func.isRequired};e.exports=a}),null);
__d("NotesVideoPickerDialog",["DialogX","NotesVideoPicker.react","React","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=null,this.$2=a.onVideoPicked,this.$3=a.onVideoCancel||b("emptyFunction"),this.$4=a.ownerID}var c=a.prototype;c.hide=function(){this.$1&&this.$1.hide()};c.show=function(){var a=this;this.$1||(this.$1=new(b("DialogX"))({width:690},b("React").jsx(b("NotesVideoPicker.react"),{onClose:function(){return a.hide()},onVideoPicked:this.$2,ownerID:this.$4})),this.$1.subscribe("cancel",function(){return a.$3()}));this.$1.show()};return a}();e.exports=a}),null);
__d("ReactComposerEventAttachmentSelector.react",["ix","AsyncRequest","Bootloader","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){var h=g("40536");c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerEventAttachmentSelector",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{icon:(a=b("prop-types")).any,isInMoreButton:a.bool,label:a.node.isRequired,createEventURI:a.string.isRequired},render:function(){return b("React").jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").EVENT,label:this.props.label,icon:this.props.icon||h,"data-testid":"create-event-attachment-selector",onSelected:this._onSelected,loggingName:b("ReactComposerLoggingName").EVENT_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?"-1":void 0})},_onSelected:function(){var a=this;b("Bootloader").loadModules(["AsyncDialog"],function(c){var d=new(b("AsyncRequest"))(a.props.createEventURI).setMethod("POST").setStatusElement(a.context.composerID);c.send(d)},"ReactComposerEventAttachmentSelector.react")}});e.exports=c}),null);
__d("LivingRoomComposerActions",["LivingRoomComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={enablePostButton:function(){var a={type:"ENABLE_POST_BUTTON"};b("LivingRoomComposerDispatcher").dispatch(a)},queueVideo:function(a){a={type:"QUEUE_VIDEO",video:a};b("LivingRoomComposerDispatcher").dispatch(a)},removeVideo:function(a){a={type:"REMOVE_VIDEO",video:a};b("LivingRoomComposerDispatcher").dispatch(a)},removeUnownedVideo:function(a,c){a={type:"REMOVE_UNOWNED_VIDEOS",composerID:a,ownerID:c};b("LivingRoomComposerDispatcher").dispatch(a)},removeUnmonetizableVideos:function(a){a={type:"REMOVE_UNMONETIZABLE_VIDEOS",ownerID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoDialogShown:function(a){a={type:"SET_ADD_VIDEO_DIALOG_SHOWN",shown:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoDialogTab:function(a){a={type:"SET_ADD_VIDEO_DIALOG_TAB",tab:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoInputSearchQuery:function(a){a={type:"SET_ADD_VIDEO_INPUT_SEARCH_QUERY",query:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoSubmittedSearchQuery:function(a){a={type:"SET_ADD_VIDEO_SUBMITTED_SEARCH_QUERY",query:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoSelectedPage:function(a){a={type:"SET_ADD_VIDEO_SELECTED_PAGE",page:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoSelectedVideo:function(a){a={type:"SET_ADD_VIDEO_SELECTED_VIDEO",video:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoSelectedVideoList:function(a){a={type:"SET_ADD_VIDEO_SELECTED_VIDEO_LIST",video:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAutoPlayState:function(a){a={type:"SET_AUTO_PLAY_STATE",autoPlayEnabled:a};b("LivingRoomComposerDispatcher").dispatch(a)},clearAddVideoSearchQueries:function(){var a={type:"CLEAR_ADD_VIDEO_SEARCH_QUERIES"};b("LivingRoomComposerDispatcher").dispatch(a)},clearAddVideoSelectedPage:function(){var a={type:"CLEAR_ADD_VIDEO_SELECTED_PAGE"};b("LivingRoomComposerDispatcher").dispatch(a)},setBackgroundImage:function(a,c){a={type:"SET_BACKGROUND_IMAGE",backgroundImage:a,backgroundImageURL:c};b("LivingRoomComposerDispatcher").dispatch(a)},clearAddVideoSelectedVideo:function(){var a={type:"CLEAR_ADD_VIDEO_SELECTED_VIDEO"};b("LivingRoomComposerDispatcher").dispatch(a)},clearAddVideoSelectedVideoList:function(){var a={type:"CLEAR_ADD_VIDEO_SELECTED_VIDEO_LIST"};b("LivingRoomComposerDispatcher").dispatch(a)},setContentQueueDialogShown:function(a){a={type:"SET_CONTENT_QUEUE_DIALOG_SHOWN",shown:a};b("LivingRoomComposerDispatcher").dispatch(a)},setCustomName:function(a){a={type:"SET_CUSTOM_NAME",customName:a};b("LivingRoomComposerDispatcher").dispatch(a)},setGroupID:function(a){a={type:"SET_GROUP_ID",groupID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setPageID:function(a){a={type:"SET_PAGE_ID",pageID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setProfileName:function(a){a={type:"SET_PROFILE_NAME",profileName:a};b("LivingRoomComposerDispatcher").dispatch(a)},setLivingRoomAttachmentData:function(a){a={type:"SET_LIVING_ROOM_ATTACHMENT_DATA",livingRoomAttachmentData:a};b("LivingRoomComposerDispatcher").dispatch(a)},setLivingRoomID:function(a){a={type:"SET_LIVING_ROOM_ID",livingRoomID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setScheduledLivingRoomMetadataID:function(a){a={type:"SET_SCHEDULED_LIVING_ROOM_METADATA_ID",scheduledLivingRoomMetadataID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setStartingInterstitialShown:function(a){a={type:"SET_STARTING_INTERSTITIAL_SHOWN",shown:a};b("LivingRoomComposerDispatcher").dispatch(a)},setWelcomeNuxShown:function(a){a={type:"SET_WELCOME_NUX_SHOWN",shown:a};b("LivingRoomComposerDispatcher").dispatch(a)},setConfigType:function(a){a={type:"SET_CONFIG_TYPE",configType:a};b("LivingRoomComposerDispatcher").dispatch(a)},setProfileID:function(a){a={type:"SET_PROFILE_ID",profileID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setComposerID:function(a){a={type:"SET_COMPOSER_ID",composerID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setScheduledTime:function(a,c){c===void 0&&(c=!1);c={type:"SET_SCHEDULED_TIME",isUsingDefaultScheduledTime:c,scheduledTime:a};b("LivingRoomComposerDispatcher").dispatch(c)},setSessionID:function(a){a={type:"SET_SESSION_ID",sessionID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setCreationSource:function(a){a={type:"SET_CREATION_SOURCE",creationSource:a};b("LivingRoomComposerDispatcher").dispatch(a)},setIsGameGroup:function(a){a={type:"SET_IS_GAME_GROUP",isGameGroup:a};b("LivingRoomComposerDispatcher").dispatch(a)},resetSession:function(){var a={type:"RESET_SESSION"};b("LivingRoomComposerDispatcher").dispatch(a)},setHasPreroll:function(a){a={type:"SET_HAS_PREROLL",hasPreroll:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAnnouncementPostMessage:function(a){a={type:"SET_ANNOUNCEMENT_POST_MESSAGE",announcementPostMessage:a};b("LivingRoomComposerDispatcher").dispatch(a)}};e.exports=a}),null);
__d("LivingRoomComposerStore",["FluxReduceStore","LivingRoomComposerDispatcher","LivingRoomTypeValues","immutable","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("LivingRoomTypeValues").AddVideoTabValue;var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({addVideoDialogTab:a.MAIN,addVideoDialogShown:!1,addVideoInputSearchQuery:"",addVideoSelectedPage:null,addVideoSelectedVideo:null,addVideoSelectedVideoList:null,addVideoSubmittedSearchQuery:"",announcementPostMessage:null,autoPlayEnabled:!0,backgroundImage:null,backgroundImageURL:"",composerID:null,configType:null,contentQueueDialogShown:!1,creationSource:"unknown",customName:null,enablePostButtonOnEmptyQueue:!1,hasPreroll:!1,groupID:null,isGameGroup:!1,isUsingDefaultScheduledTime:!1,livingRoomAttachmentData:{},livingRoomID:null,pageID:null,profileName:null,profileID:null,scheduledLivingRoomMetadataID:null,scheduledTime:null,sessionID:null,startingInterstitialShown:!1,videoQueue:b("immutable").List(),welcomeNuxShown:!1}));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.getIsVideoIDQueued=function(a){return c.getQueuedVideoIDs().includes(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return new g()};d.getAddVideoDialogTab=function(){return this.getState().get("addVideoDialogTab")};d.getAddVideoDialogShown=function(){return this.getState().get("addVideoDialogShown")};d.getAddVideoInputSearchQuery=function(){return this.getState().get("addVideoInputSearchQuery")};d.getAddVideoSubmittedSearchQuery=function(){return this.getState().get("addVideoSubmittedSearchQuery")};d.getAddVideoSelectedPage=function(){return this.getState().get("addVideoSelectedPage")};d.getAddVideoSelectedVideo=function(){return this.getState().get("addVideoSelectedVideo")};d.getAddVideoSelectedVideoList=function(){return this.getState().get("addVideoSelectedVideoList")};d.getAnnouncementPostMessage=function(){return this.getState().get("announcementPostMessage")};d.getAutoPlayEnabled=function(){return this.getState().get("autoPlayEnabled")};d.getBackgroundImage=function(){return this.getState().get("backgroundImage")};d.getBackgroundImageURL=function(){return this.getState().get("backgroundImageURL")};d.getContentQueueDialogShown=function(){return this.getState().get("contentQueueDialogShown")};d.getCustomName=function(){return this.getState().get("customName")};d.getEnablePostButtonOnEmptyQueue=function(){return this.getState().get("enablePostButtonOnEmptyQueue")};d.getHasPreroll=function(){return this.getState().get("hasPreroll")};d.getProfileName=function(){return this.getState().get("profileName")||""};d.getProfileNameForInterstitial=function(){return this.getConfigType()==="user"||this.getConfigType()==="page"?null:this.getProfileName()};d.getGroupID=function(){return this.getState().get("groupID")};d.getPageID=function(){return this.getState().get("pageID")};d.getLivingRoomAttachmentData=function(){return this.getState().get("livingRoomAttachmentData")};d.getLivingRoomID=function(){return this.getState().get("livingRoomID")};d.getScheduledLivingRoomMetadataID=function(){return this.getState().get("scheduledLivingRoomMetadataID")};d.getStartingInterstitialShown=function(){return this.getState().get("startingInterstitialShown")};d.getUseUnifiedCreation=function(){return this.getConfigType()==="group"&&b("qex")._("900859")===!0||this.getConfigType()==="user"&&b("qex")._("900860")===!0};d.getQueuedVideos=function(){return this.getState().get("videoQueue")};d.getQueuedVideoCount=function(){return this.getState().get("videoQueue").count()};d.getQueuedVideoIDs=function(){return this.getState().get("videoQueue").map(function(a){return a.id}).toJS()};d.getInvalidQueuedVideoCountForPreroll=function(a){return this.getState().get("videoQueue").filter(function(b){return!(b.owner.id===a&&b.is_eligible_for_preroll_living_room)}).count()};d.getAreAllVideoIDsQueued=function(a){return a.every(this.getIsVideoIDQueued)};d.getWelcomeNuxShown=function(){return this.getState().get("welcomeNuxShown")};d.getConfigType=function(){return this.getState().get("configType")};d.getProfileID=function(){return this.getState().get("profileID")};d.getScheduledTime=function(){return this.getState().get("scheduledTime")};d.getSessionID=function(){return this.getState().get("sessionID")};d.getComposerID=function(){return this.getState().get("composerID")};d.getCreationSource=function(){return this.getState().get("creationSource")};d.getIsGameGroup=function(){return this.getState().get("isGameGroup")};d.getIsUsingDefaultScheduledTime=function(){return this.getState().get("isUsingDefaultScheduledTime")};d.reduce=function(a,c){__p&&__p();switch(c.type){case"ENABLE_POST_BUTTON":return a.set("enablePostButtonOnEmptyQueue",!0);case"QUEUE_VIDEO":return a.set("videoQueue",a.get("videoQueue").push(c.video));case"REMOVE_VIDEO":var d=a.get("videoQueue"),e=d.findIndex(function(a){return c.video.id===a.id});return e===-1?a:a.set("videoQueue",d["delete"](e));case"REMOVE_UNOWNED_VIDEOS":return this.getComposerID()!==c.composerID?a:a.set("videoQueue",a.get("videoQueue").filter(function(a){return a.owner.id===c.ownerID}));case"REMOVE_UNMONETIZABLE_VIDEOS":return a.set("videoQueue",a.get("videoQueue").filter(function(a){return a.owner.id===c.ownerID&&a.is_eligible_for_preroll_living_room}));case"SET_ADD_VIDEO_DIALOG_TAB":return a.set("addVideoDialogTab",c.tab);case"SET_ADD_VIDEO_DIALOG_SHOWN":return a.set("addVideoDialogShown",c.shown);case"SET_ADD_VIDEO_INPUT_SEARCH_QUERY":return a.set("addVideoInputSearchQuery",c.query);case"SET_ADD_VIDEO_SUBMITTED_SEARCH_QUERY":return a.set("addVideoSubmittedSearchQuery",c.query);case"SET_AUTO_PLAY_STATE":return a.set("autoPlayEnabled",c.autoPlayEnabled);case"CLEAR_ADD_VIDEO_SEARCH_QUERIES":d=a;d=d.set("addVideoSubmittedSearchQuery","");d=d.set("addVideoInputSearchQuery","");return d;case"SET_ADD_VIDEO_SELECTED_PAGE":return a.set("addVideoSelectedPage",c.page);case"CLEAR_ADD_VIDEO_SELECTED_PAGE":return a.set("addVideoSelectedPage",null);case"SET_ADD_VIDEO_SELECTED_VIDEO":return a.set("addVideoSelectedVideo",c.video);case"SET_ADD_VIDEO_SELECTED_VIDEO_LIST":return a.set("addVideoSelectedVideoList",c.video);case"SET_ANNOUNCEMENT_POST_MESSAGE":return a.set("announcementPostMessage",c.announcementPostMessage);case"SET_BACKGROUND_IMAGE":return a.set("backgroundImage",c.backgroundImage).set("backgroundImageURL",c.backgroundImageURL);case"CLEAR_ADD_VIDEO_SELECTED_VIDEO":return a.set("addVideoSelectedVideo",null);case"CLEAR_ADD_VIDEO_SELECTED_VIDEO_LIST":return a.set("addVideoSelectedVideoList",null);case"SET_CONTENT_QUEUE_DIALOG_SHOWN":return a.set("contentQueueDialogShown",c.shown);case"SET_CUSTOM_NAME":return a.set("customName",c.customName);case"SET_GROUP_ID":return a.set("groupID",c.groupID);case"SET_PAGE_ID":return a.set("pageID",c.pageID);case"SET_PROFILE_NAME":return a.set("profileName",c.profileName);case"SET_LIVING_ROOM_ID":return a.set("livingRoomID",c.livingRoomID);case"SET_LIVING_ROOM_ATTACHMENT_DATA":return a.set("livingRoomAttachmentData",c.livingRoomAttachmentData);case"SET_SCHEDULED_LIVING_ROOM_METADATA_ID":return a.set("scheduledLivingRoomMetadataID",c.scheduledLivingRoomMetadataID);case"SET_STARTING_INTERSTITIAL_SHOWN":return a.set("startingInterstitialShown",c.shown);case"SET_WELCOME_NUX_SHOWN":return a.set("welcomeNuxShown",c.shown);case"SET_CONFIG_TYPE":return a.set("configType",c.configType);case"SET_PROFILE_ID":return a.set("profileID",c.profileID);case"SET_SCHEDULED_TIME":return a.set("scheduledTime",c.scheduledTime).set("isUsingDefaultScheduledTime",c.isUsingDefaultScheduledTime);case"SET_SESSION_ID":return a.set("sessionID",c.sessionID);case"SET_COMPOSER_ID":return a.set("composerID",c.composerID);case"SET_CREATION_SOURCE":return a.set("creationSource",c.creationSource);case"SET_IS_GAME_GROUP":return a.set("isGameGroup",c.isGameGroup);case"SET_HAS_PREROLL":return a.set("hasPreroll",c.hasPreroll);case"RESET_SESSION":d=a;d=d.set("announcementPostMessage",null);d=d.set("customName",null);d=d.set("enablePostButtonOnEmptyQueue",!1);d=d.set("videoQueue",b("immutable").List());d=d.set("backgroundImageURL","");d=d.set("backgroundImage",null);d=d.set("scheduledTime",null);d=d.set("scheduledLivingRoomMetadataID",null);d=d.set("hasPreroll",!1);d=d.set("addVideoDialogShown",!0);d=d.set("autoPlayEnabled",!0);return d;default:c.type;return a}};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("LivingRoomComposerDispatcher"))}),null);
__d("XReactComposerMediaAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/media/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0},work_shared_draft_mode:{type:"Enum",enumType:1}})}),null);
__d("ReactComposerMediaInitUtils",["ActorURI","Bootloader","XReactComposerMediaAttachmentBootstrapController"],(function(a,b,c,d,e,f){a={bootload:function(a){b("Bootloader").loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerMediaAttachmentPostButtonContainer.react"],a,"ReactComposerMediaInitUtils")},getBootstrapURI:function(a,c,d,e,f){return b("ActorURI").create(b("XReactComposerMediaAttachmentBootstrapController").getURIBuilder().setString("composer_id",a).setEnum("composer_type",c).setString("target_id",d).setEnum("work_shared_draft_mode",f).getURI(),e)}};e.exports=a}),null);
__d("ReactComposerMediaLazyAttachment.react",["ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","ReactComposerMediaInitUtils","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerMediaLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],propTypes:{additionalTaggers:(a=b("prop-types")).arrayOf(a.shape({button:a.element.isRequired,container:a.element.isRequired})),additionalFooterActions:a.arrayOf(a.element),bootloader:b("ReactComposerBootloaderPropTypes"),config:a.object},statics:{attachmentID:b("ReactComposerAttachmentType").MEDIA},bootload:function(a){this.props.bootloader?this.props.bootloader.mediaAttachment(a):b("ReactComposerMediaInitUtils").bootload(a)},getBootstrapURI:function(){var a;return b("ReactComposerMediaInitUtils").getBootstrapURI(this.context.composerID,this.context.composerType,this.context.targetID,this.context.actorID,(a=this.props.config)==null?void 0:(a=a.actorConfig)==null?void 0:a.workSharedDraftMode)}});e.exports=c}),null);
__d("ReactComposerQuestionActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({ADD_OPTION:null,ANYONE_ADD_OPTIONS:null,DELETE_OPTION_IMAGE:null,CHOOSE_MULTIPLE_OPTIONS:null,CLEAR_OPTION_IMAGES:null,REMOVE_OPTION:null,SHOW_QUESTION_CONFIG:null,SAVE_OPTION_DATA:null,SAVE_OPTION_IMAGE_INDEX:null,SET_QUESTION_CONFIG:null,SET_PREVIOUS_ATTACHMENT:null,UPDATE_CUSTOM_TIME_PICKER_FOCUS_UTC_TIME:null,UPDATE_CUSTOM_TIME_PICKER_SELECT_UTC_TIME:null,UPDATE_CUSTOM_TIME_PICKER_STATE:null,UPDATE_CUSTOM_TIME_PICKER_UTC_TIME_OF_DAY:null,UPDATE_OPTION_GIF_FLYOUT_STATE:null,UPDATE_OPTION_GIF_URL:null,UPDATE_OPTION_GIF_PICKER_TAB:null,UPDATE_OPTION_GIF_INPUT_URL:null,UPDATE_OPTION_GIF_INPUT_URL_VALID_STATE:null,UPDATE_OPTION_IMAGE_INDEX:null,UPDATE_OPTION_TEXT:null,UPDATE_OPTION_TEXT_INPUT_FOCUS_STATE:null,REMOVE_OPTION_GIF:null,REMOVE_OPTION_IMAGE:null,RESET_VISUAL_POLL:null,SET_IS_RELATIVE_END_TIME:null,SET_END_TIME_IN_MILLIS:null,HIDE_RESULTS:null},"ReactComposerQuestionActionType")}),null);
__d("ReactComposerVisualPollGifUrlValidationState",[],(function(a,b,c,d,e,f){e.exports={GIF_URL_VALIDATE_INIT:"GIF_URL_VALIDATE_INIT",GIF_URL_VALIDATING:"GIF_URL_VALIDATING",GIF_URL_VALID:"GIF_URL_VALID",GIF_URL_INVALID_URL:"GIF_URL_INVALID_URL",GIF_URL_INVALID_SIZE:"GIF_URL_INVALID_SIZE"}}),null);
__d("ReactComposerQuestionStore",["ReactComposerQuestionActionType","ReactComposerStoreBase","ReactComposerVisualPollGifUrlValidationState","UTCUtils"],(function(a,b,c,d,e,f){__p&&__p();var g=3,h=7,i=2,j=24*60*60*1e3;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{anyoneAddPollOptions:!0,chooseMultiplePollOptions:!0,imageIndex:0,maxOptionsShown:null,nextOptionIndex:g,optionsIndexShown:Array.from(new Array(g),function(a,b){return b}),optionStrings:new Array(g).fill(""),optionImageIndices:new Array(g).fill(-1),customTimePickerFocusUTCTime:b("UTCUtils").dateToUTC(new Date())+h*j,customTimePickerSelectUTCTime:b("UTCUtils").dateToUTC(new Date())+h*j,customTimePickerState:!1,customTimePickerUTCTimeOfDay:0,hasGif:!1,hasImage:!1,isRelativeEndTime:!0,isResultsHidden:!1,visualPollEndTimeInMillis:h*j,visualPollNumOptions:i,visualPollOptionGifFlyouts:new Array(i).fill(!1),visualPollOptionGifUrls:new Array(i).fill(""),visualPollOptionGifInputUrls:new Array(i).fill(""),visualPollOptionGifInputUrlValidStates:new Array(i).fill(b("ReactComposerVisualPollGifUrlValidationState").GIF_URL_VALIDATE_INIT),visualPollOptionGifPickerTabs:new Array(i).fill("search"),visualPollOptionImageIndices:new Array(i).fill(-1),visualPollOptionTexts:new Array(i).fill(""),visualPollOptionTextInputFocusStates:new Array(i).fill(!1)}},function(a){__p&&__p();switch(a.type){case b("ReactComposerQuestionActionType").SET_PREVIOUS_ATTACHMENT:d&&d.$ReactComposerQuestionStore1(a);break;case b("ReactComposerQuestionActionType").ADD_OPTION:d&&d.$ReactComposerQuestionStore2(a);break;case b("ReactComposerQuestionActionType").ANYONE_ADD_OPTIONS:d&&d.$ReactComposerQuestionStore3(a);break;case b("ReactComposerQuestionActionType").CHOOSE_MULTIPLE_OPTIONS:d&&d.$ReactComposerQuestionStore4(a);break;case b("ReactComposerQuestionActionType").CLEAR_OPTION_IMAGES:d&&d.$ReactComposerQuestionStore5(a);break;case b("ReactComposerQuestionActionType").DELETE_OPTION_IMAGE:d&&d.$ReactComposerQuestionStore6(a);break;case b("ReactComposerQuestionActionType").REMOVE_OPTION:d&&d.$ReactComposerQuestionStore7(a);break;case b("ReactComposerQuestionActionType").SAVE_OPTION_DATA:d&&d.$ReactComposerQuestionStore8(a);break;case b("ReactComposerQuestionActionType").SAVE_OPTION_IMAGE_INDEX:d&&d.$ReactComposerQuestionStore9(a);break;case b("ReactComposerQuestionActionType").SET_QUESTION_CONFIG:d&&d.$ReactComposerQuestionStore10(a);break;case b("ReactComposerQuestionActionType").UPDATE_CUSTOM_TIME_PICKER_FOCUS_UTC_TIME:d&&d.$ReactComposerQuestionStore11(a);break;case b("ReactComposerQuestionActionType").UPDATE_CUSTOM_TIME_PICKER_SELECT_UTC_TIME:d&&d.$ReactComposerQuestionStore12(a);break;case b("ReactComposerQuestionActionType").UPDATE_CUSTOM_TIME_PICKER_STATE:d&&d.$ReactComposerQuestionStore13(a);break;case b("ReactComposerQuestionActionType").UPDATE_CUSTOM_TIME_PICKER_UTC_TIME_OF_DAY:d&&d.$ReactComposerQuestionStore14(a);break;case b("ReactComposerQuestionActionType").UPDATE_OPTION_GIF_FLYOUT_STATE:d&&d.$ReactComposerQuestionStore15(a);break;case b("ReactComposerQuestionActionType").UPDATE_OPTION_GIF_URL:d&&d.$ReactComposerQuestionStore16(a);break;case b("ReactComposerQuestionActionType").UPDATE_OPTION_GIF_INPUT_URL:d&&d.$ReactComposerQuestionStore17(a);break;case b("ReactComposerQuestionActionType").UPDATE_OPTION_GIF_INPUT_URL_VALID_STATE:d&&d.$ReactComposerQuestionStore18(a);break;case b("ReactComposerQuestionActionType").UPDATE_OPTION_GIF_PICKER_TAB:d&&d.$ReactComposerQuestionStore19(a);break;case b("ReactComposerQuestionActionType").UPDATE_OPTION_IMAGE_INDEX:d&&d.$ReactComposerQuestionStore20(a);break;case b("ReactComposerQuestionActionType").UPDATE_OPTION_TEXT:d&&d.$ReactComposerQuestionStore21(a);break;case b("ReactComposerQuestionActionType").UPDATE_OPTION_TEXT_INPUT_FOCUS_STATE:d&&d.$ReactComposerQuestionStore22(a);break;case b("ReactComposerQuestionActionType").REMOVE_OPTION_GIF:d&&d.$ReactComposerQuestionStore23(a);break;case b("ReactComposerQuestionActionType").REMOVE_OPTION_IMAGE:d&&d.$ReactComposerQuestionStore24(a);break;case b("ReactComposerQuestionActionType").RESET_VISUAL_POLL:d&&d.$ReactComposerQuestionStore25(a);break;case b("ReactComposerQuestionActionType").SET_IS_RELATIVE_END_TIME:d&&d.$ReactComposerQuestionStore26(a);break;case b("ReactComposerQuestionActionType").SET_END_TIME_IN_MILLIS:d&&d.$ReactComposerQuestionStore27(a);break;case b("ReactComposerQuestionActionType").HIDE_RESULTS:d&&d.$ReactComposerQuestionStore28(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.canAnyoneAddPollOptions=function(a){return this.getComposerData(a).anyoneAddPollOptions};d.canChooseMultiplePollOptions=function(a){return this.getComposerData(a).chooseMultiplePollOptions};d.getMaxOptionsShown=function(a){return this.getComposerData(a).maxOptionsShown};d.getOptionsIndexShown=function(a){return this.getComposerData(a).optionsIndexShown};d.getOptionStrings=function(a){return this.getComposerData(a).optionStrings};d.getOptionImageIndices=function(a){return this.getComposerData(a).optionImageIndices};d.getPreviousAttachment=function(a){return this.getComposerData(a).previousAttachment};d.hasMedia=function(a){return this.getComposerData(a).hasGif||this.getComposerData(a).hasImage};d.isRelativeEndTime=function(a){return this.getComposerData(a).isRelativeEndTime};d.getCustomTimePickerFocusUTCTime=function(a){return this.getComposerData(a).customTimePickerFocusUTCTime};d.getCustomTimePickerSelectUTCTime=function(a){return this.getComposerData(a).customTimePickerSelectUTCTime};d.getCustomTimePickerState=function(a){return this.getComposerData(a).customTimePickerState};d.getCustomTimePickerUTCTimeOfDay=function(a){return this.getComposerData(a).customTimePickerUTCTimeOfDay};d.getVisualPollEndTimeInMillis=function(a){return this.getComposerData(a).visualPollEndTimeInMillis};d.getVisualPollOptionGifFlyouts=function(a){return this.getComposerData(a).visualPollOptionGifFlyouts};d.getVisualPollOptionGifUrls=function(a){return this.getComposerData(a).visualPollOptionGifUrls};d.getVisualPollOptionGifInputUrls=function(a){return this.getComposerData(a).visualPollOptionGifInputUrls};d.getVisualPollOptionGifInputUrlValidStates=function(a){return this.getComposerData(a).visualPollOptionGifInputUrlValidStates};d.getVisualPollOptionGifPickerTabs=function(a){return this.getComposerData(a).visualPollOptionGifPickerTabs};d.getVisualPollOptionImageIndices=function(a){return this.getComposerData(a).visualPollOptionImageIndices};d.getVisualPollNumOptions=function(a){return this.getComposerData(a).visualPollNumOptions};d.getVisualPollOptionTexts=function(a){return this.getComposerData(a).visualPollOptionTexts};d.getVisualPollOptionTextInputFocusStates=function(a){return this.getComposerData(a).visualPollOptionTextInputFocusStates};d.getIsResultsHidden=function(a){return this.getComposerData(a).isResultsHidden};d.$ReactComposerQuestionStore1=function(a){var b=this.getComposerData(a.composerID);b.previousAttachment=a.previousAttachment;this.emitChange(a.composerID)};d.$ReactComposerQuestionStore2=function(a){a=this.validateAction(a,"composerID");var b=this.getComposerData(a);b.optionStrings.push("");b.optionImageIndices.push(-1);b.optionsIndexShown.push(b.nextOptionIndex);b.nextOptionIndex++;this.emitChange(a)};d.$ReactComposerQuestionStore3=function(a){a=this.validateAction(a,["composerID","value"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.anyoneAddPollOptions=a;this.emitChange(b)};d.$ReactComposerQuestionStore4=function(a){a=this.validateAction(a,["composerID","value"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.chooseMultiplePollOptions=a;this.emitChange(b)};d.$ReactComposerQuestionStore5=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a),c=b.optionsIndexShown.length;b.imageIndex=0;b.optionImageIndices=new Array(c).fill(-1);this.emitChange(a)};d.$ReactComposerQuestionStore6=function(a){__p&&__p();a=this.validateAction(a,["composerID","optionData"]);var b=a[0];a=a[1];var c=this.getComposerData(b);a=c.optionsIndexShown.indexOf(a.keyID);var d=c.optionImageIndices[a];c.optionImageIndices[a]=-1;c.optionImageIndices.forEach(function(a,b,c){a>d&&(c[b]=a-1)});c.imageIndex--;this.emitChange(b)};d.$ReactComposerQuestionStore7=function(a){__p&&__p();a=this.validateAction(a,["composerID","optionData"]);var b=a[0];a=a[1];var c=this.getComposerData(b);a=c.optionsIndexShown.indexOf(a.keyID);var d=c.optionImageIndices[a]!==-1,e=c.optionImageIndices[a];c.optionStrings.splice(a,1);c.optionImageIndices.splice(a,1);d&&(c.optionImageIndices.forEach(function(a,b,c){a>e&&(c[b]=a-1)}),c.imageIndex--);c.optionsIndexShown.splice(a,1);this.emitChange(b)};d.$ReactComposerQuestionStore8=function(a){a=this.validateAction(a,["composerID","optionData"]);var b=a[0];a=a[1];var c=this.getComposerData(b),d=c.optionsIndexShown.indexOf(a.keyID);c.optionStrings[d]=a.content;this.emitChange(b)};d.$ReactComposerQuestionStore9=function(a){a=this.validateAction(a,["composerID","optionData"]);var b=a[0];a=a[1];var c=this.getComposerData(b);a=c.optionsIndexShown.indexOf(a.keyID);c.optionImageIndices[a]=c.imageIndex;c.imageIndex++;this.emitChange(b)};d.$ReactComposerQuestionStore10=function(a){a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.maxOptionsShown=a.maxOptionsShown;this.emitChange(b)};d.$ReactComposerQuestionStore15=function(a){a=this.validateAction(a,["composerID","optionIndex","value"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b),e=d.visualPollOptionGifFlyouts.slice();e[c]=a;d.visualPollOptionGifFlyouts=e;this.emitChange(b)};d.$ReactComposerQuestionStore20=function(a){a=this.validateAction(a,["composerID","optionIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.visualPollOptionImageIndices[a]=c.imageIndex;c.imageIndex++;c.hasImage=!0;this.emitChange(b)};d.$ReactComposerQuestionStore11=function(a){a=this.validateAction(a,["composerID","value"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.customTimePickerFocusUTCTime=a;this.emitChange(b)};d.$ReactComposerQuestionStore12=function(a){a=this.validateAction(a,["composerID","value"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.customTimePickerSelectUTCTime=a;this.emitChange(b)};d.$ReactComposerQuestionStore13=function(a){a=this.validateAction(a,["composerID","value"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.customTimePickerState=a;this.emitChange(b)};d.$ReactComposerQuestionStore14=function(a){a=this.validateAction(a,["composerID","value"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.customTimePickerUTCTimeOfDay=a;this.emitChange(b)};d.$ReactComposerQuestionStore16=function(a){a=this.validateAction(a,["composerID","optionIndex","url"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b),e=d.visualPollOptionGifUrls.slice();e[c]=a;d.visualPollOptionGifUrls=e;d.hasGif=!0;this.emitChange(b)};d.$ReactComposerQuestionStore17=function(a){a=this.validateAction(a,["composerID","optionIndex","url"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b),e=d.visualPollOptionGifInputUrls.slice();e[c]=a;d.visualPollOptionGifInputUrls=e;this.emitChange(b)};d.$ReactComposerQuestionStore18=function(a){a=this.validateAction(a,["composerID","optionIndex","validState"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b),e=d.visualPollOptionGifInputUrlValidStates.slice();e[c]=a;d.visualPollOptionGifInputUrlValidStates=e;this.emitChange(b)};d.$ReactComposerQuestionStore19=function(a){a=this.validateAction(a,["composerID","optionIndex","value"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b),e=d.visualPollOptionGifPickerTabs.slice();e[c]=a;d.visualPollOptionGifPickerTabs=e;this.emitChange(b)};d.$ReactComposerQuestionStore21=function(a){a=this.validateAction(a,["composerID","optionIndex","text"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b),e=d.visualPollOptionTexts.slice();e[c]=a;d.visualPollOptionTexts=e;this.emitChange(b)};d.$ReactComposerQuestionStore22=function(a){a=this.validateAction(a,["composerID","optionIndex","value"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b),e=d.visualPollOptionTextInputFocusStates.slice();e[c]=a;d.visualPollOptionTextInputFocusStates=e;this.emitChange(b)};d.$ReactComposerQuestionStore23=function(a){__p&&__p();a=this.validateAction(a,["composerID","optionIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);if(c.visualPollOptionGifUrls[a]){var d=c.visualPollOptionGifUrls.slice();d[a]="";c.visualPollOptionGifUrls=d;a=c.visualPollOptionGifUrls.filter(function(a){return!!a}).length;a===0&&(c.hasGif=!1)}this.emitChange(b)};d.$ReactComposerQuestionStore24=function(a){__p&&__p();a=this.validateAction(a,["composerID","optionIndex"]);var b=a[0];a=a[1];var c=this.getComposerData(b);if(c.visualPollOptionImageIndices[a]!==-1){var d=c.visualPollOptionImageIndices[a],e=c.visualPollOptionImageIndices.slice();e[a]=-1;e.forEach(function(a,b,c){a>d&&(c[b]=a-1)});c.imageIndex--;c.visualPollOptionImageIndices=e;a=c.visualPollOptionImageIndices.filter(function(a){return a!==-1}).length;a===0&&(c.hasImage=!1)}this.emitChange(b)};d.$ReactComposerQuestionStore25=function(a){__p&&__p();a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a);c.customTimePickerFocusUTCTime=b("UTCUtils").dateToUTC(new Date())+h*j;c.customTimePickerSelectUTCTime=b("UTCUtils").dateToUTC(new Date())+h*j;c.customTimePickerUTCTimeOfDay=0;c.customTimePickerState=!1;c.hasGif=!1;c.hasImage=!1;c.imageIndex=0;c.isRelativeEndTime=!0;c.isResultsHidden=!1;c.visualPollEndTimeInMillis=h*j;c.visualPollNumOptions=i;c.visualPollOptionGifFlyouts=new Array(i).fill(!1);c.visualPollOptionGifInputUrls=new Array(i).fill("");c.visualPollOptionGifInputUrlValidStates=new Array(i).fill(b("ReactComposerVisualPollGifUrlValidationState").GIF_URL_VALIDATE_INIT);c.visualPollOptionGifPickerTabs=new Array(i).fill("search");c.visualPollOptionGifUrls=new Array(i).fill("");c.visualPollOptionImageIndices=new Array(i).fill(-1);c.visualPollOptionTexts=new Array(i).fill("");this.emitChange(a)};d.$ReactComposerQuestionStore26=function(a){a=this.validateAction(a,["composerID","isRelativeEndTime"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isRelativeEndTime=a;this.emitChange(b)};d.$ReactComposerQuestionStore27=function(a){a=this.validateAction(a,["composerID","endTimeInMillis"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.visualPollEndTimeInMillis=a;this.emitChange(b)};d.$ReactComposerQuestionStore28=function(a){a=this.validateAction(a,["composerID","isResultsHidden"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isResultsHidden=a;this.emitChange(b)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerSalesPromoAttachmentSelector.react",["fbt","ix","AsyncRequest","Bootloader","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerLoggingName","createReactClass_DEPRECATED","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h){var i=h("40541");c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerSalesPromoAttachmentSelector",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{createOfferURI:(a=b("prop-types")).string,icon:a.any,isInMoreButton:a.bool,label:a.string},getDefaultProps:function(){return{label:g._("Create Offer")}},onSelected:function(){var a=this;b("Bootloader").loadModules(["AsyncDialog"],function(c){var d=new(b("AsyncRequest"))(a.props.createOfferURI).setMethod("POST").setStatusElement(a.context.composerID);c.send(d)},"ReactComposerSalesPromoAttachmentSelector.react")},render:function(){return b("React").jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").SALES_PROMO,label:this.props.label,icon:this.props.icon||i,loggingName:b("ReactComposerLoggingName").SALES_PROMO_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?"-1":void 0,onSelected:this.props.createOfferURI?this.onSelected:b("emptyFunction")})}});e.exports=c}),null);
__d("ReactComposerStatusAttachmentSelector.react",["fbt","ix","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerMediaUploadStore","ReactComposerPropsAndStoreBasedStateMixin","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){var i=h("40551");c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerStatusAttachmentSelector",mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerMediaUploadStore"))],propTypes:{allowSelectionWhenHasAttachedMedia:(a=b("prop-types")).bool,hideIcon:a.bool,icon:a.any,isInMoreButton:a.bool,label:a.string},statics:{calculateState:function(a){return{hasAttachedMedia:b("ReactComposerMediaUploadStore").getUploadsCount(a)>0}}},getDefaultProps:function(){return{label:g._("Status")}},render:function(){return b("React").jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:this.state.hasAttachedMedia&&!this.props.allowSelectionWhenHasAttachedMedia?b("ReactComposerAttachmentType").MEDIA:b("ReactComposerAttachmentType").STATUS,label:this.props.label,icon:this.props.hideIcon?null:this.props.icon||i,"data-testid":"status-attachment-selector",loggingName:b("ReactComposerLoggingName").STATUS_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?"-1":void 0})}});e.exports=c}),null);
__d("ReactComposerGenericFooter.react",["LeftRight.react","React","ReactComposerConfig","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerPostButtonContainer.react","prop-types"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.postButton?this.props.postButton:b("React").jsx(b("ReactComposerPostButtonContainer.react"),{config:this.props.config}),c,d=this.props.config,e=d.actorConfig;d=d.postButtonConfig;if(d&&d.isScheduledPost){if(d.scheduleNotice){d=d.scheduleNotice.module;d&&(c=b("React").jsx(d,{config:this.props.config}))}}else if(e&&e.scheduleNotice){d=e.scheduleNotice.module;d&&(c=b("React").jsx(d,{config:this.props.config}))}return b("React").jsxs(b("ReactComposerFooterContainer.react"),{background:this.props.background,config:this.props.config,children:[c,b("React").jsxs(b("LeftRight.react"),{children:[this.props.leftChild,b("React").jsxs(b("ReactComposerFooterActions.react"),{children:[this.props.audienceSelector,this.props.helpIcon,this.props.backButton,a]})]})]})};return c}(b("React").PureComponent);a.propTypes={audienceSelector:(c=b("prop-types")).element,background:c.string,config:b("ReactComposerConfig").isRequired,leftChild:c.element,postButton:c.element,backButton:c.element,helpIcon:c.element};a.defaultProps={background:"white",leftChild:b("React").jsx("noscript",{})};e.exports=a}),null);
__d("ReactComposerHeaderProps",["React","prop-types"],(function(a,b,c,d,e,f){c={propTypes:{attachmentSelectors:(a=b("prop-types")).arrayOf(a.node),background:a.string,forceThrobber:a.bool,noHorizontalMargin:a.bool,rightChild:a.element,showDelimiter:a.bool,truncateSelectorText:a.bool,headerType:a.string},getDefaultProps:function(){return{background:"white",forceThrobber:!1,noHorizontalMargin:!1,showDelimiter:!0,truncateSelectorText:!1}}};e.exports=c}),null);
__d("ReactComposerHeaderCore.react",["cx","fbt","LeftRight.react","React","ReactComposerHeaderProps","ReactComposerHeaderType","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.headerType){case b("ReactComposerHeaderType").SHARESHEET:return b("React").jsx("div",{className:"_1guf",children:h._("Select Audience")});case b("ReactComposerHeaderType").NONE:return b("React").jsx("span",{});default:var a=this.props.attachmentSelectors.filter(Boolean);this.props.showDelimiter&&(a=b("React").jsx("ul",{className:"_-h",children:b("React").Children.map(a,function(a,c){return b("React").jsx("li",{className:"_1tm3",children:a},c)})}));return b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsx("div",{children:a}),b("React").jsx("div",{children:this.props.children})]})}};d.render=function(){return b("React").jsx(b("XUICardSection.react"),{background:this.props.background,className:b("joinClasses")(this.props.className,"_4d6h"+(this.props.noHorizontalMargin?" _4p1p":"")+(this.props.truncateSelectorText?" _1kvc":"")),children:this.$1()})};return c}(b("React").PureComponent);a.propTypes=b("ReactComposerHeaderProps").propTypes;a.defaultProps=b("ReactComposerHeaderProps").getDefaultProps();e.exports=a}),null);
__d("ReactComposerLazyHeader.react",["Bootloader","React","ReactComposerContextTypes","ReactComposerHeaderCore.react","ReactComposerHeaderProps","ReactComposerStore"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("ReactComposerStore")]};function c(b){b=a.call(this,b)||this;b.state={shouldInitialize:!0,header:null};return b}c.calculateState=function(a,c,d){return{isActive:b("ReactComposerStore").isActive(d.composerID)}};var d=c.prototype;d.componentDidUpdate=function(a,c){var d=this;this.state.isActive&&this.state.shouldInitialize&&(this.setState({shouldInitialize:!this.state.shouldInitialize}),b("Bootloader").loadModules(["ReactComposerHeader.react"],function(a){return d.setState({header:a})},"ReactComposerLazyHeader.react"))};d.render=function(){var a=this.props,c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=this.state.header;return d?b("React").jsx(d,babelHelpers["extends"]({},a,{attachmentSelectors:c})):b("React").jsx(b("ReactComposerHeaderCore.react"),babelHelpers["extends"]({},a,{attachmentSelectors:c,children:this.props.rightChild}))};return c}(b("React").PureComponent);a.defaultProps=b("ReactComposerHeaderProps").getDefaultProps();a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("RichComposedTextEditorBlock.react",["DraftEditorBlock.react","React"],(function(a,b,c,d,e,f){a=function(a){return b("React").jsx(b("DraftEditorBlock.react"),babelHelpers["extends"]({contentEditable:"inherit"},a.blockProps,a,{children:a.children}))};e.exports=a}),null);
__d("RichComposedTextEditorInlineStyleMenu.react",["cx","fbt","invariant","ContextualLayerAutoFlip","EditorState","Keys","LeftRight.react","React","ReactFragment","Rect","SelectionState","TooltipData","URI","XUICloseButton.react","XUIContextualDialog.react","XUIError.react","createReactClass_DEPRECATED","getVisibleSelectionRect","immutable","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("immutable").OrderedSet,l={ContextualLayerAutoFlip:b("ContextualLayerAutoFlip")},m={bold:h._("Bold"),italic:h._("Italic"),link:h._("Link"),mono:h._("Code"),linkPlaceholder:h._("Paste or type a link...")},n=["http","https","mailto"];function o(a){return n.indexOf(a)>=0}d=b("createReactClass_DEPRECATED")({displayName:"RichComposedTextEditorInlineStyleMenu",propTypes:{editorState:(c=b("prop-types")).instanceOf(b("EditorState")).isRequired,disableLinkAndMonoFormatting:c.bool.isRequired,onRemoveLink:c.func.isRequired,onAddLink:c.func.isRequired,onCancelLink:c.func.isRequired,onToggle:c.func.isRequired},getInitialState:function(){return{addingLink:!1,flyoutState:"style",bounds:null,targetSelection:null,linkText:"",linkErrorMessage:null}},componentDidUpdate:function(){var a=this;this.state.addingLink&&setTimeout(function(){return a.refs.linkInput.focus()},0)},_toggleBold:function(a){a.preventDefault(),this.props.onToggle("BOLD")},_toggleItalic:function(a){a.preventDefault(),this.props.onToggle("ITALIC")},_toggleMono:function(a){a.preventDefault(),this.props.onToggle("CODE")},_toggleLink:function(a){a.preventDefault(),this._toggleLinkImpl()},_toggleLinkImpl:function(){if(this._alreadyContainsLink()){this.props.onRemoveLink();return}this.setState({addingLink:!0,flyoutState:"link",bounds:p(),targetSelection:this.props.editorState.getSelection(),linkText:""})},toggleLink:function(){if(!this._canAddLink())return!1;this._toggleLinkImpl();return!0},_onLinkValueChange:function(a){a=a.target;a instanceof HTMLInputElement||i(0,2261);this.setState({linkText:a.value})},_onLinkValueKeydown:function(a){__p&&__p();switch(a.which){case b("Keys").RETURN:a.preventDefault();if(this.state.linkText){var c=new(j||(j=b("URI")))(this.state.linkText),d=c.getProtocol();if(!d)c.setProtocol("http");else if(!o(d))return;if(!(j||(j=b("URI"))).isValidURI(c.toString())){this.setState({linkErrorMessage:"Invalid link"});return}else this.setState({linkErrorMessage:null});d=this.props.editorState.getCurrentContent();d=d.createEntity("LINK","MUTABLE",q(c));c=d.getLastCreatedEntityKey();this.props.onAddLink(this.state.targetSelection,c);this.setState(this.getInitialState())}return;case b("Keys").ESC:a.preventDefault();this._cancelLink();return;default:this.setState({linkErrorMessage:null})}},reset:function(a){this.setState(this.getInitialState(),a)},resetToStyles:function(a){this.setState(Object.assign(this.getInitialState(),{targetSelection:this.props.editorState.getSelection(),bounds:this.state.bounds}),a)},_cancelLink:function(){var a=this,b=this.state.targetSelection;this.props.onCancelLink(b);setTimeout(function(){return a.resetToStyles()},0)},_renderBold:function(a){a="_4q5h"+(a.has("BOLD")?" _u4r":"");return b("React").jsx("li",babelHelpers["extends"]({className:a,onMouseDown:this._toggleBold},b("TooltipData").propsFor(m.bold)))},_renderItalic:function(a){a="_4q5j"+(a.has("ITALIC")?" _u4r":"");return b("React").jsx("li",babelHelpers["extends"]({className:a,onMouseDown:this._toggleItalic},b("TooltipData").propsFor(m.italic)))},_disableLinkAndMonoFormatting:function(){return this.props.disableLinkAndMonoFormatting},_renderMono:function(a){if(this._disableLinkAndMonoFormatting())return null;a="_4q5k"+(a.has("CODE")?" _u4r":"");return b("React").jsx("li",babelHelpers["extends"]({className:a,onMouseDown:this._toggleMono},b("TooltipData").propsFor(m.mono)))},_canAddLink:function(){var a=this.props.editorState;a=this._getSelectionWithoutTrailingNewline(a);return!a.isCollapsed()&&a.getAnchorKey()===a.getFocusKey()},_alreadyContainsLink:function(){var a=this.props.editorState,b=this._getSelectionWithoutTrailingNewline(a);return a.getCurrentContent().getBlockForKey(b.getAnchorKey()).getCharacterList().slice(b.getStartOffset(),b.getEndOffset()).some(function(b){b=b.getEntity();var c=a.getCurrentContent();return b&&c.getEntity(b).getType()==="LINK"})},_getSelectionWithoutTrailingNewline:function(a){__p&&__p();var c=a.getSelection();if(!c.isCollapsed()&&c.getEndOffset()===0){a=a.getCurrentContent();var d=a.getKeyBefore(c.getEndKey());if(d){a=a.getBlockForKey(d).getLength();var e=c.getIsBackward();if(e)return new(b("SelectionState"))({anchorKey:d,anchorOffset:a,focusKey:c.getFocusKey(),focusOffset:c.getFocusOffset(),isBackward:!0});else return new(b("SelectionState"))({anchorKey:c.getAnchorKey(),anchorOffset:c.getAnchorOffset(),focusKey:d,focusOffset:a,isBackward:!1})}}return c},_renderLink:function(){if(!this._canAddLink()||this._disableLinkAndMonoFormatting())return null;var a=this._alreadyContainsLink();a="_4q5l"+(a?" _u4r":"");return b("React").jsx("li",babelHelpers["extends"]({className:a,onMouseDown:this._toggleLink},b("TooltipData").propsFor(m.link)))},_renderStyleBody:function(a){return b("React").jsxs("ul",{className:"_u4s clearfix",children:[this._renderBold(a),this._renderItalic(a),this._renderMono(a),this._renderLink()]})},_renderLinkBody:function(){var a;return(a=b("React")).jsxs(b("LeftRight.react"),{className:"_u4u",children:[a.jsx(b("XUIError.react"),{xuiError:this.state.linkErrorMessage,children:a.jsx("input",{className:"_u4v",type:"text",ref:"linkInput",placeholder:m.linkPlaceholder,value:this.state.linkText,onChange:this._onLinkValueChange,onKeyDown:this._onLinkValueKeydown})}),a.jsx(b("XUICloseButton.react"),{className:"_u4w",size:"medium",shade:"dark",onClick:this._cancelLink})]})},renderLayers:function(){__p&&__p();var a=this,c=!1,d=!1,e=null,f=this.props.editorState;if(this.state.flyoutState==="link")c=!0,e=this.state.bounds;else{var g=!f.getSelection().isCollapsed();e=g?p():null;d=!!(g&&e)}g=d?f.getCurrentInlineStyle():k();return b("ReactFragment").create({style:b("React").jsx(b("XUIContextualDialog.react"),{autoFocus:!1,shown:d,alignment:"center",contextBounds:e,behaviors:l,contextRef:function(){return a.refs.inlineStyle},children:this._renderStyleBody(g)}),link:b("React").jsx(b("XUIContextualDialog.react"),{hideOnEscape:!1,autoFocus:!1,shown:c,alignment:"center",contextBounds:e,behaviors:l,contextRef:function(){return a.refs.inlineStyle},children:this._renderLinkBody()})})},render:function(){return b("React").jsxs("span",{children:[b("React").jsx("div",{ref:"inlineStyle"}),this.renderLayers()]})}});function p(){var c=b("getVisibleSelectionRect")(a);if(c==null)return null;var d=c.top,e=c.right,f=c.bottom;c=c.left;return new(b("Rect"))(d,e,f,c,"viewport").convertTo("document")}function q(a){var b={};b.url=a.toString();return b}e.exports=d}),null);
__d("RichComposedTextEditorMenu.react",["cx","fbt","ContextualLayerAutoFlip","EditorState","GroupsComposerActions","GroupsComposerNuxTypes","NotesEmbedDialog","NotesPhotoPickerDialog","NotesVideoPickerDialog","React","ReactComposerGroupStore","ReactComposerStatusStore","ReactDOM","ReactFragment","XUIAmbientNUX.react","XUIContextualDialog.react","XUIContextualDialogBody.react","calculateMenuTop","clearImmediate","keyMirror","prop-types","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("keyMirror")({STYLE:null,ATTACH:null}),j={ContextualLayerAutoFlip:b("ContextualLayerAutoFlip")},k={embed:h._("Embed"),photo:h._("Photo"),video:h._("Video")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={top:null,visibleMenu:null},d.$2=function(){d.$1&&b("clearImmediate")(d.$1),d.$1=null},d.$3=function(){var a=d.props.editorState.getSelection();a=b("calculateMenuTop")(a,b("ReactDOM").findDOMNode(d.refs.container));d.state.top!==a&&d.setState({top:a,visibleMenu:null})},d.$6=function(){var a=d.props.editorState,b=a.getSelection();return a.getCurrentContent().getBlockForKey(b.getStartKey()).getType()},d.$7=function(a){a.preventDefault()},d.$10=function(){var a=d.props.editorState;a=a.getSelection();var b=d.$6();return d.state.top!==null&&b!=="atomic"&&a.getHasFocus()},d.$11=function(a){a.preventDefault(),d.props.onToggleBlockType("header-one")},d.$12=function(a){a.preventDefault(),d.props.onToggleBlockType("header-two")},d.$13=function(a){a.preventDefault(),d.props.onToggleBlockType("unordered-list-item")},d.$14=function(a){a.preventDefault(),d.props.onToggleBlockType("ordered-list-item")},d.$15=function(a){a.preventDefault(),d.props.onToggleBlockType("blockquote")},d.$16=function(a){a.preventDefault(),d.props.onToggleBlockType("code-block")},d.$17=function(a){a.preventDefault(),setTimeout(function(){var a=function(a){d.props.onAddEmbed(l(a,d.props.editorState.getCurrentContent()))};new(b("NotesEmbedDialog"))({onEmbed:a,ownerID:d.props.ownerID}).show()},200)},d.$9=function(a){a.preventDefault(),setTimeout(function(){var a=d.props.compositionID,c=d.props.editorState.getCurrentContent(),e=function(b){d.props.onAddPhoto(m(babelHelpers["extends"]({},b,{compositionID:a}),c))},f=function(b){d.props.onAddPhoto(m({compositionID:a,fileInput:b},c))},g=function(){d.props.onCancelPhoto()};new(b("NotesPhotoPickerDialog"))({onPhotoPicked:e,onPhotoUpload:f,onPhotoCancel:g,ownerID:d.props.ownerID,isPageStory:d.props.isPageStory}).show()},200)},d.$18=function(a){a.preventDefault(),setTimeout(function(){var a=d.props.compositionID,c=function(b){d.props.onAddVideo(n(babelHelpers["extends"]({},b,{compositionID:a}),d.props.editorState.getCurrentContent()))};new(b("NotesVideoPickerDialog"))({onVideoPicked:c,ownerID:d.props.ownerID}).show()},200)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2();this.$1=b("setImmediate")(function(){return a.$3()});this.$4(this.props.shouldShowNux===!0)};d.componentDidUpdate=function(){var a=this;this.$2();this.$1=b("setImmediate")(function(){return a.$3()})};d.componentWillUnmount=function(){this.$2()};d.$4=function(a){if(this.props.compositionID==null||this.props.compositionID==="")return;b("GroupsComposerActions").setNuxVisible(this.props.compositionID,b("GroupsComposerNuxTypes").FORMATTED_POSTS,a)};d.$5=function(){return this.props.compositionID==null||this.props.compositionID===""?!1:b("ReactComposerGroupStore").getIsNuxVisible(this.props.compositionID,b("GroupsComposerNuxTypes").FORMATTED_POSTS)&&this.props.editorState.getCurrentContent().getPlainText().trim().length>300&&b("ReactComposerStatusStore").getRichTextBlocks(this.props.compositionID)===null};d.$8=function(){var a=this.$6(),c={top:this.state.top?this.state.top+"px":void 0},d;this.props.canAttachVideo||this.props.canAttachEmbed?d=b("React").jsx("li",{className:"_15_2",ref:"attach"}):this.props.canAttachPhoto?d=b("React").jsx("li",{className:"_15_4",onClick:this.$9}):d=null;a="_15_5"+(a==="unstyled"?" _15_6":"")+(a==="header-one"?" _15_7":"")+(a==="header-two"?" _15_8":"")+(a==="unordered-list-item"?" _15_9":"")+(a==="ordered-list-item"?" _15_a":"")+(a==="blockquote"?" _15_b":"")+(a==="code-block"?" _15_c":"");return b("React").jsxs("ul",{style:c,className:"clearfix _15r2",onMouseDown:this.$7,ref:"format_block_menu",children:[d,b("React").jsx("li",{className:a,ref:"style"})]})};d.$19=function(a){a="_15_7"+(a==="header-one"?" _15_e":"");return b("React").jsx("li",{className:a,onMouseDown:this.$11})};d.$20=function(a){a="_15_8"+(a==="header-two"?" _15_e":"");return b("React").jsx("li",{className:a,onMouseDown:this.$12})};d.$21=function(a){a="_15_9"+(a==="unordered-list-item"?" _15_e":"");return b("React").jsx("li",{className:a,onMouseDown:this.$13})};d.$22=function(a){a="_15_a"+(a==="ordered-list-item"?" _15_e":"");return b("React").jsx("li",{className:a,onMouseDown:this.$14})};d.$23=function(a){a="_15_b"+(a==="blockquote"?" _15_e":"");return b("React").jsx("li",{className:a,onMouseDown:this.$15})};d.$24=function(a){if(this.props.disableCodeBlock)return null;a="_15_c"+(a==="code-block"?" _15_e":"");return b("React").jsx("li",{className:a,onMouseDown:this.$16})};d.$25=function(){return!this.props.canAttachEmbed?null:b("React").jsx("li",{className:"_15_o",onMouseDown:this.$17,children:k.embed})};d.$26=function(){var a="_15_r";return b("React").jsx("li",{className:a,onMouseDown:this.$9,children:k.photo})};d.$27=function(){if(!this.props.canAttachVideo)return null;var a="_15_s";return b("React").jsx("li",{className:a,onMouseDown:this.$18,children:k.video})};d.renderLayers=function(){var a=this,c=this.$10(),d=this.$6();return b("ReactFragment").create({formattingNux:b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.format_block_menu},shown:this.$5(),onCloseButtonClick:function(){a.$4(!1)},position:"left",children:h._("Now you can format your post with headlines, bullets, pull quotes and more.")}),attach:b("React").jsx(b("XUIContextualDialog.react"),{autoFocus:!1,contextRef:function(){return a.refs.attach},hoverContextRef:function(){return a.refs.attach},hoverHideDelay:0,alignment:"center",offsetY:-2,behaviors:j,shown:c&&this.state.visibleMenu===i.ATTACH,children:b("React").jsx(b("XUIContextualDialogBody.react"),{children:b("React").jsxs("ul",{className:"_15_t clearfix",children:[this.$26(),this.$27(),this.$25()]})})}),style:b("React").jsx(b("XUIContextualDialog.react"),{autoFocus:!1,contextRef:function(){return a.refs.style},hoverContextRef:function(){return a.refs.style},hoverHideDelay:40,alignment:"center",behaviors:j,shown:c&&this.state.visibleMenu===i.STYLE,children:b("React").jsx(b("XUIContextualDialogBody.react"),{children:b("React").jsxs("ul",{className:"_15_u clearfix",children:[this.$19(d),this.$20(d),this.$21(d),this.$22(d),this.$23(d),this.$24(d)]})})})})};d.render=function(){var a="_15_v"+(this.$10()?" _15_w":"");return b("React").jsxs("span",{children:[b("React").jsx("div",{className:a,ref:"container",children:b("React").jsx("div",{className:"_40eu",children:this.$8()})}),this.renderLayers()]})};return c}(b("React").Component);a.propTypes={editorState:(c=b("prop-types")).instanceOf(b("EditorState")).isRequired,compositionID:c.string.isRequired,onToggleBlockType:c.func.isRequired,onAddPhoto:c.func.isRequired,onAddVideo:c.func.isRequired,onCancelPhoto:c.func.isRequired,ownerID:c.string.isRequired,isPageStory:c.bool,disableCodeBlock:c.bool,shouldShowNux:c.bool};function l(a,b){b=b.createEntity("EMBED","IMMUTABLE",a);return b.getLastCreatedEntityKey()}function m(a,b){b=b.createEntity("IMAGE","IMMUTABLE",a);return b.getLastCreatedEntityKey()}function n(a,b){b=b.createEntity("VIDEO","IMMUTABLE",a);return b.getLastCreatedEntityKey()}e.exports=a}),null);
__d("RichComposedTextEditor.react",["cssVar","cx","AbstractMentionsTextEditor.react","AtomicBlockUtils","CampfireCharacters","CampfireCommands","DraftModifier","EditorState","MentionsLayer.react","React","RichComposedTextEditorBlock.react","RichComposedTextEditorInlineStyleMenu.react","RichComposedTextEditorMenu.react","RichTextEditorMarkdownUtil","RichTextEditorUtil","XUITypeaheadView.react","createMentionEntityForContentState","isSoftNewlineEvent","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("CampfireCharacters").EMBED,j=b("CampfireCharacters").PHOTO,k=b("CampfireCharacters").VIDEO,l=4,m={CODE:{backgroundColor:"#f6f7f9",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"14px",padding:4}};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onChange(b("RichTextEditorUtil").onTab(a,d.props.editorState,l))},d.$2=function(a,c){__p&&__p();if(d.props.handleContentReturn&&d.props.handleContentReturn(a,c))return!0;if(b("isSoftNewlineEvent")(a)){d.props.onChange(b("RichTextEditorUtil").insertSoftNewline(c));return!0}a=b("RichTextEditorUtil").tryToRemoveBlockStyle(c);if(a){d.props.onChange(b("EditorState").push(c,a,"change-block-type"));return!0}a=n(c);if(a){d.props.onChange(b("EditorState").push(c,a,"change-block-type"));return!0}return!1},d.$3=function(a,c){__p&&__p();if(a===b("CampfireCommands").SAVE_DRAFT){d.props.onSave();return"handled"}else if(a===b("CampfireCommands").TOGGLE_LINK){var e=d.refs.inlineStyleMenu;return e.toggleLink()}else{e=b("RichTextEditorMarkdownUtil").blockStyleToText(a,c);if(e){d.props.onChange(e);return"handled"}}e=b("RichTextEditorUtil").handleKeyCommand(c,a);if(e){d.props.onChange(e);return"handled"}return"not-handled"},d.$4=function(a){var c=d.props.disableLinkAndMonoFormatting===!0;c=b("RichTextEditorMarkdownUtil").textToBlockStyle(a,{enableCodeBlock:!c});d.props.onChange(c||a)},d.$5=function(a){d.props.onChange(b("RichTextEditorUtil").toggleBlockType(d.props.editorState,a))},d.$6=function(a){d.props.onChange(b("RichTextEditorUtil").toggleInlineStyle(d.props.editorState,a))},d.$7=function(){var a=d.props.editorState;d.props.onChange(b("RichTextEditorUtil").toggleLink(a,a.getSelection(),null))},d.$8=function(a,c){d.props.onChange(b("RichTextEditorUtil").toggleLink(d.props.editorState,a,c))},d.$9=function(a){d.props.onChange(b("EditorState").forceSelection(d.props.editorState,a))},d.$10=function(a,c){if(d.props.canAttachPhoto){var e=b("EditorState").forceSelection(d.props.editorState,a);return d.$11(e,c)?"handled":"not-handled"}else if(d.props.handleDroppedFiles)return d.props.handleDroppedFiles(a,c)?"handled":"not-handled";return"not-handled"},d.$12=function(a){if(d.props.canAttachPhoto)return d.$11(d.props.editorState,a)?"handled":"not-handled";else if(d.props.handlePastedFiles)return d.props.handlePastedFiles(a)?"handled":"not-handled";return"not-handled"},d.$13=function(a){d.props.onChange(p(d.props.editorState,a,j))},d.$14=function(a){d.props.onChange(p(d.props.editorState,a,k))},d.$15=function(a){d.props.onChange(p(d.props.editorState,a,i))},d.$16=function(){d.props.onChange(b("EditorState").forceSelection(d.props.editorState,d.props.editorState.getSelection()))},d.focus=function(){d.refs.inlineStyleMenu.reset(),d.refs.editor.focus()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$11=function(a,c){__p&&__p();var d=this,e=c[0];if(!e||e.type!="image/png"&&e.type!="image/jpeg")return!1;c=new FileReader();c.onload=function(c){__p&&__p();c=c.target.result;var f=new Image();f.src=c;f.onload=function(){var f=d.props.compositionID,c={photo:e};c={files:c,compositionID:f};f=d.props.editorState.getCurrentContent();f=f.createEntity("IMAGE","IMMUTABLE",c);c=f.getLastCreatedEntityKey();f=b("EditorState").set(a,{currentContent:f});d.props.onChange(p(f,c,j))}};c.readAsDataURL(e);return!0};d.blur=function(){this.refs.editor.blur()};d.shouldComponentUpdate=function(a){return a.editorState!==this.props.editorState||a.readOnly!==this.props.readOnly||a.className!==this.props.className};d.render=function(){__p&&__p();var a=this.props.editorState.getCurrentContent(),c=!1;if(!a.hasText()){a=a.getBlockMap().first().getType();c=a!=="unstyled"}a=b("joinClasses")(this.props.className,"_4u4d"+(c?" _4u4e":""));c=null;var d=null;this.props.readOnly||(c=b("React").jsx(b("RichComposedTextEditorMenu.react"),{editorState:this.props.editorState,canAttachVideo:this.props.canAttachVideo,canAttachPhoto:this.props.canAttachPhoto,canAttachEmbed:this.props.canAttachEmbed,disableCodeBlock:!!this.props.disableLinkAndMonoFormatting,shouldShowNux:this.props.shouldShowFormattingNux,compositionID:this.props.compositionID,onToggleBlockType:this.$5,onAddEmbed:this.$15,onAddPhoto:this.$13,onAddVideo:this.$14,onCancelPhoto:this.$16,ownerID:this.props.ownerID,isPageStory:this.props.isPageStory}),d=b("React").jsx(b("RichComposedTextEditorInlineStyleMenu.react"),{ref:"inlineStyleMenu",editorState:this.props.editorState,disableLinkAndMonoFormatting:!!this.props.disableLinkAndMonoFormatting,onToggle:this.$6,onRemoveLink:this.$7,onAddLink:this.$8,onCancelLink:this.$9}));var e=this.props,f=e.editorState;e.handleDroppedFiles;e.handlePastedFiles;e=babelHelpers.objectWithoutPropertiesLoose(e,["editorState","handleDroppedFiles","handlePastedFiles"]);return b("React").jsxs("div",{className:a,onClick:this.focus,role:"presentation",children:[b("React").jsx(b("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({},e,{ref:"editor",editorState:f,blockRendererFn:this.props.blockRendererFn,customStyleMap:this.props.customStyleMap||m,mentionResultsComponent:b("MentionsLayer.react"),blockStyleFn:q,blockComponent:b("RichComposedTextEditorBlock.react"),onTab:this.$1,handleKeyCommand:this.$3,handleContentReturn:this.$2,handleDroppedFiles:this.$10,handlePastedFiles:this.$12,onChange:this.$4})),c,d]})};return c}(b("React").Component);a.propTypes={editorState:(c=b("prop-types")).instanceOf(b("EditorState")).isRequired,canAttachVideo:c.bool,canAttachPhoto:c.bool,canAttachEmbed:c.bool,disableLinkAndMonoFormatting:c.bool,shouldShowFormattingNux:c.bool,blockRendererFn:c.func,onSave:c.func.isRequired,ownerID:c.string.isRequired,isPageStory:c.bool,customStyleMap:c.object};a.defaultProps={mentionResultsProps:{typeaheadView:b("XUITypeaheadView.react")},mentionCreationForContentStateFn:b("createMentionEntityForContentState")};function n(a){var c=a.getSelection(),d=c.getAnchorOffset();a=a.getCurrentContent();var e=a.getBlockForKey(c.getAnchorKey());if(c.isCollapsed()&&e.getLength()===d&&o(e.getType())){d=b("DraftModifier").splitBlock(a,c);return b("DraftModifier").setBlockType(d,d.getSelectionAfter(),"unstyled")}return null}function o(a){return a==="blockquote"||a==="header-one"||a==="header-two"}function p(a,c,d){return b("AtomicBlockUtils").insertAtomicBlock(a,c,d)}function q(a){a=a.getType();return"_2cuy"+(a==="unstyled"?" _3dgx":"")+(a==="blockquote"?" _509u":"")+(a==="header-one"?" _509y":"")+(a==="header-two"?" _50a1":"")+(a==="code-block"?" _19ii":"")+(a==="unordered-list-item"?" _509q":"")+(a==="ordered-list-item"?" _509s":"")+(a==="atomic"?" _4nuy":"")}e.exports=a}),null);
__d("LivingRoomComposerLogger",["LivingRoomTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.init=function(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e};c.get=function(){return new(b("LivingRoomTypedLogger"))().setManualConfigType(this.$2).setManualProfileID(this.$3).setComposerSessionID(this.$1).setManualGroupID(this.$4).setManualCreationSource(this.$5)};return a}();e.exports=new a()}),null);
__d("LivingRoomHostFunnelLogger",["CurrentUser","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i,j=b("CurrentUser").getID();function a(a,c){c===void 0&&(c=h),new(b("WebFunnelLogger"))("LivingRoomHostFunnelDefinition").setAction(a).setSessionKey(j).addFunnelPayload("composer_id",g).addFunnelPayload("config_type",c).addFunnelPayload("creation_source",i).markEnd().log(),j=b("CurrentUser").getID()}function c(a,c,d,e,f){j=c,g=d,h=e,i=f,new(b("WebFunnelLogger"))("LivingRoomHostFunnelDefinition").setAction(a).setSessionKey(j).addFunnelPayload("composer_id",g).addFunnelPayload("config_type",h).addFunnelPayload("creation_source",i).markStart().log()}function d(a,c){c===void 0&&(c=h),new(b("WebFunnelLogger"))("LivingRoomHostFunnelDefinition").setAction(a).setSessionKey(j).addFunnelPayload("composer_id",g).addFunnelPayload("config_type",c).addFunnelPayload("creation_source",i).log()}function f(){return new(b("WebFunnelLogger"))("LivingRoomHostFunnelDefinition").setSessionKey(j).addFunnelPayload("composer_id",g).addFunnelPayload("config_type",h).addFunnelPayload("creation_source",i)}c={startFunnel:c,endFunnel:a,appendAction:d,getFunnelLogger:f};e.exports=c}),null);