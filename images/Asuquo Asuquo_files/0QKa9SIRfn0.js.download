if (self.CavalryLogger) { CavalryLogger.start_js(["H6Teu"]); }

__d("XNeedleSearchSurveyAfterEntityNavController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/serp/survey/",{})}),null);
__d("SurveyAfterTANav",["AsyncRequest","PageTransitions","Run","WPSerpSurveyOnNavConfigSV","XNeedleSearchSurveyAfterEntityNavController","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){function g(){var a=b("WPSerpSurveyOnNavConfigSV").delay;b("setTimeoutAcrossTransitions")(function(){var a=b("XNeedleSearchSurveyAfterEntityNavController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setAllowCrossPageTransition(!0).send()},a)}function a(){b("Run").onLeave(function(){b("PageTransitions").registerCompletionCallback(g)})}e.exports={init:g,register:a}}),null);
__d("FacebarTypeaheadLoggingRecorder",["CometSearchTypeaheadBaseDataEntry","CometSearchTypeaheadBaseLoggingProvider","SurveyAfterTANav","cometSearchTypeaheadFalcoLoggingSessionLogBuilder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var c=a.semantic.match(/^[0-9]+$/)==null,d=c?a.text.toString().toLowerCase():a.text.toString(),e=new Set();Boolean(a.isJSBootstrapMatch)&&e.add("bootstrap");Boolean(a.exactMatchKeyword)&&e.add("echo");Boolean(a.isRecent)&&e.add("recent");Boolean(a.isSeeMore)&&e.add("see_all");e.add(c?"keyword":"entity");return new(b("CometSearchTypeaheadBaseDataEntry"))().setLabel(d).setMetaData({logging:{loggingID:(d=a.itemLoggingId)!=null?d:"",entityID:c?null:a.semantic,entityType:c?null:a.type,sequenceID:a.qid},markers:e})}a=function(){__p&&__p();function a(a){this._hasActiveSession=!1,this._previousQuery="",this._selectedSuggestionOrEnter=!1,this._currentSequenceID=null,this._lastSequenceID=null,this._typeahead=a,this._core=a.getCore(),this._loggingProvider=new(b("CometSearchTypeaheadBaseLoggingProvider"))({log:b("cometSearchTypeaheadFalcoLoggingSessionLogBuilder")("search_global")})}var c=a.prototype;c.enable=function(){__p&&__p();var a=this;this._core.data.setUseCustomQueryId(!0);this._core.subscribe("open",function(b,c){b=c==null?void 0:c.sessionID;c!=null&&b!=null&&(a._loggingProvider.startSession(b),a._hasActiveSession=!0);a._currentSequenceID=String(Date.now());a._core.data.setCurQueryId(a._currentSequenceID);a._lastSequenceID=a._currentSequenceID;a._previousQuery=a._core.input.getValue().toString()});this._core.subscribe("close",function(){__p&&__p();if(!a._hasActiveSession)return;a._selectedSuggestionOrEnter||(a._logSessionEndAction("abandon"),a._previousQuery!==""&&b("SurveyAfterTANav").init());a._loggingProvider.endSession();a._previousResults=null;a._previousQuery="";a._hasActiveSession=!1;a._selectedSuggestionOrEnter=!1;a._lastAction=null;a._currentSequenceID=null;a._lastSequenceID=null});this._core.subscribe("select",function(b,c){b=c.index;a._logSessionEndAction("click",b);a._selectedSuggestionOrEnter=!0});this._core.subscribe("magSearch",function(b,c){a._logSessionEndAction("enter"),a._selectedSuggestionOrEnter=!0});this._core.subscribe("change",function(){var b=a._core.input.getValue().toString();if(!a._hasActiveSession||b===a._previousQuery)return;a._currentSequenceID=String(Date.now());a._core.data.setCurQueryId(a._currentSequenceID);a._addEvent(a._lastAction==null?"typeahead_appeared":"keystroke");a._lastSequenceID=a._currentSequenceID;a._previousQuery=b});this._core.view.subscribe("filter",function(b,c){a._previousResults=c.results});this._core.view.subscribe("afterSeeMore",function(b,c){a._previousResults=c.results})};c.disable=function(){};c._addEvent=function(a,b){var c,d;c=((c=this._previousResults)!=null?c:[]).map(function(a,c){a=g(a);c===b&&(d=a);return a});this._loggingProvider.addEvent({action:a,entries:c,queryString:this._previousQuery,sequenceID:this._lastSequenceID,entry:d});this._lastAction=a};c._logSessionEndAction=function(a,b){this._addEvent(this._lastAction==null?"typeahead_appeared":"keystroke"),this._addEvent(a,b)};return a}();e.exports=a}),null);
__d("FacebarTypeaheadNavigation",["Arbiter","FacebarNavigation","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this._core=a.core,this._preserveQuery=!1,this._typeahead=a}var c=a.prototype;c.enable=function(){b("FacebarNavigation").registerBehavior(this),this._core.subscribe("execute",this.executedUserQuery.bind(this))};c.executedUserQuery=function(a,b){this._preserveQuery=!0};c.pageTransition=function(){!this._preserveQuery?(this._core.close(),this._core.reset()):this._preserveQuery=!1};c.setPageQuery=function(a){a=this._core.setPageQuery(a),this._typeahead.inform("navigation",a,"persistent")};return a}();Object.assign(a.prototype,{disable:b("emptyFunction")});e.exports=a}),null);
__d("FacebarTypeaheadPrefixLengthOrderedCache",["Arbiter","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this._typeahead=a}var b=a.prototype;b.enable=function(){this._typeahead.data.inform("setSortFunction",function(a){return function(b,c){if((b.keyword_type==="local"||b.keyword_type==="local_category")&&(c.keyword_type==="local"||c.keyword_type==="local_category"))return 0;if(b.cache_id_length!==c.cache_id_length)return b.cache_id_length-c.cache_id_length;var d=this.getCost(b,a)-this.getCost(c,a);return d!==0?d:(b.semantic||"").localeCompare(c.semantic||"")}.bind(this)}.bind(this),"state")};b.getCost=function(a,b){return a.cost||0};return a}();Object.assign(a.prototype,{disable:b("emptyFunction")});e.exports=a}),null);
__d("FacebarTypeaheadQuickSelect",["FacebarStructuredText","URI","XBrowseQueryController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this._core=a.getCore(),this._view=a.getView(),this._input=this._core.input,this._beforeSelectListener=null,this._quickSelectListener=null}var c=a.prototype;c.enable=function(){this._beforeSelectListener=this._view.subscribe("beforeSelect",this._quickSelect.bind(this)),this._quickSelectListener=this._view.subscribe("quickSelect",this._quickSelect.bind(this))};c._quickSelect=function(a,c){__p&&__p();if(c&&c.selected)return!0;a=this._input.getValue().toArray();c=new(b("FacebarStructuredText"))(a);a=c.toString();if(!a)return!0;c=b("XBrowseQueryController").getURIBuilder().setEnum("searchtype","top").setString("q",a).getURI();a={input_query:a,type:"quickselect",text:a,position:0,with_mouse:0,semantic:"quickselect("+c.toString()+")",extra_uri_params:{source:"quickselect",sid:this._core.getSessionID()},uri:c};this._core.inform("quickSelectRedirect",a);this._core.executeQuery(a);return!1};c.disable=function(){this._beforeSelectListener&&this._view.unsubscribe(this._beforeSelectListener),this._quickSelectListener&&this._view.unsubscribe(this._quickSelectListener)};return a}();e.exports=a}),null);
__d("SearchFunnelLogger",["SearchClientFunnelTypedLogger","SearchFunnelLoggerConfig"],(function(a,b,c,d,e,f){"use strict";a={logSearchOpen:function(a){if(!b("SearchFunnelLoggerConfig").isEnabled)return;new(b("SearchClientFunnelTypedLogger"))().setActionName("search_box_tapped").setTypeaheadSid(a).log()}};e.exports=a}),null);
__d("FacebarTypeaheadRecorderBasic",["FacebarTypeaheadRecorder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this._typeahead=a}var c=a.prototype;c.enable=function(){var a=this._typeahead;this._recorder=new(b("FacebarTypeaheadRecorder"))(a)};c.disable=function(){this._typeahead.unsubscribe(this._subscription),this._recorder=null,this._subscription=null};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("FacebarTypeaheadSeeMore",["cx","fbt","FacebarGSv2Echo","FacebarJSConstants","FacebarKeywordSearchUtils","FacebarStructuredText"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a.getCore(),this.$2=this.$1.view}var c=a.prototype;c.enable=function(){this.$3=this.$2.subscribe("seeMore",this.$4.bind(this))};c.disable=function(){this.$3.unsubscribe()};c.$4=function(a,c){a=c.value.toString().trim();a=b("FacebarGSv2Echo").normalizeValue(a);c=b("FacebarKeywordSearchUtils").makeFacebarEntry(a);var d=h._("See all results for {query}",[h._param("query",a)]);return babelHelpers["extends"]({},c,{query_string:a,icon_class:"_5b1w",isSeeMore:!0,structure:b("FacebarStructuredText").fromString(a),displayStructure:b("FacebarStructuredText").fromString(String(d)),uri:c.uri,tags:{},isSingleState:this.$1.data.getSingleState(),keywordType:b("FacebarJSConstants").keywordTypes.escape,keywordSource:b("FacebarJSConstants").keywordTypes.escape})};return a}();e.exports=a}),null);
__d("FacebarTypeaheadSelectAll",["requestAnimationFrame"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this._core=a.getCore(),this._listener=null}var c=a.prototype;c.enable=function(){var a=this._core.input;this._listener=this._core.subscribe("focus",function(c,d){c=d&&d.catchup;c||b("requestAnimationFrame")(function(){a.selectInput()})})};c.disable=function(){this._listener&&this._core.unsubscribe(this._listener)};return a}();e.exports=a}),null);
__d("FacebarTypeaheadShortcut",["fbt","CurrentUser","KeyboardShortcuts","URI","UserAgent","XFacebookWorkChatInboxController","gkx","translateKey"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=function(){__p&&__p();function a(a){this._input=a.core.input,this._view=a.view,this._listener=null}var c=a.prototype;c.enable=function(){this._registerListener()};c.disable=function(){};c._registerListener=function(){this._listener&&this._listener.remove();var a=b("UserAgent").isPlatform("Mac OS X"),c=(h||(h=b("URI"))).getRequestURI().getPath().startsWith(b("XFacebookWorkChatInboxController").getURIBuilder().getURI().getPath()),d=a?b("translateKey")("cmd"):b("translateKey")("ctrl");this._listener=b("CurrentUser").isWorkUser()&&b("gkx")("792924")&&!c?b("KeyboardShortcuts").register("k",this._selectInput.bind(this),{baseFilters:[function(b){return!a&&b.ctrlKey||a&&b.metaKey}],persistOnTransition:!0,shortcutInfo:{displayKeys:[d,b("translateKey")("k")],description:g._("Search")}}):b("KeyboardShortcuts").register("SLASH",this._selectInput.bind(this),{filter:function(a,b){return!a.getModifiers().shift},persistOnTransition:!0,shortcutInfo:{displayKeys:[b("translateKey")("/")],description:g._("Search")}})};c._selectInput=function(){this._view.setAutoSelect(!0),this._input.focus(),this._input.selectInput(),this._input.inform("shortcut",{shift:!1})};return a}();e.exports=a}),null);
__d("FacebarTypeaheadStickyFilters",["Arbiter","NavigationMessage","Run","SubscriptionsHandler","enumerate","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h=5e3,i="/search/top";a=function(){__p&&__p();function a(a){this.core=a.getCore(),this.filters={},this.subscriptionsHandler=new(b("SubscriptionsHandler"))(),this.view=this.core.view}var c=a.prototype;c.enable=function(){__p&&__p();var a=this;this.subscriptionsHandler.addSubscriptions(b("Arbiter").subscribe("SearchLHCFilters.initStickyFilters",function(c,d){__p&&__p();for(var c=b("enumerate")(a.filters),e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];h in d||(g.active=!1)}for(var h=b("enumerate")(d),g=Array.isArray(h),f=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=h.length)break;e=h[f++]}else{f=h.next();if(f.done)break;e=f.value}c=e;d=c[0];e=c[1];c={value:e,active:!0};a.filters[d]=c}}),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,function(b,c){a.resetFiltersIfNotSearching()}),this.view.subscribe("filter",this.handleFilter.bind(this)),this.core.subscribe("magSearch",this.handleSearch.bind(this)),this.view.subscribe("afterSeeMore",this.handleSeeMore.bind(this)));b("Run").onLeave(function(){a.resetFiltersIfNotSearching()})};c.disable=function(){this.teardown()};c.teardown=function(){this.subscriptionsHandler.release()};c.handleFilter=function(a,b){a=b.results.filter(function(a){return!a.isNullState&&!a.isTrending});this.updateResultData(a)};c.handleSearch=function(a,b){this.updateResultData([b])};c.handleSeeMore=function(a,b){a=b.results.filter(function(a){return a.isSeeMore});this.updateResultData(a)};c.resetFiltersIfNotSearching=function(){__p&&__p();var a=this;if(g)return;g=!0;b("setTimeoutAcrossTransitions")(function(){__p&&__p();var c=window.location.pathname;if(c.indexOf(i)===-1)for(var c=b("enumerate")(a.filters),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=f[1];f.active=!1}g=!1;b("Run").onLeave(function(){a.resetFiltersIfNotSearching()})},h)};c.updateResultData=function(a){__p&&__p();for(var c=0;c<a.length;c++){var d=a[c];if(d.type==="keyword"){var e=d.uri.getQueryData();for(var f=b("enumerate")(this.filters),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];i.active?e[j]=i.value:d.uri.removeQueryData(j)}}}};return a}();e.exports=a}),null);
__d("XWarmUserRequestArgsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/browse/warm/requestargs/",{query:{type:"String"},csid:{type:"String"}})}),null);
__d("TypeaheadEarlyUserRequest",["AsyncRequest","XWarmUserRequestArgsController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this._core=a.getCore(),this._listener=null}var c=a.prototype;c.enable=function(){this._listener=this._core.subscribe("focus",function(a,c){new(b("AsyncRequest"))().setURI(b("XWarmUserRequestArgsController").getURIBuilder().getURI()).send(),this.disable()}.bind(this))};c.disable=function(){this._listener&&this._core.unsubscribe(this._listener)};return a}();e.exports=a}),null);
__d("FacebarTypeaheadDebugPane.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderDebugText=function(a){return b("React").jsx("div",{children:a},a)};d.render=function(){return b("React").jsx("div",{className:"fsm pam",children:this.props.result.debug.map(this.renderDebugText)})};return c}(b("React").Component);e.exports=a}),null);
__d("FacebarTypeaheadDiffText.react",["cx","React","TextWithEmoticons.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderDiff=function(a,c){return b("React").jsx("span",{className:"diffNode _5td3",children:b("React").jsx(b("TextWithEmoticons.react"),{text:a})},c)};d.renderParts=function(){var a=this.props.prefix,c=this.props.text;if(a==null)return[this.renderDiff(c,0)];var d=c.toLowerCase().indexOf(a.toLowerCase());a=a.trim();d===0&&(c=c.slice(a.length));c=c.split(/\b/).map(this.renderDiff);d===0&&c.unshift(b("React").jsx(b("TextWithEmoticons.react"),{text:a},"prefix"));return c};d.render=function(){return b("React").jsx("span",babelHelpers["extends"]({},this.props,{children:this.renderParts()}))};c.generatePrefixes=function(a,b){var c=[],d,e;for(var f=0,g=b.length;f<g;f++){e=b[f].getText();d=a.slice(0,Math.min(a.length,e.length));if(d==="")return c;e.toLowerCase().indexOf(d.toLowerCase())===0?(c.push(d),a=a.slice(d.length)):c.push("")}return c};return c}(b("React").Component);e.exports=a}),null);
__d("FacebarTypeaheadHighlightedText.react",["BrowseFacebarHighlighter","React","TextWithEmoticons.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderHighlight=function(a,c){if((c+1)%3===0)return b("React").jsx("span",{className:"highlightNode",children:b("React").jsx(b("TextWithEmoticons.react"),{text:a})},c);else return b("React").jsx(b("TextWithEmoticons.react"),{text:a})};d.renderParts=function(){var a=this.props.text,c=this.props.tokens;if(c!=null&&a!==""){c=b("BrowseFacebarHighlighter").createRegex(c);c=a.split(c);return c.map(this.renderHighlight)}else return b("React").jsx(b("TextWithEmoticons.react"),{text:a})};d.render=function(){return b("React").jsx("span",babelHelpers["extends"]({},this.props,{children:this.renderParts()}))};return c}(b("React").Component);e.exports=a}),null);
__d("FacebarTypeaheadItem.react",["cx","Badge.react","DOM","DOMContainer.react","FacebarJSConstants","FacebarTypeaheadDebugPane.react","FacebarTypeaheadDiffText.react","FacebarTypeaheadHighlightedText.react","Image.react","React","TypeaheadCanvasConfig","URI","XUICloseButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a){a=a.getTypePart(0);return a?"fragment"+a.charAt(0).toUpperCase()+a.substr(1):"fragment"}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.renderHighlightedFragment=function(a,c){return b("React").jsx(b("FacebarTypeaheadHighlightedText.react"),{className:i(a),text:a.getText(),tokens:d.props.highlight},c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.renderDiffedFragment=function(a,c,d){return b("React").jsx(b("FacebarTypeaheadDiffText.react"),{className:i(a),prefix:c,text:a.getText()},d)};d.renderText=function(){__p&&__p();var a=this,c=this.props.result,d=c.isLocal,e=c.displayStructure!=null?c.displayStructure:c.structure;e=e.toArray();var f=this.props.prefix;if(!c.isSeeMore&&f!=null&&f.trim()!==""){var g=b("FacebarTypeaheadDiffText.react").generatePrefixes(f,e);d&&(g=[]);return e.map(function(b,c){g[c]||(g[c]="");return a.renderDiffedFragment(b,g[c],c)})}else return e.map(this.renderHighlightedFragment)};d.renderBadge=function(){__p&&__p();var a=this.props.result;if(a.category&&a.category.toString().toLowerCase()===b("TypeaheadCanvasConfig").category_games.toLowerCase()&&b("TypeaheadCanvasConfig").in_games_v1)return b("React").jsx(b("Badge.react"),{type:"game_blue",size:"medium"});else if(a.is_verified)return b("React").jsx(b("Badge.react"),{type:"verified",size:"medium"});else if(a.is_work_bot)return b("React").jsx(b("Badge.react"),{type:"bot",size:"medium"});else if(a.is_work_foreign_entity)return b("React").jsx(b("Badge.react"),{type:"work_non_coworker"});else if(a.pages_verified_badge===1)return b("React").jsx(b("Badge.react"),{type:"page_gray_check",size:"medium"});else if(a.is_interest_community)return b("React").jsx(b("Badge.react"),{type:"interest_community",size:"medium"});return null};d.renderIcon=function(){var a=this.props.result,c=a.icon_class;if(c)return b("React").jsx("span",{className:"_k83",children:b("React").jsx("span",{className:c})});else if(a.photo)return b("React").jsx(b("Image.react"),{className:"_20h",alt:"",src:a.photo});return null};d.renderSecondaryIcon=function(){var a=this.props.result;return!a.isRecent&&a.isInjectedSuggestion?b("React").jsx("span",{className:"_3kxl"}):null};d.renderUnseenPosts=function(){if(this.props.recentSearchItem&&this.props.result.unseen_posts){var a=b("React").jsx(b("DOMContainer.react"),{children:b("DOM").create("span",{className:""}," \xb7 ")}),c=b("React").jsx(b("DOMContainer.react"),{children:b("DOM").create("span",{className:""},this.props.result.unseen_posts.markup)});return b("React").jsxs("span",{className:"_2tb-",children:[a,c]})}return null};d.renderLabel=function(){var a=" \xb7 ",c=this.props.result;c="_53ad"+(this.props.valign&&this.props.token&&this.props.token.props&&this.props.token.props.text.length>0?" _55y-":"")+(!c.category&&!c.subtext?" _2vzo":"")+(!c.category&&!!c.subtext||c.category&&c.category.toString().indexOf(a)<0&&!c.subtext?" _2vzp":"")+(c.category&&!!c.subtext||c.category&&c.category.toString().indexOf(a)>0?" _2vzq":"");a=this.renderUnseenPosts();c=b("React").jsxs("span",{className:c,children:[this.renderText(),this.props.hideBadge?null:this.renderBadge(),a,this.props.token]});a="_7gk"+(this.props.message?" _5byz":"");return b("React").jsxs("span",{className:a,children:[c,this.props.message]})};d.renderMain=function(){var a=b("React").jsx("a",{className:"_6i1",href:this.props.result.uri,children:b("React").jsxs("span",{children:[this.props.icon||this.renderIcon(),this.renderLabel(),this.renderSecondaryIcon()]})});this.props.result.isAsync&&(a=b("React").jsx("a",{className:"_6i1",href:"#",ajaxify:this.props.result.asyncURI,rel:"async",children:b("React").jsxs("span",{children:[this.props.icon||this.renderIcon(),this.renderLabel(),this.renderSecondaryIcon()]})}));return b("React").jsxs("span",{className:"_205",rel:"ignore",children:[this.renderActivityLogXButton(),a]})};d.renderActivityLogXButton=function(){if(this.props.result.keywordBootstrapType!==b("FacebarJSConstants").keywordBootstrapTypes.recent)return null;var a=new(h||(h=b("URI")))("/me/allactivity");a.setQueryData({privacy_source:"activity_log",log_filter:"search"});return b("React").jsx(b("XUICloseButton.react"),{size:"medium",className:"_2d9t",href:a})};d.renderDebug=function(){return this.props.result.debug?b("React").jsx(b("FacebarTypeaheadDebugPane.react"),{result:this.props.result}):null};d.render=function(){var a=this.props.result;a="_202 _5bl2 _6_k _1et7 _28vg"+(a.isCelebrity?" _5g-n":"")+(a.isSeeMore?" _qbs":"")+(a.isInjectedSuggestion?" _3kxm":"")+(a.isTrending||a.isHappeningNow?" _5g-o":"")+(a.isRecent?" _jsd":"")+(a.isLocal?" _1821":"")+(a.isFootball?" _1822":"")+(a.isHashtag?" _4z1b":"")+(a.isPhotos?" _4z1c":"")+(a.isVideos?" _4z1d":"")+(a.isInvalidated||a.is_inactive?" _44vm":"");return b("React").jsx("li",{className:b("joinClasses")(a,this.props.className),onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,role:"row",children:b("React").jsxs("div",{role:"gridcell",children:[this.renderMain(),this.renderDebug()]})})};return c}(b("React").Component);a.defaultProps={valign:!0};e.exports=a}),null);
__d("FacebarTypeaheadToken.react",["cx","FacebarTypeaheadHighlightedText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=" \xb7 ";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props.text.map(function(a){return String(a)});this.props.limit&&c.splice(this.props.limit);c.forEach(function(b,d){(d!==0||a.props.leadingMiddot)&&(c[d]=h+b)});var d=c.shift(),e;d!=null&&(e=b("React").jsx(b("FacebarTypeaheadHighlightedText.react"),{className:this.props.mainClass,tokens:this.props.highlight,text:d}));var f;c.length>0&&(f=b("React").jsx(b("FacebarTypeaheadHighlightedText.react"),{tokens:this.props.highlight,className:"_53ab",text:c.join("")}));d=this.props.innerClass||"_53aa";return b("React").jsx("span",{className:"_53a9",children:b("React").jsxs("span",{className:d,children:[e,f]})})};return c}(b("React").Component);e.exports=a}),null);
__d("FacebarTypeaheadTokenText",["FbtResultBase","HTML","getElementText"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="\xb7";function h(a){if(a instanceof b("FbtResultBase"))return a.toString();else if(typeof a==="object")return b("getElementText")(b("HTML")(a).getRootNode());else return String(a)}function i(a){return h(a).split(g).map(function(a){return a.trim()})}function j(a){var b={};return a.filter(function(a){var c=String(a),d=!b[c];b[c]=!0;return a!=null&&a!==""&&d})}a={textForEntity:function(a,b){b=a.category||b[a.type]||"";var c=a.subtext||"";a=a.boldedSubtext||"";b=i(b).concat(i(a)).concat(i(c));return j(b)},text:function(a){return j(i(a))}};e.exports=a}),null);
__d("FacebarTypeaheadEntityItem.react",["ix","cx","CurrentUser","FacebarTypeaheadItem.react","FacebarTypeaheadToken.react","FacebarTypeaheadTokenText","Image.react","React","RoundImage.react","TypeaheadFacepileX.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderToken=function(){return b("React").jsx(b("FacebarTypeaheadToken.react"),{highlight:this.getHighlightTokens(),text:b("FacebarTypeaheadTokenText").textForEntity(this.props.result,{}),category:this.props.result.category})};d.renderIcon=function(){__p&&__p();var a=this.props.result;if(a.isNullState){var c=a.icon_class?b("React").jsx("span",{className:a.icon_class}):b("React").jsx(b("Image.react"),{className:"_20h",src:a.photo});return b("React").jsx("span",{children:c})}if((a.type==="user"||a.type==="page")&&a.photo)return b("React").jsx(b("RoundImage.react"),{className:"_20h",src:a.photo});if((a.type==="group"||a.type==="event")&&a.photo)return b("React").jsx(b("Image.react"),{className:"_20h _7a55",src:a.photo});if(a.size>1&&a.photos)return b("React").jsx(b("TypeaheadFacepileX.react"),{className:"_51l_",photos:a.photos,size:a.size});else if(a.photo)return b("React").jsx(b("Image.react"),{className:"_20h",alt:"",src:a.photo});else if(b("CurrentUser").isWorkUser()&&!a.isInviteCoworkers)return b("React").jsx(i,{result:a});return null};d.getHighlightTokens=function(){if(this.props.result.original_query==null)return null;var a=this.props.result.original_query.toString().trim(),b=a.split(" ");b=b.length>1?[a].concat(b):[a];return b.filter(function(a){return a!==""})};d.render=function(){var a=babelHelpers["extends"]({},this.props,{icon:this.renderIcon(),token:this.renderToken(),highlight:this.getHighlightTokens(),valign:!0});return b("React").jsx(b("FacebarTypeaheadItem.react"),babelHelpers["extends"]({},a))};return c}(b("React").Component);function i(a){__p&&__p();a=a.result;var c="_20h",d=null;switch(a.type){case"user":d=g("489501");break;case"page":a.category_type==="MEETING_ROOM"?d=g("794183"):d=g("669566");break;case"group":d=g("542240");break;case"event":d=g("534788");break}return d==null?null:b("React").jsx("div",{className:c,children:b("React").jsx(b("Image.react"),{className:"_7g-z",src:d})})}e.exports=a}),null);
__d("FacebarTypeaheadKeywordItem.react",["cx","fbt","CurrentUser","FacebarTypeaheadItem.react","FacebarTypeaheadToken.react","FacebarTypeaheadTokenText","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="";b("CurrentUser").isWorkUser()?a=[h._("Search Workplace")]:a=[h._("Search Facebook")];this.props.result.isTrending?a.push(h._("Trending")):this.props.result.type=="related"&&(a=[h._("Related search")]);var c=b("FacebarTypeaheadTokenText").textForEntity(this.props.result,{});c!=null&&c.length&&(a=c);c=c!=null&&(c.length>1||this.props.result.boldedSubtext!=null);var d=this.props.result.isSeeMore;d=d?null:b("React").jsx(b("FacebarTypeaheadToken.react"),{text:a,mainClass:(c?"_4jt7":"")+(c&&this.props.result.isSpecialIntent&&!this.props.result.isLocal?" _21z1":"")+(c&&this.props.result.isLocal?" _2xfl":"")+(c&&this.props.result.isPhotos?" _21z2":"")+(c&&this.props.result.isVideos?" _21z4":"")+(c&&this.props.result.isSingleState&&this.props.result.exactMatchKeyword&&!this.props.result.isLocal?" _21z5":""),innerClass:"_53ab"});return b("React").jsx(b("FacebarTypeaheadItem.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5d77"),token:d,prefix:this.props.result.query_string.toLowerCase(),showSecondaryIcon:!1}))};return c}(b("React").Component);e.exports=a}),null);
__d("FacebarTypeaheadMessengerThreadIcon.react",["cx","React","WorkGalahadImage.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();a.className;a=a.result;a=a.participantImgs;if(!Array.isArray(a))return null;if(a.length===1)return h(a[0],0,32);a=a.slice(0,2);return b("React").jsx("div",{className:"_7ev9",children:a.map(function(a,b){return h(a,b,23)})})}function h(a,c,d){return b("React").jsx("div",{className:"_7eva",children:b("React").jsx(b("WorkGalahadImage.react"),{src:a,height:d,type:"circle",width:d})},c)}e.exports=a}),null);
__d("FacebarTypeaheadMessengerThreadItem.react",["cx","fbt","FacebarTypeaheadItem.react","FacebarTypeaheadMessengerThreadIcon.react","FacebarTypeaheadToken.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=babelHelpers["extends"]({},this.props,{icon:b("React").jsx(b("FacebarTypeaheadMessengerThreadIcon.react"),{result:this.props.result,className:"_20h",size:36}),token:this.renderToken(),valign:!0});return b("React").jsx(b("FacebarTypeaheadItem.react"),babelHelpers["extends"]({},a))};d.renderToken=function(){var a=[h._("Chat")];return b("React").jsx(b("FacebarTypeaheadToken.react"),{text:a,category:this.props.result.category})};return c}(b("React").Component);e.exports=a}),null);
__d("FacebarTypeaheadNodeItem.react",["DOM","React","ReactDOM","isElementNode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.result.node;return b("React").jsx("li",babelHelpers["extends"]({},this.props,{children:b("isElementNode")(a)?null:a}))};d.attachNode=function(){var a=b("ReactDOM").findDOMNode(this);if(a==null)return;var c=this.props.result.node;b("isElementNode")(c)&&b("DOM").setContent(a,c)};d.componentDidMount=function(){this.attachNode()};d.componentDidUpdate=function(){this.attachNode()};d.shouldComponentUpdate=function(a){return this.props.result.node!==a.result.node};return c}(b("React").Component);e.exports=a}),null);
__d("FacebarTypeaheadRecentItem.react",["cx","FacebarGlobalOptions","FacebarTypeaheadItem.react","FacebarTypeaheadToken.react","Image.react","React","RoundImage.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("FacebarTypeaheadItem.react"),babelHelpers["extends"]({},this.props,{token:this.renderToken(),icon:this.renderIcon(),recentSearchItem:!0}))};d.renderToken=function(){return this.props.result.subtext?b("React").jsx(b("FacebarTypeaheadToken.react"),{text:[this.props.result.subtext]}):null};d.renderIcon=function(){var a=this.props.result;if((a.type==="user"||a.type==="page")&&a.photo)return b("React").jsx(b("RoundImage.react"),{className:"_20h",src:a.photo});if((a.type==="group"||a.type==="event")&&a.photo)return b("React").jsx(b("Image.react"),{className:"_20h _7a55",src:a.photo});if(!b("FacebarGlobalOptions").allowGrammar)return b("React").jsx(b("Image.react"),{className:"_20h",src:a.photo});var c=a.icon_class?b("React").jsx("span",{className:a.icon_class}):b("React").jsx(b("Image.react"),{className:"_20h",src:a.photo});return b("React").jsx("span",{className:a.icon_class?"_k83":"",children:c})};return c}(b("React").Component);e.exports=a}),null);
__d("XTypeaheadDeleteRecentSearchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/typeahead/delete_recent_search/",{recent_search:{type:"String",required:!0}})}),null);
__d("StructuredInputDOM",["cx","CSS","DOM","FacebarGlobalOptions","createArrayFromMixed","getElementText","isElementNode","isTextNode"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){return"_4v1s"};var h={ENTITY_CLASS:a(),encodeText:function(a){return a.replace(/ /g,"\xa0")},decodeText:function(a){return a.replace(/\u00a0/g," ")},createIconNode:function(a){if(a&&typeof a==="object"){a=b("DOM").create("i",{className:a.className,style:a.uri&&{backgroundImage:'url("'+a.uri+'")'}});a.setAttribute("data-select","ignore");return a}},createTextNode:function(a){return b("DOM").create("span",{"data-si":!0},h.encodeText(a||""))},createEntityNode:function(a,c){var d=h.encodeText(a.text),e=h.createIconNode(c.icon);e=b("DOM").create("span",{},e?[e,d]:d);var f=(c.className||"").split(/\s+/);f.push(h.ENTITY_CLASS);f.forEach(b("CSS").addClass.bind(b("CSS"),e));f={si:!0,uid:a.uid,type:a.type,text:d,"is-local":a.isLocal,"category-name":a.categoryName,fulltext:d,group:c.group,select:c.select,icon:JSON.stringify(c.icon||null)};for(var g in f)f[g]!=null&&e.setAttribute("data-"+g,f[g]);return e},convertToTextNode:function(a){__p&&__p();a.className="";a.setAttribute("data-type","text");a.removeAttribute("data-group");a.removeAttribute("data-select");a.removeAttribute("data-icon");a.removeAttribute("data-uid");a.removeAttribute("data-is-local");a.removeAttribute("data-category-name");for(var a=a.firstChild;a;a=a.nextSibling)b("isTextNode")(a)||b("DOM").remove(a)},isEntityNode:function(a){return b("isElementNode")(a)&&b("CSS").hasClass(a,h.ENTITY_CLASS)},containsOnlyText:function(a,c){c=b("createArrayFromMixed")(c);for(var d=a.firstChild;d;d=d.nextSibling)if(!(b("isTextNode")(d)||a.nodeName in c))return!1;return!0},getText:function(a){return b("getElementText")(a).replace(/ /g,"\xa0")},getDecodedText:function(a){return h.decodeText(b("getElementText")(a))},getLength:function(a){return b("getElementText")(a).length},getMarker:function(a,c,d){__p&&__p();a=a.firstChild;while(a){var e=h.getLength(a);if(e>c||!a.nextSibling)if(b("isTextNode")(a)||!d)return{node:a,offset:Math.min(c,e)};else return h.getMarker(a,c);else c-=e;a=a.nextSibling}}};e.exports=h}),null);
__d("StructuredInputUtil",["StructuredInputDOM"],(function(a,b,c,d,e,f){__p&&__p();function g(a,b,c){a=a.substr(0,b).lastIndexOf(c);return a!==-1?a+1:0}function h(a,b,c){c=a.indexOf(c,b);return c!==-1?c:a.length}function i(a,b,c){return b===0||b===a.length||a.substr(b,c.length)==c}function j(a,b,c,d){switch(b){case"none":return c;case"all":return d?a.length:0;case"word":if(i(a,c,"\xa0"))return c;else if(d)return h(a,c,"\xa0");else return g(a,c,"\xa0")}}function k(a,c){return c&&b("StructuredInputDOM").isEntityNode(a)&&!b("StructuredInputDOM").isEntityNode(c)}var l={getMarkerAtOffset:function(a,c){var d=a.firstChild,e=0,f=0;while(d){e+=f;f=b("StructuredInputDOM").getLength(d);if(e+f>c)break;else d=d.nextSibling}return{node:d||a.lastChild,offset:c-e}},validateEntityText:function(a){__p&&__p();var c=b("StructuredInputDOM").getText(a),d=a.getAttribute("data-fulltext");a=a.getAttribute("data-group");if(a=="hashtag"){var e=c.match(/#[^\s]+/);d=e&&e[0]}e=c.indexOf(d);var f={prefix:null,entity:null,suffix:null};switch(a){case"none":f.entity=c;break;case"hashtag":case"all":e!=-1?(f.prefix=c.substr(0,e),f.entity=c.substr(e,d.length),f.suffix=c.substr(e+d.length)):f.suffix=c;break;case"word":e!=-1&&(f.prefix=c.substr(0,e),c=c.substr(e));a=0;e=0;while(a<d.length){e=h(d,a+1,"\xa0");if(c.substr(0,e)!=d.substr(0,e))break;else a=e}f.entity=c.substr(0,a)||null;f.suffix=c.substr(a)||null}return f},getGrouping:function(a,b){var c=a.getAttribute("data-group");a=a.getAttribute("data-select");if(b=="select")return a=="group"?c:"none";else return c},snapMarkerToText:function(a,c){__p&&__p();var d=a.node;if(b("StructuredInputDOM").isEntityNode(d)){var e=a.offset;c=l.getGrouping(d,c);if(c!="none")if(e===0){c=d.previousSibling;if(k(d,c))return{node:c,offset:b("StructuredInputDOM").getLength(c)}}else if(e==b("StructuredInputDOM").getLength(d)){c=d.nextSibling;if(k(d,c))return{node:c,offset:0}}}return a},nextMarkerBoundary:function(a,c,d){var e=a.node;if(b("StructuredInputDOM").isEntityNode(e)&&(!c||a.offset!==0)){d=l.getGrouping(e,d);if(d!="none")return{node:a.node,offset:j(b("StructuredInputDOM").getText(e),d,a.offset,c)}}return a}};e.exports=l}),null);
__d("StructuredInputCleaner",["DOM","StructuredInputDOM","StructuredInputUtil","UserAgent_DEPRECATED","createArrayFromMixed","getElementText","isTextNode"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b,c){this._node=a,this._selection=b,this._wrapText=c}var c=a.prototype;c._cleanEntityNode=function(a){__p&&__p();var c=a.getAttribute("data-text"),d=b("StructuredInputDOM").getText(a);a.style.cssText="";if(c==d&&b("StructuredInputDOM").containsOnlyText(a,{I:!0}))return null;c=[];var e=b("StructuredInputUtil").validateEntityText(a),f=b("StructuredInputDOM").createIconNode(JSON.parse(a.getAttribute("data-icon")));if(!e.entity&&(e.suffix&&!e.prefix||e.prefix&&!e.suffix)){b("StructuredInputDOM").convertToTextNode(a);a.setAttribute("data-text",d);return null}e.prefix&&c.push(this._createTextNode(e.prefix));e.entity&&(this._selection&&b("getElementText")(a)!==e.entity&&this._selection.markDirty(a),b("DOM").setContent(a,f?[f,e.entity]:e.entity),a.setAttribute("data-text",e.entity),c.push(a));e.suffix&&c.push(this._createTextNode(e.suffix));return c};c._removeSpecialNodes=function(){var a=b("createArrayFromMixed")(this._node.getElementsByTagName("script")),c=b("createArrayFromMixed")(this._node.getElementsByTagName("style"));a.forEach(b("DOM").remove);c.forEach(b("DOM").remove)};c._collapseNodes=function(){for(var a,c=this._node.firstChild;c;c=a){a=c.nextSibling;if(!b("isTextNode")(c)&&!b("StructuredInputDOM").isEntityNode(c)&&!b("StructuredInputDOM").containsOnlyText(c))for(var d=c.lastChild;d;d=c.lastChild)this._node.insertBefore(d,a),a=d}};c._createTextNode=function(a){if(this._wrapText)return b("StructuredInputDOM").createTextNode(a);else return document.createTextNode(a)};c.replaceNodes=function(a,c){if(c==null)return;var d=a.length?a[a.length-1].nextSibling:null;a.forEach(function(a){c.indexOf(a)===-1&&b("DOM").remove(a)},this);c.reverse().forEach(function(b){a.indexOf(b)===-1&&this._node.insertBefore(b,d),d=b},this)};c.clean=function(){var a=this;this._removeSpecialNodes();this._collapseNodes();var c=[],d=function(){c.length&&(this.replaceNodes(c,this._cleanTextNodes(c)),c.length=0)}.bind(this);Array.from(this._node.childNodes).forEach(function(e){b("StructuredInputDOM").isEntityNode(e)?(a.replaceNodes([e],a._cleanEntityNode(e)),d(c)):c.push(e)});d();!this._node.firstChild&&b("UserAgent_DEPRECATED").firefox()&&this._node.appendChild(this._createTextNode())};c.endOnText=function(){var a=function(a,c){b("StructuredInputDOM").isEntityNode(a)&&this._node.insertBefore(this._createTextNode(),c?a:null)}.bind(this);a(this._node.firstChild,!0);a(this._node.lastChild,!1)};return a}();Object.assign(a.prototype,{_cleanTextNodes:function(){__p&&__p();var a=function(a){return a.nodeName==="BR"||a.nodeName==="SPAN"&&c(a)},c=function(a){return a.getAttribute("data-si")&&b("StructuredInputDOM").containsOnlyText(a)&&b("StructuredInputDOM").getLength(a)>0};return function(c){if(c.length!=1||!a(c[0])){var d=c.map(b("StructuredInputDOM").getText).join("").replace(/\s+/g," ");return d?[this._createTextNode(d)]:[]}else{c[0].style.cssText="";return}}}()});e.exports=a}),null);
__d("DOMSelection",[],(function(a,b,c,d,e,f){__p&&__p();(function(){__p&&__p();var a=this,b={isPreceding:function(a,b){return b.compareDocumentPosition(a)&2},contains:function(a,b){if(a.compareDocumentPosition!=null)return a.compareDocumentPosition(b)&16;else return a.contains(b)},isCursorPreceding:function(a,c,d,e){__p&&__p();if(a===d)return c<=e;if(b.isText(a)&&b.isText(d))return b.isPreceding(a,d);if(b.isText(a)&&!b.isText(d))return!b.isCursorPreceding(d,e,a,c);if(!b.contains(a,d))return b.isPreceding(a,d);if(a.childNodes.length<=c)return!1;return a.childNodes[c]===d?0<=e:b.isPreceding(a.childNodes[c],d)},isText:function(a){return a!=null?a.nodeType==3:!1},getChildIndex:function(a){var b=0;while(a=a.previousSibling)b++;return b}},c=a.Selection=function(){__p&&__p();function a(a){this.win=a}a.prototype.hasSelection=function(){return a.hasSelection(this.win)};a.prototype.isBidirectional=function(){return a.isBidirectional(this.win)};a.prototype.getOrigin=function(){return a.getOrigin(this.win)};a.prototype.getFocus=function(){return a.getFocus(this.win)};a.prototype.getStart=function(){return a.getStart(this.win)};a.prototype.getEnd=function(){return a.getEnd(this.win)};a.prototype.trySelection=function(b,c,d,e){return a.trySelection(this.win,b,c,d,e)};a.prototype.setSelection=function(b,c,d,e){return a.setSelection(this.win,b,c,d,e)};a.prototype.clearSelection=function(){return a.clearSelection(this.win)};return a}();function d(){if(a.document.selection&&/MSIE 9\./.test(navigator.userAgent))return!1;else return!!a.getSelection}if(d()){c.supported=!0;c.hasSelection=function(a){return(a=a.getSelection())&&a.focusNode!=null&&a.anchorNode!=null};c.isBidirectional=function(a){return!0};c.getOrigin=function(a){return!((a=a.getSelection())&&a.anchorNode!=null)?null:[a.anchorNode,a.anchorOffset]};c.getFocus=function(a){return!((a=a.getSelection())&&a.focusNode!=null)?null:[a.focusNode,a.focusOffset]};c.getStart=function(a){var d,e,f;if(!c.hasSelection(a))return null;f=c.getOrigin(a),d=f[0],f=f[1];a=c.getFocus(a),e=a[0],a=a[1];return b.isCursorPreceding(d,f,e,a)?[d,f]:[e,a]};c.getEnd=function(a){var d,e,f;if(!c.hasSelection(a))return null;f=c.getOrigin(a),d=f[0],f=f[1];a=c.getFocus(a),e=a[0],a=a[1];return b.isCursorPreceding(d,f,e,a)?[e,a]:[d,f]};d=function(a,b,d,e,f,g){__p&&__p();var h=b.getSelection();if(!h)return;f==null&&(f=d);g==null&&(g=e);if(h.collapse&&h.extend)h.collapse(d,e),h.extend(f,g);else{r=b.document.createRange();r.setStart(d,e);r.setEnd(f,g);if(a||!c.hasSelection(b)||r.endContainer===f&&r.endOffset===g&&r.startContainer===d&&r.startOffset===e){try{h.removeAllRanges()}catch(a){}h.addRange(r)}}};c.setSelection=d.bind(c,!0);c.trySelection=d.bind(c,!1);c.clearSelection=function(a){try{a=a.getSelection();if(!a)return;a.removeAllRanges()}catch(a){}};c.getText=function(a){a=a.getSelection();if(!a)return;return a.toString()}}else if(a.document.selection){var e=function(a,c,d){__p&&__p();var e,f;a=a.createElement("a");e=c.duplicate();e.collapse(d);f=e.parentElement();while(!0){f.insertBefore(a,a.previousSibling);e.moveToElementText(a);if(!(e.compareEndPoints(d?"StartToStart":"StartToEnd",c)>0&&a.previousSibling!=null))break}e.compareEndPoints(d?"StartToStart":"StartToEnd",c)===-1&&a.nextSibling?(e.setEndPoint(d?"EndToStart":"EndToEnd",c),f=a.nextSibling,d=e.text.length):(f=a.parentNode,d=b.getChildIndex(a));a.parentNode.removeChild(a);return[f,d]},f=function(a,c,d,e,f){__p&&__p();var g,h,i;i=0;g=b.isText(e)?e:e.childNodes[f];h=b.isText(e)?e.parentNode:e;b.isText(e)&&(i=f);e=a.createElement("a");h.insertBefore(e,g||null);f=a.body.createTextRange();f.moveToElementText(e);e.parentNode.removeChild(e);c.setEndPoint(d?"StartToStart":"EndToEnd",f);return c[d?"moveStart":"moveEnd"]("character",i)};c.supported=!0;c.hasSelection=function(a){var b;if(!a.document.selection)return!1;b=a.document.selection.createRange();return b&&b.parentElement().document===a.document};c.getStart=function(a){var b;if(!c.hasSelection(a))return null;b=a.document.selection.createRange();return e(a.document,b,!0)};c.getEnd=function(a){var b;if(!c.hasSelection(a))return null;b=a.document.selection.createRange();return e(a.document,b,!1)};c.isBidirectional=function(a){return!1};c.getOrigin=function(a){return c.getStart(a)};c.getFocus=function(a){return c.getEnd(a)};d=function(a,b,c,d,e,g){e==null&&(e=c);g==null&&(g=d);a=b.document.body.createTextRange();f(b.document,a,!1,e,g);f(b.document,a,!0,c,d);return a.select()};c.setSelection=d.bind(c,!0);c.trySelection=d.bind(c,!1);c.clearSelection=function(a){return a.document.selection.empty()};c.getText=function(a){if(!c.hasSelection(a))return null;a=a.document.selection.createRange();return a&&a.text}}else c.supported=!1}).call(this),e.exports=Selection}),null);
__d("StructuredInputSelection",["DOM","DOMSelection","Scroll","StructuredInputDOM","StructuredInputUtil","Vector"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){var b=a.ownerDocument;this.window=b.defaultView||b.parentWindow;this.root=a;this.selection=!1;this.start=new g(this,[]);this.end=new g(this,[]);this.update()}var c=a.prototype;c.isSupported=function(){return!!(b("DOMSelection")&&b("DOMSelection").hasSelection)};c.update=function(){this.selection=!1;if(this.isSupported()&&this.root==document.activeElement&&b("DOMSelection").hasSelection(this.window)){var a=b("DOMSelection").getStart(this.window),c=b("DOMSelection").getEnd(this.window),d=b("DOMSelection").getFocus(this.window);this.start=this.makeMarker(a);this.end=this.makeMarker(c);this.backward=a[0]==d[0]&&a[1]==d[1];this.selection=this.start.node&&this.end.node}};c.makeMarker=function(a){if(a[0]===this.root)return new g(this,[this.root.childNodes[a[1]],0]);else return new g(this,a)};c.getFocus=function(){return this.backward?this.start:this.end};c.getOrigin=function(){return this.backward?this.end:this.start};c.move=function(a){if(this.selection){this.start.move(a);this.start.snap();this.end.setPosition(this.start);return this.apply()}};c.expand=function(a){if(this.selection){b("DOMSelection").isBidirectional()&&(this.start.move(!a),this.start.snap(),this.end.move(a),this.end.snap());return this.apply()}};c.getText=function(){if(this.selection&&this.isSupported()){var a=b("DOMSelection").getText(this.window);return a}};c.getOffset=function(){if(this.selection)return this.start.rootOffset};c.getLength=function(){return(this.getText()||"").length};c.setPosition=function(a,c){this.backward=!1;this.selection=!0;this.start.setPosition(b("StructuredInputUtil").getMarkerAtOffset(this.root,a));this.start.snap();c>0?(this.end.setPosition(b("StructuredInputUtil").getMarkerAtOffset(this.root,a+c)),this.end.snap()):this.end.setPosition(this.start);return this.apply()};c.hasRange=function(){return this.selection&&(this.start.node!=this.end.node||this.start.offset!=this.end.offset)};c.scrollToFocus=function(){var a=5,c=this.getFocus();if(c.node){var d=b("Vector").getElementDimensions(this.root).x,e=b("Scroll").getLeft(this.root);c=c.node.offsetLeft+c.node.offsetWidth;c-e<a?b("Scroll").setLeft(this.root,c-a):c-e>d-a&&b("Scroll").setLeft(this.root,c-d+a)}};c.apply=function(){__p&&__p();if(this.start.hasChanged()||this.end.hasChanged()){var a=this.getOrigin().getMarker(!0),c=this.getFocus().getMarker(!0);this.selection=this.selection&&a&&a.node&&c&&c.node;if(this.selection&&this.isSupported()){this.start.changed=!1;this.end.changed=!1;b("DOMSelection").trySelection(this.window,a.node,a.offset,c.node,c.offset);return!0}}};c.markDirty=function(a){b("DOM").contains(a,this.start.node,a)&&(this.start.changed=!0),b("DOM").contains(a,this.end.node,a)&&(this.end.changed=!0)};return a}();var g=function(){"use strict";__p&&__p();function a(a,b){this.selection=a,this.node=b[0],this.offset=b[1],this.rootOffset=this.getRootOffset(b[0],b[1]),this.sibling=this.node&&this.node.previousSibling,this.changed=!1}var c=a.prototype;c.hasChanged=function(){return this.changed||!this.isNodeValid()};c.isNodeValid=function(){if(b("StructuredInputDOM").getLength(this.node)>this.offset){var a=this.node;while(a=a.parentNode)if(a==this.selection.root)return!0}};c.getMarker=function(a){if(this.isNodeValid()&&(a&&!this.node.firstChild||!a&&this.node.parentNode==this.selection.root))return this;else return b("StructuredInputDOM").getMarker(this.selection.root,this.rootOffset,a)};c.move=function(a){this.node&&this.setPosition(b("StructuredInputUtil").nextMarkerBoundary(this.getMarker(!1),a,"select"))};c.snap=function(){this.node&&this.setPosition(b("StructuredInputUtil").snapMarkerToText(this.getMarker(!1),"select"))};c.setPosition=function(a){(a.offset!=this.offset||a.node!=this.node)&&(this.changed=!0,this.node=a.node,this.offset=a.offset,this.rootOffset=this.getRootOffset(this.node,this.offset))};c.getRootOffset=function(a,c){var d=0,e=5;while(a&&d++<e)if(a===this.selection.root)return c;else{var f=a;while(f=f.previousSibling)c+=b("StructuredInputDOM").getLength(f);a=a.parentNode}};return a}();e.exports=a}),null);
__d("StructuredInput",["csx","cx","fbt","Arbiter","ArbiterMixin","CSS","DataStore","DOM","Event","Input","InputSelection","JSLogger","Keys","Locale","Parent","Scroll","StructuredInputCleaner","StructuredInputDOM","StructuredInputSelection","StructuredInputUtil","Style","UserAgent_DEPRECATED","createArrayFromMixed","createObjectFrom","emptyFunction","getActiveElement","isElementNode","isTextNode","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=229,k=(a=b("createObjectFrom"))([(c=b("Keys")).UP,c.DOWN,c.LEFT,c.RIGHT,c.HOME,c.END]),l=a([c.BACKSPACE,c.DELETE]),m=a([c.SPACE,c.RETURN]),n=a("IUB".split("").map(function(a){return a.charCodeAt(0)})),o=b("UserAgent_DEPRECATED").firefox(),p=b("UserAgent_DEPRECATED").ie(),q=b("UserAgent_DEPRECATED").webkit(),r=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a){__p&&__p();var d;d=c.call(this)||this;b("DataStore").set(a,"StructuredInput",babelHelpers.assertThisInitialized(d));d._root=a;d._richInput=b("DOM").find(a,"._586i");d._textInput=b("DOM").find(a,"._586f");d._placeholderText=b("DOM").scry(a,"._586j")[0];d._hintText=b("DOM").find(a,"._586k");d._contentWidth=null;d._richWidth=null;d._hintNodes=[];b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.structuredInputState={initInputsFinished:!!d._initInputsFinished,initEventsFinished:!!d._initEventsFinished,cleanInputPreTogglesFinished:!!d._cleanInputPreTogglesFinished,cleanInputFinished:!!d._cleanInputFinished,elements:{richInput:!!d._richInput,textInput:!!d._textInput,placeholderText:!!d._placeholderText,hintText:!!d._hintText}}});d.init();return d}var d=a.prototype;d.init=function(){this.init=b("emptyFunction"),this._initSelection(),this._initCleaner(),this._initInputs(),this._initInputsFinished=!0,this._initEvents(),this._initEventsFinished=!0,this._scheduledCleanInput=!1,this._richChanged=!1,this._textChanged=!1,this._selectionChanged=!1,this._selectionIgnore=!1,this._imeMode=!1,this.cleanInput(),this.inform("init",null,"persistent")};d._initInputs=function(){__p&&__p();this._richInput.contentEditable=!0;this._richInput.spellcheck=!1;this._richInput.tabIndex=0;this._richInput.setAttribute("aria-label",i._("Search Facebook"));this._textInput.tabIndex=-1;this._multiline=this._textInput.nodeName=="TEXTAREA";if(!b("CSS").shown(this._richInput)){var a=b("InputSelection").get(this._textInput),c=b("getActiveElement")()===this._textInput;b("DOM").setContent(this._richInput,b("StructuredInputDOM").encodeText(b("Input").getValue(this._textInput)));b("CSS").hide(this._textInput);b("CSS").show(this._richInput);this.cleanInput();c&&(this._richInput.focus(),this.setSelection({offset:a.start,length:a.end-a.start}))}this.togglePlaceholder();this._toggleHint()};d._initEvents=function(){__p&&__p();var a=null,c=!1,d=function(){this._richChanged=!0,c||this.scheduleCleanInput(!0)}.bind(this),e=function(){this._textChanged=!0,c||this.scheduleCleanInput(!1)}.bind(this),f=function(){this._selectionChanged=!0,this.scheduleCleanInput(!1)}.bind(this),g=function(){this._imeMode=!0,this._placeholderText&&b("CSS").hide(this._placeholderText),b("CSS").hide(this._hintText)}.bind(this),h=function(){this._imeMode=!1,this._richChanged=!0,this.cleanInput()}.bind(this);b("Event").listen(this._richInput,"keydown",function(c){__p&&__p();a=c.keyCode;if(c.ctrlKey&&c.keyCode in n)return c.kill();else if(c.keyCode in k)f();else if(c.keyCode===b("Keys").BACKSPACE&&this._deleteTrailingChunk()){this._richChanged=!0;this.cleanInput();return c.kill()}else c.keyCode in l?d():c.keyCode==j&&g()}.bind(this));b("Event").listen(this._richInput,"keypress",function(a){if(a.keyCode==b("Keys").RETURN){this._multiline&&this._insertText("\n");return a.kill()}else!this._selectionChanged&&this._selectionIsText()?e():d()}.bind(this));!c?(b("Event").listen(this._richInput,"keyup",function(b){if((this._imeMode||b.keyCode!=a)&&b.keyCode in m){h();return b.kill()}else this._imeMode&&(this._textChanged=!0,this.cleanInput())}.bind(this)),o&&b("Event").listen(this._richInput,"input",function(){this._textChanged=!0,this.cleanInput()}.bind(this))):(b("Event").listen(this._richInput,"compositionstart",g),b("Event").listen(this._richInput,"compositionend",function(){setTimeout(h,0)}),b("Event").listen(this._richInput,"input",function(){this._textChanged=!0,this._imeMode||(!this._richChanged?this.cleanInput():this.scheduleCleanInput())}.bind(this)));b("Event").listen(document,"selectionchange",function(){this._selectionIgnore?this._selectionIgnore=!1:this._selectionChanged=!0}.bind(this));b("Event").listen(this._richInput,"mousedown",function(){this._selectionChanged=!0,this._selectionLength=0,this._selectionOffset=0}.bind(this));b("Event").listen(this._richInput,"mouseup",function(){this._selectionChanged=!0,this.scheduleCleanInput()}.bind(this));b("Event").listen(this._richInput,"cut",function(){this._richChanged=!0,this.scheduleCleanInput(!1)}.bind(this));b("Event").listen(this._richInput,"paste",function(a){this._richChanged=!0,this.scheduleCleanInput(!0)}.bind(this));b("Event").listen(this._richInput,"drop",function(a){this.focus();this.selectAll();this._insertClipboard(a&&a.dataTransfer);return a.kill()}.bind(this));b("Event").listen(this._richInput,"dragover",function(a){a.dataTransfer.dropEffect="move";a.dataTransfer.effectAllowed="move";return a.kill()});b("Event").listen(this._richInput,"focus",function(a){this._toggleHint(),this.inform("focus")}.bind(this));b("Event").listen(this._richInput,"blur",function(a){b("CSS").hide(this._hintText),this._imeMode=!1,this._richChanged=!0,this.scheduleCleanInput(!1),this.inform("blur")}.bind(this))};d._initCleaner=function(){this._cleaner=new(b("StructuredInputCleaner"))(this._richInput,this._selection,!0)};d._initSelection=function(){this._selection=new(b("StructuredInputSelection"))(this._richInput),this._selectionLength=0,this._selectionOffset=0};d._insertClipboard=function(a){if(a&&typeof a.getData==="function"){a=a.getData("Text");this._insertText(a)}};d._deleteTrailingChunk=function(a){__p&&__p();a=this.getSelection();if(a.length>0||a.offset===0)return!1;a=this.getSelection().offset-1;a=b("StructuredInputUtil").getMarkerAtOffset(this._richInput,a);if(a&&b("StructuredInputDOM").isEntityNode(a.node)&&b("StructuredInputUtil").getGrouping(a.node,"select")!=="none"){b("DOM").remove(a.node);return!0}return!1};d._selectionIsText=function(){var a=this._selection.start.node,c=this._selection.end.node;return a&&a===c&&!b("StructuredInputDOM").isEntityNode(a)&&!b("StructuredInputDOM").isEntityNode(a.parentNode)};d._insertText=function(a){if(a){a=b("DOM").create("div",{},a);return this._insertNodes(a)}};d._insertHTML=function(a){if(a){var c=b("DOM").create("div"),d=new(b("StructuredInputCleaner"))(c,null,!1);c.innerHTML=a;d.clean();return this._insertNodes(c)}};d._insertNodes=function(a){document.selection?document.selection.createRange().pasteHTML(a.innerHTML):document.execCommand("insertHTML",!1,a.innerHTML),this._richChanged=!0,this.cleanInput()};d.togglePlaceholder=function(a){if(!this._placeholderText)return;var c=b("StructuredInputDOM").getLength(this._richInput)===0;a&&c?b("CSS").show(this._placeholderText):b("CSS").conditionShow(this._placeholderText,c&&!this._imeMode)};d._toggleHint=function(){__p&&__p();var a=b("createArrayFromMixed")(this._hintNodes),c=null,d="",e=b("StructuredInputDOM").getText(this._richInput).toLowerCase();if(!this.hasFocus())return;if(this._contentOverflows()){b("CSS").hide(this._hintText);return}while(a.length&&d.length<e.length)c=a.shift(),d+=b("StructuredInputDOM").getText(c);if(e.length&&d.substr(0,e.length).toLowerCase()==e.toLowerCase()){b("DOM").setContent(this._hintText,Array.from(this._richInput.cloneNode(!0).childNodes).filter(function(a){return a.tagName!=="BR"}));c=b("StructuredInputDOM").createTextNode(d.substr(e.length));a.unshift(c);b("DOM").appendContent(this._hintText,b("DOM").create("span",{className:"_586h"},a));b("CSS").show(this._hintText);b("CSS").hide(this._placeholderText)}else b("CSS").hide(this._hintText)};d._contentOverflows=function(){this._richWidth===null&&(this._richWidth=this._richInput.clientWidth);if(this._contentWidth===null){var a=this._richInput.lastChild;this._contentWidth=b("isElementNode")(a)?a.offsetLeft+a.offsetWidth:0}return this._contentWidth>this._richWidth};d._forceTop=function(){this._multiline||b("Scroll").setTop(this._richInput,0),b("Scroll").setTop(this._root,0)};d._createStructureNodes=function(a){return a.map(function(a){return a.uid||a.type&&a.type!="text"?b("StructuredInputDOM").createEntityNode(a,a.display||{}):b("StructuredInputDOM").createTextNode(a.text)}.bind(this))};d._suppressInput=function(){__p&&__p();if(o||p){if(this._richClean)return;this._richClean=this._richInput.cloneNode(!0);this._richClean.contentEditable=!1;this._root.insertBefore(this._richClean,this._richInput.nextSibling);b("Scroll").setLeft(this._richClean,b("Scroll").getLeft(this._richInput));b("Style").set(this._richInput,"padding",0);b("Style").set(this._richInput,"height",0)}};d._revealInput=function(){if(!this._richClean)return;b("Style").set(this._richInput,"height","");b("Style").set(this._richInput,"padding","");this._root.removeChild(this._richClean);this.focus();this._richClean=null};d._cleanInput=function(){__p&&__p();var a;this._textChanged&&!this._richChanged?(this._selection.update(),a="change"):(this._richChanged||this._selectionChanged)&&(this._selection.update(),this._richChanged&&(this._contentWidth=null,this._cleaner.clean(),this._cleaner.endOnText(),this._selection.apply(),a="change"),this._selectionChanged&&(this._cleanSelection(),(this._selectionLength||!this._richChanged)&&(a="select")));this._revealInput();this._forceTop();this._cleanInputPreTogglesFinished=!0;(this._richChanged||this._textChanged)&&(this.togglePlaceholder(),this._toggleHint());this._selectionIgnore=!0;this._selectionChanged=!1;this._richChanged=!1;this._textChanged=!1;this._cleanInputFinished=!0;a&&this.inform(a)};d._cleanSelection=function(){var a=this._selection.getLength(),b=this._selection.getOffset();a&&(this._selection.expand(a>=this._selectionLength),a=this._selection.getLength(),b=this._selection.getOffset());this._selectionLength=a;this._selectionOffset=b};d.cleanInput=function(){this._scheduledCleanInput||this._cleanInput()};d.scheduleCleanInput=function(a){var c=this;a&&this._suppressInput();this._scheduledCleanInput||(this._scheduledCleanInput=!0,b("setTimeoutAcrossTransitions")(function(){c._cleanInput(),c._scheduledCleanInput=!1},0))};d.setEnabled=function(a){this._textInput.disabled=!a,this._richInput.contentEditable=a};d.getRoot=function(){return this._root};d.getRichInput=function(){return this._richInput};d.getEnabled=function(){return!this._textInput.disabled};d.getText=function(){return b("StructuredInputDOM").getDecodedText(this._richInput)};d.setText=function(a){b("DOM").setContent(this._richInput,b("StructuredInputDOM").createTextNode(a)),this._richChanged=!1,this._selectionChanged=!1,this.inform("change")};d.setHint=function(a){this._hintNodes=this._createStructureNodes(a),this._toggleHint()};d.getStructure=function(){var a=[];Array.from(this._richInput.childNodes).forEach(function(c){var d=!b("isTextNode")(c),e=b("StructuredInputDOM").getDecodedText(c);e.length&&a.push({text:e,uid:d?c.getAttribute("data-uid"):null,type:d&&c.getAttribute("data-type")||"text",isLocal:d&&c.getAttribute("data-is-local"),categoryName:d?c.getAttribute("data-category-name"):null})});return a};d.setStructure=function(a){b("DOM").setContent(this._richInput,this._createStructureNodes(a)),this._cleaner.clean(),this._cleaner.endOnText(),this.togglePlaceholder(),this._toggleHint(),this._richChanged=!1,this._selectionChanged=!1,this.inform("change")};d.getContentDimensions=function(){var a=this._richInput.lastChild;return{width:a?a.offsetLeft+a.offsetWidth:0,height:a?a.offsetTop+a.offsetHeight:0}};d.getSelection=function(){if(this._selection)return{offset:this._selection.getOffset(),length:this._selection.getLength()}};d.setSelection=function(a){this.hasFocus()&&this._selection&&(this._selection.update(),this._selection.setPosition(a.offset,a.length),this._selection.scrollToFocus(),this._selectionChanged=!1,this.inform("select"))};d.moveSelectionToEnd=function(){this.setSelection({length:0,offset:b("StructuredInputDOM").getLength(this._richInput)})};d.isSelectionAtEnd=function(){var a=this.getSelection().offset,c=b("StructuredInputDOM").getLength(this._richInput);return a>=c};d.selectAll=function(){this.setSelection({offset:0,length:b("StructuredInputDOM").getLength(this._richInput)})};d.hasFocus=function(){return b("DOM").contains(this._root,document.activeElement)};d.focus=function(){this._richInput.focus()};d.blur=function(){var a={position:"absolute",top:0,width:"1px",height:"1px"};b("Locale").isRTL()?a.right="-100px":a.left="-100px";var c=b("DOM").create("input",{type:"text",tabIndex:-1,style:a});b("DOM").appendContent(this._root,c);a=function(){(this.hasFocus()||q&&document.activeElement===document.body)&&(c.focus(),c.blur())};this.blur=a;this.blur()};return a}(b("mixin")(b("ArbiterMixin")));r.getInstance=function(a){var c=b("Parent").bySelector(a,"._586g");if(!c)throw new Error("No DOMElement structured input found using "+a);return b("DataStore").get(c,"StructuredInput")||new r(c)};e.exports=r}),null);
__d("WorkAdminIntroductionNuxGating",["SimpleNUXMessage","SimpleNUXMessageTypes","WorkPermissions","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){var a=b("WorkPermissions").permissions.includes("manage_users");if(!a)return!1;if(!b("gkx")("1165364"))return!1;if(b("gkx")("997564"))return!1;a=b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").WORK_ACTIVATION_ADMIN_INTRODUCTION);return!a}e.exports={shouldShowAdminIntroductionNux:a}}),null);
__d("WorkKnowledgeDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("WorkKnowledgeStore",["FluxReduceStore","ImmutableRecordWithV4Types","WorkKnowledgeDispatcher","addToSet","removeFromSet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;c={activeNavTab:"home",isEditingHomePage:!1,expandedItemKeys:new Set(),leftNavLoaded:!1};var g=a(c);d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.$WorkKnowledgeStore1=function(a,c){return a.get("expandedItemKeys").has(c)?a.update("expandedItemKeys",function(a){return b("removeFromSet")(a,c)}):this.$WorkKnowledgeStore2(a,c)};d.$WorkKnowledgeStore2=function(a,c){return a.update("expandedItemKeys",function(a){return b("addToSet")(a,c)})};d.hasExpandedItemsKey=function(a){return this.getState().expandedItemKeys.has(a)};d.reduce=function(a,b){switch(b.type){case"knowledge/setTab":return a.set("activeNavTab",b.tab);case"knowledge/setIsEditingHomePage":return a.set("isEditingHomePage",b.isEditing);case"knowledge/toggleExpanded":return this.$WorkKnowledgeStore1(a,b.id);case"knowledge/setExpanded":return this.$WorkKnowledgeStore2(a,b.id);default:return a}};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("WorkKnowledgeDispatcher"))}),null);
__d("LayerStopMouseDown",["Event"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._listener=b("Event").listen(this._layer.getContentRoot(),"mousedown",function(a){a.kill()})};c.disable=function(){this._listener&&this._listener.remove()};return a}();e.exports=a}),null);
__d("XTypeaheadReportController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/typeahead/search_suggestion_report/",{search_suggestion:{type:"String",required:!0},typed_query:{type:"String",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("FacebarTypeaheadSimpleItem.react",["ix","cx","fbt","AbstractButton.react","FacebarGlobalOptions","FacebarJSConstants","FacebarRemoveRecentSearchButton.react","FBLogger","Image.react","Locale","React","RoundImage.react","SearchSuggestionsHighlighter","XTypeaheadReportController","fbglyph","gkx","joinClasses","killswitch","mayHaveConnectedCharacters","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){__p&&__p();a=a.result;var c=a.displayStructure!=null?a.displayStructure:a.structure;c=c!=null?c.toString():"";var d=c;a.keywordType!==b("FacebarJSConstants").keywordTypes.escape&&!a.isNullState&&(c=c.toLowerCase());var e=a.query_string?a.query_string.toLowerCase():null;if(!b("killswitch")("SEARCH_WWW_DISABLE_TYPEAHEAD_HIGHLIGHTING")&&!b("mayHaveConnectedCharacters")(c)&&e!=null&&!a.isSeeMore)try{c=b("SearchSuggestionsHighlighter").highlightNonMatch(e,c)}catch(a){b("FBLogger")("search").catching(a).mustfix("Error highlighting search suggestion (%s) for query (%s)",d,e)}return b("Locale").isRTL()?b("React").jsxs("div",{className:"_19bk",children:[c,"\u200e"]}):b("React").jsx("div",{className:"_19bk",children:c})}function k(a){a=a.result;if(!a.isNullState||!b("FacebarGlobalOptions").logSERPClickAsRecentSearch)return null;var c="_19bl",d;a.photo!=null&&(d=b("React").jsx(b("RoundImage.react"),{className:b("joinClasses")(c,"_19bm"),src:a.photo,width:"24",height:"24"}));d==null&&(d=b("React").jsx(b("Image.react"),{className:c,src:g("126434"),width:"16",height:"16"}));return d!=null?b("React").jsx("div",{className:"_19bp",children:d}):null}function a(a){var c=a.onClick,d=a.onMouseEnter,e=a.onMouseDown;a=a.result;var f;if(b("gkx")("678803")&&!a.isNullState&&!a.isSeeMore){var g=b("XTypeaheadReportController").getURIBuilder().setString("search_suggestion",String(a.text)).setString("typed_query",a.query_string).getURI();f=b("React").jsx("div",{role:"gridcell",children:b("React").jsx(b("AbstractButton.react"),{className:"_6auy",href:"#",ajaxify:g,image:b("React").jsx("div",{className:"_7h01"}),label:i._("Give feedback for suggestions item in typeahead"),role:"link",labelIsHidden:!0,rel:"dialog"})})}g=b("qex")._("889797")&&a.isNullState?b("React").jsx("div",{role:"gridcell",children:b("React").jsx(b("FacebarRemoveRecentSearchButton.react"),{recentSearch:String(a.text)})}):null;return b("React").jsx("div",{children:b("React").jsxs("li",{className:"_202 _19bq"+(a.isSeeMore?" _19br":""),onMouseDown:e,onMouseEnter:d,role:"row",children:[b("React").jsx("div",{role:"gridcell",className:"_7g_o",children:b("React").jsxs("a",{onClick:c,href:a.uri,className:"_19bs",children:[b("React").jsx(k,{result:a}),b("React").jsx(j,{result:a})]})}),f,g]})})}e.exports=a}),null);
__d("FacebarTypeaheadList.react",["csx","cx","fbt","invariant","CSS","CurrentUser","FacebarGlobalOptions","FacebarJSConstants","FacebarTypeaheadEntityItem.react","FacebarTypeaheadKeywordItem.react","FacebarTypeaheadMessengerThreadItem.react","FacebarTypeaheadNodeItem.react","FacebarTypeaheadRecentItem.react","FacebarTypeaheadSimpleItem.react","JSResource","LoadingIndicator.react","React","ReactFlareEventUtils","StaticContainer.react","WorkGalahadChatSearchAddThreadID","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("ReactFlareEventUtils").createFromReactFlareEvent,l=(a=b("lazyLoadComponent"))((c=b("JSResource"))("WorkGalahadSearchTypeaheadEntityItem.react").__setRef("FacebarTypeaheadList.react")),m=a(c("WorkGalahadSearchTypeaheadKeywordItem.react").__setRef("FacebarTypeaheadList.react")),n=a(c("WorkGalahadSearchTypeaheadMessengerItem.react").__setRef("FacebarTypeaheadList.react")),o=a(c("WorkGalahadSearchTypeaheadPostItem.react").__setRef("FacebarTypeaheadList.react")),p={related:b("FacebarTypeaheadKeywordItem.react")};p[b("FacebarJSConstants").browseTypes.keyword]=b("FacebarTypeaheadKeywordItem.react");p[b("FacebarJSConstants").keywordType]=b("FacebarTypeaheadKeywordItem.react");p[b("FacebarJSConstants").messengerThreadsType]=b("FacebarTypeaheadMessengerThreadItem.react");d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleMouseLeave=function(){b("FacebarGlobalOptions").facebarTypeaheadMouseoutHighlight&&d.props.onClearHighlight()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getItemComponentConstructor=function(a){__p&&__p();if(this.props.isGalahadSearch||this.props.isNewClassicSearch)if(a.type==="keyword")return m;else if(a.type===b("FacebarJSConstants").messengerThreadsType)return n;else if(a.isWorkplacePost)return o;else return l;if(!b("CurrentUser").isWorkUser())return b("FacebarTypeaheadSimpleItem.react");if(a.node)return b("FacebarTypeaheadNodeItem.react");if(a.isRecent)return b("FacebarTypeaheadRecentItem.react");if(a.results_set_type===b("FacebarJSConstants").browseTypes.keyword)return b("FacebarTypeaheadKeywordItem.react");return a.type!=null&&p[a.type]?p[a.type]:b("FacebarTypeaheadEntityItem.react")};d.renderItem=function(a){__p&&__p();var c=this,d=this.getItemComponentConstructor(a),e;a.type===b("FacebarJSConstants").keywordType?e=a.query_string+a.semantic+a.boldedSubtext+a.subtext+a.fromCache+(a.isSeeMore?"see_more":"")+(a.keywordBootstrapType?a.keywordBootstrapType:"")+(a.uid!=null?a.uid:"")+a.isInvalidated:(e=a.semantic||a.uid||a.tuid,e+=a.isNullState+a.category+a.subtext,e+=a.query_string);b("FacebarGlobalOptions").dymOnEchoOnly&&(a.query_string!==a.text?a.uri.addQueryData({em:"1"}):a.uri.removeQueryData("em"));b("FacebarGlobalOptions").noDymOnSingleState&&(a.isSingleState&&a.uri.addQueryData({em:"1"}));b("FacebarGlobalOptions").noDymOnNullState&&(a.isNullState&&a.uri.addQueryData({em:"1"}));d=b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(d,{highlighted:a===this.props.highlightedResult,result:a,onClick:function(b){return c.handleClick(b,a)},onMouseEnter:function(){return c.handleMouseEnter(a)},isNewClassicSearch:this.props.isNewClassicSearch})},e);if(this.props.controlledHighlight)return d;else return b("React").jsx(b("StaticContainer.react"),{children:d},e)};d.renderFooter=function(){var a="_3su"+(this.props.loading?"":" hidden_elem");return b("React").jsx("li",{className:a,children:b("React").jsxs("div",{className:"_21f",children:[i._("Finding results"),b("React").jsx(b("LoadingIndicator.react"),{size:"medium",color:"white"})]})})};d.render=function(){var a=this.props.results,c=[];a&&a.forEach(function(a){c.push(this.renderItem(a))},this);return b("React").jsx("div",{children:b("React").jsxs("ul",{id:"facebar_typeahead_view_list",className:"_21c"+(this.props.isKeywordList?" _2yob":""),"data-click":"Search",onMouseLeave:this.handleMouseLeave,children:[c,this.renderFooter()]})})};d.handleClick=function(a,c){a.target instanceof HTMLElement||j(0,531);if(b("CSS").matchesSelector(a.target,"._2d9t"))return;var d=a.type==="press"?k(a):a.nativeEvent;!d.isMiddleClick()&&!d.getModifiers().any&&(c.type===b("FacebarJSConstants").messengerThreadsType&&b("WorkGalahadChatSearchAddThreadID").addThreadID(c.serverThreadID,c.clientThreadID),this.props.onSelect(c),a.type!=="press"&&a.preventDefault())};d.handleMouseEnter=function(a){this.props.onHighlight(a)};d.componentDidUpdate=function(a){this.props.onRender()};d.shouldComponentUpdate=function(a){return this.props.loading!==a.loading||this.props.results!==a.results||this.props.highlightedResult!==a.highlightedResult};return c}(b("React").Component);e.exports=d}),null);
__d("FacebarTypeaheadGSV2List.react",["cx","fbt","BanzaiODS","FacebarTypeaheadList.react","LeftRight.react","Link.react","React","URI","WorkGalahadChannelItemChromeList.react","WorkGalahadNavHeaderPressableAction.react","WorkGalahadNavTextHeader.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("React").useCallback;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.copyProps=function(a){return babelHelpers["extends"]({accessibilityElement:this.props.accessibilityElement,onClearHighlight:this.props.onClearHighlight,onHighlight:this.props.onHighlight,onRender:this.props.onRender,onSelect:this.props.onSelect,isGalahadSearch:this.props.isGalahadSearch,isNewClassicSearch:this.props.isNewClassicSearch},a,{loading:this.props.isGalahadSearch?!1:a.loading})};d.render=function(){__p&&__p();var a=this.props.listProps,c=this.copyProps(Object.assign({},a,{isKeywordList:!0})),d=this.copyProps(a);a=this.copyProps(Object.assign({},a,{isKeywordList:!0}));c.results=this.props.isNullState?this.props.keywordResults.filter(function(a){return!a.isRecent}):this.props.keywordResults;a.results=this.props.isNullState?[]:this.props.results.filter(function(a){return a.isSeeMore});d.results=this.props.entityResults.filter(function(a){return!a.isRecent&&!a.isWorkplacePost});a.results.length>0||this.props.isNullState?(c.loading=!1,d.loading=!1):d.results.length===0?d.loading=!1:c.loading=!1;var e=!!d.results.length,f=!!c.results.length,g=!1,j=!1,k=this.copyProps(d);this.props.isNullState&&(k.results=this.props.entityResults.filter(function(a){return!!a.isRecent}),g=!!k.results.length);var l=this.copyProps(d);l.results=this.props.entityResults.filter(function(a){return!!a.isWorkplacePost});j=!!l.results.length;if(j){var m=d.results.reduce(function(a,b){return Math.max(a,b.indexBeforeBuckets)},0);l.results=l.results.map(function(a){var b,c;a.bucketLineage!=null&&!!a.bucketLineage.length&&(c=a.bucketLineage[0].bucketIndex);c=(b=c)!=null?b:a.indexBeforeBuckets;a.indexBeforeBuckets=m+c;return a})}var n="edit_search_history";n=new(i||(i=b("URI")))("/me/allactivity").addQueryData({privacy_source:"activity_log",log_filter:"search",entry_point:n});var o=h._("Recent Searches"),p=h._("Quick Post Access"),q=function(){b("BanzaiODS").bumpEntityKey(354,"www_global_ta","activity_log_clicked")};o=b("React").jsxs("div",{className:g?"":"hidden_elem",children:[this.props.isGalahadSearch?b("React").jsx(b("WorkGalahadNavTextHeader.react"),{title:o,indented:!1,action:b("gkx")("997564")?void 0:b("React").jsx(b("WorkGalahadNavHeaderPressableAction.react"),{href:n,title:h._("Edit"),showOnHover:!1,onClick:q})}):b("React").jsxs(b("LeftRight.react"),{className:"_3zsi _1ejo",children:[o,b("React").jsx(b("Link.react"),{href:n,onClick:q,"data-testid":"recent_searches_edit",children:h._("Edit")})]}),g?b("React").jsx(b("FacebarTypeaheadList.react"),babelHelpers["extends"]({},k)):null]},"recent");n=b("React").jsxs("div",{className:(!j||!this.props.isGalahadSearch?"hidden_elem":"")+(j?" _3-8z":""),children:[b("React").jsx(b("WorkGalahadNavTextHeader.react"),{title:p,indented:!1}),j?b("React").jsx(b("FacebarTypeaheadList.react"),babelHelpers["extends"]({},l)):null]},"post");q=b("React").jsx("div",{className:this.props.isNullState||!f?"hidden_elem":"",children:this.props.isNullState?null:b("React").jsx(b("FacebarTypeaheadList.react"),babelHelpers["extends"]({},c))},"keyword");g=b("React").jsx("div",{className:e?"":"hidden_elem",children:b("React").jsx(b("FacebarTypeaheadList.react"),babelHelpers["extends"]({},d))},"entity");k=[];this.props.isNullState?k=[q,o,g]:k=[q,g];j&&k.push(n);p=b("React").jsx("div",{className:"_3-xd"+(this.props.seeMoreResult==null||this.props.isNullState?" hidden_elem":""),children:b("React").jsx(b("FacebarTypeaheadList.react"),babelHelpers["extends"]({},a))});return b("React").jsxs("div",{className:"_21r",children:[this.props.isGalahadSearch?p:null,k,b("React").jsx("div",{className:!this.props.isNullState||!f?"hidden_elem":"",children:this.props.isNullState?b("React").jsx(b("FacebarTypeaheadList.react"),babelHelpers["extends"]({},c)):null}),this.props.isGalahadSearch?null:p,this.props.isGalahadSearch&&this.props.listProps.loading?b("React").jsx(b("WorkGalahadChannelItemChromeList.react"),{type:"search",amount:1}):null]})};return c}(b("React").Component);e.exports=a}),null);