if (self.CavalryLogger) { CavalryLogger.start_js(["WMGWs"]); }

__d("Asset3DBackgroundList",[],(function(a,b,c,d,e,f){"use strict";a=["default","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","twenty","twentyone","twentytwo","twentythree","twentyfour","twentyfive","twentysix","twentyseven","twentyeight","twentynine","thirty","thirtyone","thirtytwo","thirtythree","thirtyfour","thirtyfive","thirtysix"];e.exports=a}),null);
__d("CampfireCommands",[],(function(a,b,c,d,e,f){a=Object.freeze({TOGGLE_LINK:"TOGGLE_LINK",SAVE_DRAFT:"SAVE_DRAFT"});e.exports=a}),null);
__d("getCampfireKeyBinding",["CampfireCommands","KeyBindingUtil","getDefaultKeyBinding"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyBindingUtil").hasCommandModifier;function a(a){if(a.keyCode===75&&g(a))return b("CampfireCommands").TOGGLE_LINK;return a.keyCode===83&&g(a)?b("CampfireCommands").SAVE_DRAFT:b("getDefaultKeyBinding")(a)}e.exports=a}),null);
__d("ComposerConfirmationDialogEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ComposerConfirmationDialogEventLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCorrelationID=function(a){this.$1.correlation_id=a;return this};c.setEventLocation=function(a){this.$1.event_location=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setFeedbackTargetID=function(a){this.$1.feedback_target_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWebURI=function(a){this.$1.web_uri=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={correlation_id:!0,event_location:!0,event_name:!0,feedback_target_id:!0,time:!0,vc:!0,web_uri:!0,weight:!0};e.exports=a}),null);
__d("MisinfoFrontendTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MisinfoFrontendLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MisinfoFrontendLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MisinfoFrontendLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBaseVC=function(a){this.$1.base_vc=a;return this};c.setContentIDRaw=function(a){this.$1.content_id_raw=a;return this};c.setContentType=function(a){this.$1.content_type=a;return this};c.setEntity=function(a){this.$1.entity=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFeature=function(a){this.$1.feature=a;return this};c.setFeedbackTargetGraphqlID=function(a){this.$1.feedback_target_graphql_id=a;return this};c.setIntegrityUIElement=function(a){this.$1.integrity_ui_element=a;return this};c.setInteractionCoordinateX=function(a){this.$1.interaction_coordinate_x=a;return this};c.setInteractionCoordinateY=function(a){this.$1.interaction_coordinate_y=a;return this};c.setPostIDRaw=function(a){this.$1.post_id_raw=a;return this};c.setRawLocation=function(a){this.$1.raw_location=a;return this};c.setResponsibleID=function(a){this.$1.responsible_id=a;return this};c.setStoryEntIdentifier=function(a){this.$1.story_ent_identifier=a;return this};c.setStoryEntIdentifierGraphqlID=function(a){this.$1.story_ent_identifier_graphql_id=a;return this};c.setStoryRenderLocation=function(a){this.$1.story_render_location=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTarget=function(a){this.$1.target=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTopWarningScreenCategory=function(a){this.$1.top_warning_screen_category=a;return this};c.setTreatmentVariant=function(a){this.$1.treatment_variant=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setView=function(a){this.$1.view=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={base_vc:!0,content_id_raw:!0,content_type:!0,entity:!0,event:!0,feature:!0,feedback_target_graphql_id:!0,integrity_ui_element:!0,interaction_coordinate_x:!0,interaction_coordinate_y:!0,post_id_raw:!0,raw_location:!0,responsible_id:!0,story_ent_identifier:!0,story_ent_identifier_graphql_id:!0,story_render_location:!0,surface:!0,target:!0,time:!0,top_warning_screen_category:!0,treatment_variant:!0,vc:!0,view:!0,weight:!0};e.exports=a}),null);
__d("PagesComposerPostPreviewDialog.react",["cx","fbt","FDSModal.react","FDSSection.react","FDSSpinner.react","FDSTabHeader.react","PageContentTabConstants","PageContentTabPreviews.react","React","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=532,j=b("PageContentTabConstants").PREVIEW_TABS,k=h._("Preview"),l=h._("Desktop Preview"),m=h._("Mobile Preview"),n=h._("Instagram Preview"),o=h._("Story Preview"),p=h._("Loading preview...");function q(a,b,c){var d=[];a&&d.push({label:l,value:j.DESKTOP},{label:m,value:j.MOBILE});b&&d.push({label:n,value:j.INSTAGRAM});c&&d.push({label:o,value:j.STORIES});return d}function a(a){var c,d=a.isTimelineSelected,e=a.isInstagramSelected,f=a.isStoriesSelected,g=a.isLoadingPreview,h=a.isShown,j=a.onClose,l=a.onDialogTabChange,m=a.pageID,n=a.previewPostID,o=a.renderID;a=a.selectedPreviewTab;var r=q(d,e,f);l=(c=b("React")).jsx(b("FDSTabHeader.react"),{onChange:l,tabs:r,value:a});return c.jsx(b("FDSModal.react"),{footer:null,header:l,isShown:h,label:k,onHide:j,width:i,children:c.jsx(b("FDSSection.react"),{children:c.jsxs("div",{className:"_80ga",children:[g&&b("React").jsx("div",{className:"_809c",children:b("React").jsx(b("FDSSpinner.react"),{center:!0,title:p})}),b("React").jsx(b("ScrollableArea.react"),{maxHeight:850,children:n!==null&&n!==void 0&&b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("PageContentTabPreviews.react"),{isInstagramSelected:e,isStoriesSelected:f,isTimelineSelected:d,pageID:m,postID:n.toString(),renderID:o,selectedTab:a,showClickMask:!1,showCloserSecondPreview:!0}),b("React").jsx("div",{className:"_80gb"})]})})]})})})}e.exports=a}),null);
__d("PagesComposerPostPreviewDialogContainer.react",["AdsFluxContainer","ClientIDs","PageContentTabConstants","PagesComposerActions","PagesComposerPostPreviewDialog.react","PagesComposerUnpublishedPostsStore","React","ReactComposerAudienceStore","ReactComposerContextTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesComposerActions").setPreview,h=b("PagesComposerActions").updatePreviewConfig,i=b("PageContentTabConstants").PREVIEW_TABS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){h(c.context.composerID,null,null,null,!1),g(c.context.composerID,!0)},c.$2=function(a){h(c.context.composerID,null,null,a,null)},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ReactComposerAudienceStore"),b("PagesComposerUnpublishedPostsStore")]};c.calculateState=function(a,c,d){var e;a=b("PagesComposerUnpublishedPostsStore").getPreviewConfig(d.composerID);c=!!a&&!!a.selectedPreviewTab?a.selectedPreviewTab:i.DESKTOP;var f=!!a&&!!a.renderID?a.renderID:b("ClientIDs").getNewClientID(),g=b("ReactComposerAudienceStore").getInstagramSelected(d.composerID),h=b("ReactComposerAudienceStore").getTimelineSelected(d.composerID),j=b("ReactComposerAudienceStore").getStoriesSelected(d.composerID);h===!1&&j===!0&&c===i.DESKTOP&&(c=i.STORIES);return{isInstagramSelected:!!((e=d)!=null?(e=e.gks)!=null?e.showIGPreview:e:e)&&!!g,isStoriesSelected:!!((e=d)!=null?(e=e.gks)!=null?e.showStoryPreview:e:e)&&!!j,isTimelineSelected:!!h,isLoadingPreview:!!a&&!!a.isLoadingPreview,previewPostID:a?a.previewPostID:null,renderID:f,selectedPreviewTab:c,showPreviewDialog:!!a&&!!a.showPreviewDialog}};var d=c.prototype;d.render=function(){var a=this.state,c=a.isStoriesSelected,d=a.isTimelineSelected,e=a.isLoadingPreview,f=a.previewPostID,g=a.renderID,h=a.selectedPreviewTab;a=a.showPreviewDialog;return b("React").jsx(b("PagesComposerPostPreviewDialog.react"),{isInstagramSelected:this.state.isInstagramSelected,isLoadingPreview:e,isShown:a,isStoriesSelected:c,isTimelineSelected:d,onClose:this.$1,onDialogTabChange:this.$2,pageID:this.props.pageID,previewPostID:f,renderID:g,selectedPreviewTab:h})};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("PagesComposerPostPreviewButton.react",["cx","fbt","FDSButton.react","PagesComposerPostPreviewDialogContainer.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("Preview");function a(a){var c=a.config,d=a.isPhotoCarouselPost,e=a.isPostButtonDisabled,f=a.isSlideshowPost,g=a.isStoriesSelected,h=a.isTagProductPostPreviewDisabled,j=a.isTicketEventPost,k=a.isTimelineSelected,l=a.isVideoPost;a=a.onPreviewButtonClick;k=!k&&!g||d||f||l||h||j||e;g=c.targetData.targetID;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"_7zyl",children:b("React").jsx(b("FDSButton.react"),{isDisabled:k,label:i,onClick:a,size:"small",width:72})}),b("React").jsx(b("PagesComposerPostPreviewDialogContainer.react"),{pageID:g})]})}e.exports=a}),null);
__d("PagesComposerPostPreviewButtonContainer.react",["AdsFluxContainer","PagesComposerActions","PagesComposerLoggingUtils","PagesComposerPostPreviewButton.react","React","ReactComposerActions","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerMediaUploadStore","ReactComposerScrapedAttachmentStore","ReactComposerSlideshowStore","ReactComposerTaggerStore","ReactComposerTaggerType","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PagesComposerActions").setPreview,h=b("PagesComposerLoggingUtils").logPreviewButtonClick;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a;g(d.context.composerID);h(d.context.actorID,d.context.composerID,d.props.config.loggingConfig.ref);b("ReactComposerActions").postStarted(d.context.composerID,{actorID:d.context.actorID,config:d.props.config,targetID:d.context.targetID,onPostSuccess:(a=d.props.config.postButtonConfig)==null?void 0:a.onPostSuccess})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAudienceStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerSlideshowStore"),b("ReactComposerTaggerStore")]};c.calculateState=function(a,c,d){__p&&__p();a=d.composerID;c=b("ReactComposerScrapedAttachmentStore").getAttachmentConfig(a);c=!!(c==null?void 0:(c=c.params)==null?void 0:c.child_attachments);c=c&&b("ReactComposerScrapedAttachmentStore").hasUploadedImage(a);var e=b("ReactComposerSlideshowStore").isSlideshowSelected(a);d=b("ReactComposerAudienceStore").getStoriesSelected(a)&&!!((d=d)!=null?(d=d.gks)!=null?d.showStoryPreview:d:d);var f=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PRODUCT),g=f.length>0;if(b("gkx")("1222242")&&f.length>0){var h=!1;f.forEach(function(a){(a==null?void 0:a.getPhoto())!==""&&(h=!0)});g=h}f=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").TAG_EVENT_TICKET);f=!!f&&!!f.ticketedEventData;var i=b("ReactComposerAudienceStore").getTimelineSelected(a);a=b("ReactComposerMediaUploadStore").getVideos(a).size>0;return{isPhotoCarouselPost:c,isSlideshowPost:e,isStoriesSelected:d,isTagProductPostPreviewDisabled:g,isTicketEventPost:f,isTimelineSelected:i,isVideoPost:a}};var d=c.prototype;d.render=function(){var a=this.props,c=a.config;a=a.isPostButtonDisabled;var d=this.state,e=d.isPhotoCarouselPost,f=d.isSlideshowPost,g=d.isStoriesSelected,h=d.isTagProductPostPreviewDisabled,i=d.isTicketEventPost,j=d.isTimelineSelected;d=d.isVideoPost;return b("React").jsx(b("PagesComposerPostPreviewButton.react"),{config:c,isPhotoCarouselPost:e,isPostButtonDisabled:a,isSlideshowPost:f,isStoriesSelected:g,isTagProductPostPreviewDisabled:h,isTicketEventPost:i,isTimelineSelected:j,isVideoPost:d,onPreviewButtonClick:this.$1})};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("PagesComposerNuxActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({INITIALIZE_NUX_CONFIG:null,SET_SHOW_NUX_IN_CURRENT_SESSION:null,SET_DISMISS_NUX_IN_CURRENT_SESSION:null,IS_CONTEXTUAL_DIALOG_MOUNTED:null},"PagesComposerNuxActionTypes")}),null);
__d("XPagesComposerNuxImpressionCounterUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages_composer/nux_impression_counter_update/",{nux_product_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PagesComposerNuxStore",["ActorURI","AsyncRequest","PagesComposerNuxActionTypes","ReactComposerActionStore","XPagesComposerNuxImpressionCounterUpdateController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;return c=a.call(this,function(){return Object.assign({},{nuxConfig:null})},function(a){__p&&__p();switch(a.type){case b("PagesComposerNuxActionTypes").INITIALIZE_NUX_CONFIG:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore1(a);break;case b("PagesComposerNuxActionTypes").SET_SHOW_NUX_IN_CURRENT_SESSION:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore2(a);break;case b("PagesComposerNuxActionTypes").SET_DISMISS_NUX_IN_CURRENT_SESSION:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore3(a);break;case b("PagesComposerNuxActionTypes").IS_CONTEXTUAL_DIALOG_MOUNTED:babelHelpers.assertThisInitialized(c)&&c.$PagesComposerNuxStore4(a);break;default:return}})||this}var d=c.prototype;d.$PagesComposerNuxStore4=function(a){a=this.validateAction(a,["composerID","isContextualDialogMounted"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.isContextualDialogMounted=a;this.emitChange(b)};d.$PagesComposerNuxStore3=function(a){__p&&__p();a=this.validateAction(a,["composerID","productID"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c=c.nuxConfig;if(!c)return;c=this.getNuxProductTypeConfig(b,a);if(!c)return;c.dismissed_in_session=!0;this.setNuxProductTypeConfig(b,a,c)};d.$PagesComposerNuxStore2=function(a){__p&&__p();a=this.validateAction(a,["composerID","productID","pageID"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);d=d.nuxConfig;if(!d)return;d=this.getNuxProductTypeConfig(b,c);if(!d)return;d.shown_in_session=!0;this.setNuxProductTypeConfig(b,c,d);this.updateNuxImpressionCounter(b,c,a,d)};d.updateNuxImpressionCounter=function(a,c,d,e){var f=this,g=e.impression_days,h=e.nux_variant,i=e.current_impression_counter;if(!Number.isInteger(i)||!Number.isInteger(g)||Boolean(h)===!1)return;g=b("ActorURI").create(b("XPagesComposerNuxImpressionCounterUpdateController").getURIBuilder().setEnum("nux_product_type",c).getURI(),d);new(b("AsyncRequest"))().setURI(g).setHandler(function(){e.current_impression_counter=i+1,f.setNuxProductTypeConfig(a,c,e)}).send()};d.$PagesComposerNuxStore1=function(a){a=this.validateAction(a,["composerID","nuxConfig"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.nuxConfig=b("immutable").fromJS(a);this.emitChange(c)};d.setNuxProductTypeConfig=function(a,c,d){var e=this.getComposerData(a),f=e.nuxConfig;if(!f)return;e.nuxConfig=f.set(c,b("immutable").fromJS(d));this.emitChange(a)};d.getIsContextualDialogMounted=function(a){a=this.getComposerData(a);return!!a.isContextualDialogMounted};d.getNuxConfig=function(a){a=this.getComposerData(a);a=a.nuxConfig;return!a?null:a.toJS()};d.getNuxProductTypeConfig=function(a,b){a=this.getComposerData(a);a=a.nuxConfig;return!a?null:a.get(b)?a.get(b).toJS():null};return c}(b("ReactComposerActionStore"));e.exports=new a()}),null);
__d("ReactComposerAttachmentSelector.react",["cx","Image.react","Link.react","React","TooltipData","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_4-h7"+(this.props.selected?" _5qtn":""),"fbReactComposerAttachmentSelector_"+this.props.attachmentID),c="overflow";this.props.enableDisplayTooltip&&(c=null);return b("React").jsx(b("Link.react"),babelHelpers["extends"]({onClick:this.props.onSelected,className:a,role:"tab","aria-selected":this.props.selected,"data-tooltip-delay":"500","data-tooltip-display":c},b("TooltipData").propsFor(this.props.label),this.props,{children:b("React").jsxs("span",{className:"_4-fs",children:[this.props.icon?b("React").jsx(b("Image.react"),{src:this.props.icon,className:"_5qto"}):null,b("React").jsx("span",{className:"_5qtp",children:this.props.label}),b("React").jsx("span",{className:"_4-h8"})]})}))};return c}(b("React").PureComponent);a.propTypes={selected:(c=b("prop-types")).bool,label:c.string.isRequired,icon:c.object,onSelected:c.func.isRequired,enableDisplayTooltip:c.bool};a.defaultProps={selected:!1,enableDisplayTooltip:!1};e.exports=a}),null);
__d("ReactComposerAttachmentSelectorContainer.react",["Arbiter","FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentSelector.react","ReactComposerAttachmentStore","ReactComposerEvents","ReactComposerPostToGroupStore","ReactComposerStore","emptyFunction","ifRequired","ReactComposerContextTypes"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){__p&&__p();if(d.props.disableSelectAttachment)return;if(d.state.selected){b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(d.context.composerID,null,null,b("ReactComposerStore").getSproutSurface(d.context.composerID));return}b("ifRequired")("ReactComposerPostToGroupActions",function(a){return a.unselectTab(d.context.composerID)});b("ReactComposerAttachmentActions").selectAttachment(d.context.composerID,d.props.attachmentID,!0,d.props.loggingName);window.setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.context.composerID)},0);d.props.onAfterSelected&&d.props.onAfterSelected()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore"),b("ReactComposerPostToGroupStore")]};c.calculateState=function(a,c,d){var e=d.composerID;a=[c.attachmentID];c.alternativeAttachmentIDs&&(a=a.concat(c.alternativeAttachmentIDs));d=a.some(function(a){return b("ReactComposerPostToGroupStore").getIsTabSelected(e)?!1:b("ReactComposerAttachmentStore").getIsAttachmentSelected(e,a)});return{selected:d}};var d=c.prototype;d.render=function(){var a=this.props.onSelected!==b("emptyFunction")?this.props.onSelected:this.$1;return b("React").jsx(b("ReactComposerAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{selected:this.state.selected,showNLUEducation:this.state.showNLUEducation,onSelected:a}))};return c}(b("React").PureComponent);a.defaultProps={onSelected:b("emptyFunction"),disableSelectAttachment:!1,enableDisplayTooltip:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerAsset3DComponent.react",["ix","cx","fbt","invariant","Asset3DBackgroundList","Asset3dSitevarConfig","BootloaderResource","FDSLink.react","FDSText.react","FluxContainer","Image.react","JSResource","React","ReactComposerAsset3dAttachmentActions","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","XUICloseButton.react","asset","cxMargin","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=b("lazyLoadComponent")(b("JSResource")("Asset3DComposerColorPicker.react").__setRef("ReactComposerAsset3DComponent.react")),l=b("lazyLoadComponent")(b("JSResource")("Asset3dFeedViewer.react").__setRef("ReactComposerAsset3DComponent.react")),m=b("lazyLoadComponent")(b("JSResource")("FDSButton.react").__setRef("ReactComposerAsset3DComponent.react")),n=522,o=b("Asset3dSitevarConfig").MINIMUM_ASPECT_RATIO,p="https://www.facebook.com/help/www/414295416095269";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$8=function(a){d.$1=a},d.$6=function(a){d.state.placeholderRef||d.setState({placeholderRef:a})},d.$7=function(){b("ReactComposerAsset3dAttachmentActions").removeAsset3D(d.props.composerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAsset3dAttachmentStore")]};c.calculateState=function(a,c,d){c=d.composerID;return{asset3dData:b("ReactComposerAsset3dAttachmentStore").getAsset3DData(c),selectedBackground:b("ReactComposerAsset3dAttachmentStore").getBackground(c),viewerWidth:a?a.viewerWidth:0,placeholderRef:a?a.placeholderRef:null,creationFailed:b("ReactComposerAsset3dAttachmentStore").getCreationFailed(c)}};var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=a.asset3dInput;if(!c){b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,b("ReactComposerAttachmentType").STATUS,!0);var d=b("ReactComposerMediaUploadStore").getUploads(this.context.composerID);b("ReactComposerMediaUploadActions").removeAllPhotoUploads(this.context.composerID,d)}else{d=this.props.asset3dInput;c=!d||c.type!=d.type||c.glbFile!=d.glbFile||JSON.stringify(c.colorImageIDs)!=JSON.stringify(d.colorImageIDs)||JSON.stringify(c.depthImageIDs)!=JSON.stringify(d.depthImageIDs);c&&this.$2(a)}};d.componentDidMount=function(){b("BootloaderResource").preload(b("JSResource")("Asset3DComposerColorPicker.react").__setRef("ReactComposerAsset3DComponent.react")),b("BootloaderResource").preload(b("JSResource")("Asset3dFeedViewer.react").__setRef("ReactComposerAsset3DComponent.react")),b("BootloaderResource").preload(b("JSResource")("FDSButton.react").__setRef("ReactComposerAsset3DComponent.react")),this.props.asset3dInput&&this.state.asset3dData===null&&this.$2(this.props),this.$1!=null||j(0,14175),this.setState({viewerWidth:this.$1.clientWidth})};d.$2=function(a){b("ReactComposerAsset3dAttachmentActions").createAsset3D(a.composerID,a.actorID)};d.$3=function(){this.state.placeholderRef!=null||j(0,13553);return this.state.placeholderRef};d.$4=function(){this.props.asset3dInput||j(0,14501);var a=this.props.asset3dInput.type==="color_depth_pair";return b("React").jsxs("div",{className:"_7pe9",children:[b("React").jsx("div",{className:"_7pea"}),b("React").jsx("div",{className:"_7peb",children:a?i._("Creating a 3D Photo"):i._("Creating a 3D Post")})]})};d.$5=function(){this.props.asset3dInput||j(0,14501);var a=this.props.asset3dInput.type==="color_depth_pair",c=this.props.showContextButton?b("React").jsx("div",{children:b("React").jsx(m,{href:p,label:i._("Learn More"),size:"small"})}):null;return b("React").jsxs("div",{className:"_7pe9",children:[b("React").jsx(b("FDSText.react"),{size:"header3",color:"white",margin:"_3-96",display:"block",textAlign:"center",children:a?i._("Failed to create your 3D Photo"):i._("Failed to create your 3D Post")}),b("React").jsx(b("FDSText.react"),{size:"body3",color:"white",margin:"_3-98",display:"inline",textAlign:"center",width:200,children:a?i._("Try again or learn more about how to create 3D Photos."):i._("Try again or learn more about how to create 3D Posts.")}),c]})};d.render=function(){__p&&__p();var a=this.props.asset3dInput;if(!a)return null;var c=a.type==="color_depth_pair",d=null;a=a.placeholderImage;if(a){var e=a.width/a.height,f={};if(e<o){e=this.state.viewerWidth/o;f={maxHeight:e+"px"}}d=b("React").jsx(b("Image.react"),{className:"_7pe8",src:a.src,style:f})}e=b("React").jsxs("div",{className:"_7pe7",style:c?{}:{height:n+"px"},ref:this.$6,children:[d,this.state.creationFailed?this.$5():this.$4()]});a=null;if(this.props.showContextButton&&c){a=(f=b("React")).jsx("div",{children:f.jsxs(b("FDSLink.react"),{href:p,margin:"_3-8y",showUnderline:"never",children:[f.jsx(b("Image.react"),{className:"_7qn1",src:g("865191")}),f.jsx("span",{children:i._("Learn more about 3D Photos")})]})})}d=this.props.showCloseButton?b("React").jsx(b("XUICloseButton.react"),{shade:"light",size:c?"large":"medium",onClick:this.$7,className:"_655z"}):null;f=b("React").jsx("div",{children:d});d=null;var h=this.state.asset3dData;if(h&&this.state.placeholderRef){var j=c?h.aspectRatio:1,m=this.state.viewerWidth,q=m/j;j<o&&(q=m/o);j=c?"photos_3d":"composer";var r=c?null:b("React").jsx(k,{composerID:this.props.composerID,backgrounds:b("Asset3DBackgroundList"),selectedBackground:this.state.selectedBackground});d=b("React").jsxs("div",{children:[b("React").jsx(l,{enableFullscreen:!1,asset3dID:h.asset3dID,glbURI:h.glbURI,compressor:h.compressor,compressionLevel:h.compressionLevel,initialViewContainer:this.$3(),composerID:this.props.composerID,background:this.state.selectedBackground,category:j,actorID:this.props.actorID,shouldSupportVR:!1,shouldUpdateFallbackImage:!c,isModal:!1,width:m,height:q}),r]})}return b("React").jsxs("div",{className:"_7pef",ref:this.$8,children:[f,e,d,a]})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerProfilePhotoBlock.react",["cx","Layout.react","ReactComposerProfilePhoto.react","React","prop-types","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.onClick||b("emptyFunction");return b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(h,{className:"_q-v",children:b("React").jsx(b("ReactComposerProfilePhoto.react"),{src:this.props.profilePicSrc,profileName:this.props.profileName,profileURI:this.props.profileURI,profileDialogURI:this.props.profileDialogURI,onClick:a})}),b("React").jsx(i,{children:this.props.children})]})};return c}(b("React").PureComponent);a.propTypes={profileName:(c=b("prop-types")).string,profilePicSrc:c.string.isRequired,profileURI:c.string,profileDialogURI:c.string,onClick:c.func};e.exports=a}),null);
__d("ReactComposerHandleUnsavedChanges",["fbt","CurrentUser","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingActions","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingStore","ReactComposerPhotoStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerVideoUploadStore","Run","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i={customChecks:new Map(),handler:function(c,d){__p&&__p();var e=(h||(h=b("URI"))).getMostRecentURI(),f=h.getNextURI(),g=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&!Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater")&&d.toString()===f.toString(),j=d.toString()===e.toString()&&!Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater");e=Object.prototype.hasOwnProperty.call(e.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(f.getQueryData(),"theater")&&e.toString()!==f.toString();(j||g||e)&&b("Run").onAfterLoad(function(){return b("Run").onBeforeUnload(function(){return i.handler(c,d)})});if(j||g||e||b("ReactComposerStore").hasPostSucceeded(c)||b("ReactComposerStore").isPublishing(c))return void 0;f=i.hasUnsavedChanges(c);if(f&&!(a.Dialog&&a.Dialog.getCurrent())){b("ReactComposerLoggingActions").composerNavigateAwayAttempt(c);j=i.getUnsavedChangesMessage(c);return b("CurrentUser").isWorkUser()?i.getUnsavedChangesMessageForWorkplace(j):j}else return void 0},addCustomCheck:function(a,b){var c=[];i.customChecks.has(a)&&(c=i.customChecks.get(a));c&&(c.push(b),i.customChecks.set(a,c))},hasUnsavedChanges:function(a){__p&&__p();var c;if(!b("ReactComposerInit").isInstanceMounted(a))return!1;c=(c=b("ReactComposerInit").instances.get(a))!=null?(c=c.props)!=null?(c=c.contextConfig)!=null?c.composerType:c:c:c;if(c==="feed_sprout_dialog"||c==="branded_content_creator_deal_view")return!1;c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA);var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIVE_BROADCAST),e=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").LIVING_ROOM),f=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").VISUAL_POLL),g=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MLE),h=b("ReactComposerStatusStore").getTextLength(a)>0,j=c&&(b("ReactComposerMediaUploadStore").isUploading(a)||b("ReactComposerPhotoStore").isRecognizing(a)||b("ReactComposerPhotoStore").getPhotos(a).size>0);c=c&&(b("ReactComposerVideoUploadStore").isUploading(a)||b("ReactComposerVideoUploadStore").getVideo(a));var k=!b("ReactComposerTaggerStore").areAllTaggersEmpty(a),l=b("ReactComposerScrapedAttachmentStore").hasAttachment(a);a=i.customChecks.get(a);var m=!1;if(a)for(var a=a,n=Array.isArray(a),o=0,a=n?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=a.length)break;p=a[o++]}else{o=a.next();if(o.done)break;p=o.value}p=p;m=m||p()}p=h||j||c||k||l||d||e||f||m||g;return!!p},getUnsavedChangesMessage:function(a){if(b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(a))return g._("Your post is still uploading. Do you want to leave without finishing the upload?");a=b("ReactComposerStore").getRef(a);switch(a){case"edit_dialog":return g._("If you discard now, you'll lose any changes you've made to this post.");default:if(b("CurrentUser").isWorkUser())return g._("If you leave now, your post won't be saved.");else return g._("You haven't finished your post yet. Do you want to leave without finishing?")}},getUnsavedChangesMessageForWorkplace:function(a){var b=g._("Finish Your Post?"),c=g._("Discard Post"),d=g._("Go To Post");return{body:a,highlightStay:!0,leaveButtonText:c,showCloseButton:!0,stayButtonText:d,title:b}},possiblyLogComposerCancelEvent:function(a){i.hasUnsavedChanges(a)&&b("ReactComposerLoggingActions").composerCancel(a)}};e.exports=i}),null);
__d("ReactComposerEmojiButton.react",["cx","EmojiInputButton.react","EmojiPickerActions","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusStore","UnicodeUtils","addEmojiToEditorState","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=b("ReactComposerStatusStore").getActiveEditorState(d.context.composerID),e=b("ReactComposerStatusStore").getActiveLanguageDialect(d.context.composerID);if(c===null||c===void 0)return;b("addEmojiToEditorState")(a,c,e==null?d.$3:d.$4)},d.$3=function(a){var c=0;if(a){var e=a.getCurrentContent();c=e?(h||(h=b("UnicodeUtils"))).strlen(e.getPlainText()):0;b("ReactComposerStatusStore").getEditorState(d.context.composerID)!==a&&(b("ReactComposerStatusActions").setEditorState(d.context.composerID,a),b("ReactComposerStatusActions").setTextLength(d.context.composerID,c))}d.props.onChange&&d.props.onChange(a)},d.$4=function(a){var c=d.context.composerID,e=b("ReactComposerStatusStore").getActiveEditorState(c),f=b("ReactComposerStatusStore").getActiveLanguageDialect(c);e!==a&&b("ifRequired")("ReactComposerMultilingualStatusActions",function(b){b.setEditorState(c,f,a)})},d.$2=function(){b("EmojiPickerActions").setSelectedCategory(0),b("ReactComposerActions").expandSprouts(d.context.composerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=(this.props.isNextToFontPicker?"":"_3nc-")+(this.props.simplifyComposerMoveEmojiButton===!0&&!this.props.isNextToFontPicker?" _77h7":""),c=(this.props.canProduceSATPWithFont?"":"_3nc_")+(this.props.canProduceSATPWithFont?" _7bcl":"")+(this.props.exceedCharacterCount?" _6-3i":""),d="_5zq9";return b("React").jsx(b("EmojiInputButton.react"),{buttonClassName:a,iconActiveClassName:d,iconClassName:c,onSelect:this.$1,onClick:this.$2,position:"below"})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerInlineMediaEntry.react",["ix","cx","fbt","FDSTooltip.react","Image.react","React","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerStore","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=62,k=i._("Add Photo\/Video");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=d.props.composerID;b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,"MEDIA",b("ReactComposerStore").getSproutSurface(a),null,b("ReactComposerLoggingName").MEDIA_INLINE_ENTRY)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.props.composerID);return a===b("ReactComposerAttachmentType").MEDIA?null:b("React").jsx("div",{className:"_7qgi",children:b("React").jsx(b("FDSTooltip.react"),{alignment:"center",offset:j,position:"below",tooltip:k,children:b("React").jsx(b("ShimButton.react"),{className:"_7r2p",onClick:this.$1,children:b("React").jsxs("div",{className:"_7qmz",children:[b("React").jsx(b("Image.react"),{className:"_7qib",src:g("676603")}),b("React").jsx("div",{className:"_7qr7"})]})})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInput.react",["cx","Arbiter","MentionsInput.react","PagesComposerContextUtils","React","ReactComponentWithPureRenderMixin","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerInit","ReactComposerTaggerType","SubscriptionsHandler","XUITypeaheadView.react","addEmojiInput","addTextDelightInput","createReactClass_DEPRECATED","ifRequired","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("PagesComposerContextUtils").getIsDraftComposer;a=b("addTextDelightInput").addTextDelightInput;var i;a?i=b("addEmojiInput")(a(b("MentionsInput.react"),"post")):i=b("addEmojiInput")(b("MentionsInput.react"));c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerStatusAttachmentMentionsInput",_subscriptions:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{config:b("ReactComposerConfig"),mentionsSource:b("prop-types").object,preventFocus:b("prop-types").bool,typeaheadReporter:b("prop-types").object,onChange:b("prop-types").func,onFocus:b("prop-types").func,onPasteFiles:b("prop-types").func,placeholder:b("prop-types").string},componentWillUnmount:function(){var a=this,c=null;b("ifRequired")("ReactComposerStatusStore",function(b){c=b.getEditorState(a.context.composerID)});var d=!1;b("ifRequired")("ComposerEntryPointRef",function(b){d=h(a.context.composerType)});d&&c!==null?this.props.onBlur&&this.props.onBlur(c):this.props.onBlur&&this.props.onBlur(this.props.editorState);this._subscriptions&&this._subscriptions.release()},UNSAFE_componentWillMount:function(){var a=this,c=new(b("SubscriptionsHandler"))();this.props.preventFocus||c.addSubscriptions(b("Arbiter").subscribe([b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID],function(){return a.focus()}));this._subscriptions=c},componentDidCatch:function(a,b){},render:function(){var a=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[b("ReactComposerTaggerType").PEOPLE],c=a&&a.typeaheadView?a.typeaheadView:b("XUITypeaheadView.react");a=a&&a.typeaheadViewProps?a.typeaheadViewProps:{};c=Object.assign({},{ariaLabel:this.props.placeholder,ariaMultiline:!0,role:"textbox",typeaheadView:c,typeaheadViewProps:a,selectOnTab:!1,spellCheck:!0},this.props,{className:b("joinClasses")("_1mwp navigationFocus",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return b("React").jsx(i,babelHelpers["extends"]({ref:"mentionsInput"},c,{webDriverTestID:"status-attachment-mentions-input"}))},focus:function(){var a=this;!b("ReactComposerInit").isInstanceMounted(this.context.composerID)?b("Arbiter").subscribeOnce([b("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID],function(){return a.refs&&a.refs.mentionsInput&&a.refs.mentionsInput.focus()}):this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onAddMention:function(a,c,d){var e=this,f=this.props.typeaheadReporter;f&&(f.reportSelect(a.getUniqueID(),a.getType(),c,d.button>=0),f.sessionEnd(),f.sessionStart());a.getType()==="event"&&b("ifRequired")("ReactComposerEventAttachmentActions",function(b){return b.fetchEventAttachment(e.context.composerID,a.getUniqueID())})},_onShowMentions:function(a,b){b=this.props.typeaheadReporter;b&&b.reportResults(a.map(function(a){return a.getUniqueID()}))},_onFocus:function(){var a=this.props.typeaheadReporter;a&&a.sessionStart();this.props.onFocus&&this.props.onFocus()},_onChange:function(a){this.props.onChange&&this.props.onChange(a)},_onBlur:function(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd(),this.props.onBlur&&this.props.onBlur(this.props.editorState)}});e.exports=c}),null);
__d("ReactComposerStickerContainer.react",["Arbiter","JSResource","React","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerTaggerActions","ReactComposerTaggerType","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("ReactComposerStickerComponent.react").__setRef("ReactComposerStickerContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(d.props.composerID,["taggersData",b("ReactComposerTaggerType").STICKER]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(d.props.composerID,b("ReactComposerTaggerType").STICKER,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!(this.props.sticker&&this.props.sticker.stickerID)?null:b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(g,{sticker:this.props.sticker,composerID:this.props.composerID})})};d.UNSAFE_componentWillMount=function(){this.$2(),this.$1=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$2)};d.componentWillUnmount=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputVariant.react",["cssVar","cx","Arbiter","Keys","React","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEmojiButton.react","ReactComposerEvents","ReactComposerInlineMediaEntry.react","ReactComposerStatusAttachmentMentionsInput.react","ReactComposerStickerContainer.react","ReactComposerTaggerStore","SubscriptionsHandler","UserAgent_DEPRECATED","emptyFunction","getCampfireKeyBinding","getDefaultKeyBinding","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={CODE:{backgroundColor:"#e9ebee",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"90%",padding:"1px 4px"}};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){var b=/^image\//;a=a.filter(function(a){return b.test(a.type)});if(a.length>0&&d.props.onPasteFiles){d.props.onPasteFiles(a);return!0}return!1},d.$3=function(a,c){c=b("UserAgent_DEPRECATED").osx()?a.metaKey:a.ctrlKey;if(a.keyCode===b("Keys").RETURN&&c){d.blur();window.setTimeout(d.props.onPostIntent,0);return!0}return!1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.context&&this.context.composerID&&this.props.useRichTextEditor&&b("Arbiter").inform(b("ReactComposerEvents").RICH_TEXT_EDITOR_MOUNTED+this.context.composerID);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe([b("ReactComposerEvents").HIGHLIGHT_TOP_COMPOSER],function(){return a.focus()}))};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){__p&&__p();var a=this.props.config&&this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=null;if(this.props.useRichTextEditor){var d=a.richTextEditor;c=b("React").jsx(d,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_3w8y _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _n7q":"")),canAttachVideo:!1,canAttachPhoto:!1,canAttachEmbed:!1,customStyleMap:i,onSave:b("emptyFunction"),spellCheck:!0,autoCorrect:!1,handlePastedFiles:this.$2,handleContentReturn:this.$3,keyBindingFn:this.props.disableLinkAndMonoFormatting?b("getDefaultKeyBinding"):b("getCampfireKeyBinding"),ref:"mentionsInput"}))}else c=b("React").jsx(b("ReactComposerStatusAttachmentMentionsInput.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":"")+(this.props.config&&this.props.config.showExpandedComposer?" _4c_p":"")+(a&&a.showProfilePic?" _5bu_":"")+(this.props.isPosting?" _1udp":"")+(this.props.shouldUseLargeText?" _3t-3":"")+(a&&a.largeTextThreshold?" _34nd":"")+" _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _hjn":"")+(this.props.exceedCharacterCount?" _6zdn":"")+(this.props.exceedCharacterCount&&(b("ReactComposerTaggerStore").getNumberOfWithWhoTags(this.props.compositionID)>0||b("ReactComposerTaggerStore").hasMinutiae(this.props.compositionID))?" _6-3h":"")+(this.props.sticker&&this.props.sticker.stickerID&&(this.props.editorState&&this.props.editorState.getCurrentContent().getPlainText().trim().length===0||this.props.shouldUseLargeText)?" _4vlg":"")+(this.props.showInlineMediaEntry?" _7qmn":"")+(this.props.showInlineMediaEntry&&this.props.useDialogInlineMediaStyle?" _7wjo":"")),ref:"mentionsInput",readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$2,handleContentReturn:this.$3}));d=this.props.simplifyComposerMoveEmojiButton||this.props.hideEmojiButtonBeforeFocus?null:b("React").jsx(b("ReactComposerEmojiButton.react"),{exceedCharacterCount:this.props.exceedCharacterCount,onChange:this.props.onChange,canProduceSATPWithFont:this.props.canProduceSATPWithFont,simplifyComposerMoveEmojiButton:this.props.simplifyComposerMoveEmojiButton});a=b("React").jsx(b("ReactComposerStickerContainer.react"),{sticker:this.props.sticker,composerID:this.props.compositionID});var e=this.props.showInlineMediaEntry&&b("React").jsx(b("ReactComposerInlineMediaEntry.react"),{composerID:this.context.composerID});return b("React").jsxs("div",{className:"_3nd0",children:[a,c,e,d]})};d.blur=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()};d.focus=function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("getReactComposerTextDelightInputDecorator",["EditorState","React","ReactComposerStatusActions","ReactComposerStatusStore","TextDelightInputDecorator","TextDelightSpan.react","getEntityMatcher","memoizeByReference"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("ReactComposerStatusStore").getEditorState(a.funnelKey);c&&b("ReactComposerStatusActions").setEditorState(a.funnelKey,b("EditorState").create({currentContent:c.getCurrentContent(),decorator:c.getDecorator(),selection:c.getSelection()}))}a=b("memoizeByReference")(function(a){return new(b("TextDelightInputDecorator"))({strategy:b("getEntityMatcher")(function(a){return a.getType()==="DELIGHT"&&a.getData().surface==="post"}),component:function(a){return b("React").jsx(b("TextDelightSpan.react"),babelHelpers["extends"]({},a,{onXOut:g}))}},a)});e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputContainer.react",["fbt","Arbiter","Bootloader","EditorState","FDSText.react","LitestandStoryInsertionStatus","PagesComposerNuxStore","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFocusStore","ReactComposerHandleUnsavedChanges","ReactComposerInputDecorator","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerOptimisticPostingActions","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerSproutsDisplayState","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputVariant.react","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerEligibilityUtils","ReactComposerTaggerStore","ReactComposerTaggerType","SimpleNUXMessage","SimpleNUXMessageTypes","TextDelightInComposerGating","UnicodeUtils","URLMatcher","URLScraper","XUIAmbientNUX.react","createReactClass_DEPRECATED","getReactComposerEmojiInputDecorator","getReactComposerTextDelightInputDecorator","ifRequired","isEmpty"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j=null,k=function(a,c){var d=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);if(d===b("ReactComposerAttachmentType").LIVE_VIDEO||d===b("ReactComposerAttachmentType").SELL||d===b("ReactComposerAttachmentType").GROUP_MEET_UP||b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").FUNDRAISER))return!1;d=c&&c.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];c=b("ReactComposerTaggerStore").hasMarkdown(a);return!!(d&&d.richTextEditor&&!c)},l=function(a){a=a&&a.attachmentsConfig[b("ReactComposerAttachmentType").STATUS];return(a==null?void 0:a.disableLinkAndMonoFormatting)==!0},m=function(a){a=a&&a.actorConfig;return(a==null?void 0:a.shouldShowFormattedPostNux)==!0};a=b("createReactClass_DEPRECATED")({displayName:"ComposerStatusAttachmentMentionsInputContainer",_rerenderSubscription:void 0,_pendingEditorStateUpdateFromMount:void 0,_storyInsertionBlocker:void 0,_prefillSubscription:void 0,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerMinutiaeAttachmentStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerStatusStore"),b("ReactComposerStore"),b("ReactComposerTaggerStore"),b("PagesComposerNuxStore"))],getDefaultProps:function(){return{mentionsEnabled:!0}},getInitialState:function(){return{isFocused:!1,hasShownLinkPostNux:!1}},statics:{calculateState:function(a,c,d){__p&&__p();d=b("ReactComposerStatusStore").getEditorState(a);var e=c.config&&c.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],f=!1,g=b("ReactComposerStatusStore").getTextLength(a),j=b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),n=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a),o=k(a,c.config),p=l(c.config),q=m(c.config),r=b("ReactComposerInputDecorator").NONE;c.mentionsEnabled&&(r=e&&e.richTextEditor?b("ReactComposerInputDecorator").RICH_TEXT:b("ReactComposerInputDecorator").MENTIONS);if(e&&e.largeTextThreshold&&b("ReactComposerMediaUploadStore").getUploadsCount(a)===0&&!b("ReactComposerScrapedAttachmentStore").hasAttachment(a)&&!b("ReactComposerTaggerStore").hasExplicitLocation(a)&&!b("ReactComposerTaggerStore").hasMarkdown(a)&&b("ReactComposerMinutiaeAttachmentStore").getMarkup(a)===null&&n!==b("ReactComposerAttachmentType").FIND_PLAYERS&&n!==b("ReactComposerAttachmentType").SELL&&n!==b("ReactComposerAttachmentType").IG_PHOTO_REMINDER){if(!g&&d){var s=d.getCurrentContent();g=(h||(h=b("UnicodeUtils"))).strlen(s.getPlainText())}s=c.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].placeholderText;(s&&s.length<=e.LargePlaceholderTextThreshold&&g===0&&j||g!==0&&g<=e.largeTextThreshold)&&(f=!0);b("ifRequired")("ReactComposerFormattedTextStore",function(d){d=d.getSelectedIndex(a);d!=null&&d>-1&&(f=!0,r=c.mentionsEnabled?b("ReactComposerInputDecorator").MENTIONS:b("ReactComposerInputDecorator").NONE,o=!1)})}s=b("getReactComposerEmojiInputDecorator")(r,f&&!o?28:16,l(c.config));s=b("getReactComposerTextDelightInputDecorator")(s);d?d.getDecorator()!==s?(j=b("EditorState").set(d,{decorator:s}),b("ReactComposerStatusActions").setEditorState(a,j)):j=d:(j=b("EditorState").createEmpty(s),b("ReactComposerStatusActions").setEditorState(a,j));g=b("ReactComposerStatusStore").getMessageText(a);return{activeEditorState:b("ReactComposerStatusStore").getActiveEditorState(a),editorState:j,isSelectedAttachmentActive:b("ReactComposerAttachmentStore").isSelectedAttachmentActive(a),mentionsSource:c.mentionsEnabled?b("ReactComposerStatusStore").getMentionsSource(a):null,posting:b("ReactComposerStore").isPosting(a),typeaheadReporter:b("ReactComposerStatusStore").getTypeaheadReporter(a),shouldUseLargeText:f,selectedSticker:b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").STICKER),useRichText:o,disableLinkAndMonoFormatting:p,shouldShowFormattingNux:q,exceedCharacterCount:b("ReactComposerTaggerEligibilityUtils").exceedSATPCharacterCountOrExceedNewLinesCount(a,c),atMentionSearchSource:e&&e.bootstrapData?e.bootstrapData.mentionsSource:b("ReactComposerStatusStore").getMentionsSource(a),shouldShowLinkPostWarningNux:(b("ReactComposerStore").getSproutsDisplayState(a)===b("ReactComposerSproutsDisplayState").EXPANDED||b("ReactComposerFocusStore").isComposerFocused(a))&&!b("ReactComposerStore").isPosting(a)&&g.trim().split(" ").length===1&&g.trim().split("\n").length===1&&!(i||(i=b("isEmpty")))(b("ReactComposerStatusUtils").validateUrl(b("URLScraper").match(g)||b("URLMatcher").permissiveMatch(g)))&&n===b("ReactComposerAttachmentType").STATUS}}},UNSAFE_componentWillMount:function(){var a=this;this.props.mentionsSource&&b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=b("LitestandStoryInsertionStatus").registerBlocker(function(){return b("ReactComposerHandleUnsavedChanges").hasUnsavedChanges(a.context.composerID)||a.state.isFocused})},componentDidMount:function(){var a=this,c=b("ReactComposerStatusStore").getEditorState(this.context.composerID);this.state.editorState!==c&&(this._pendingEditorStateUpdateFromMount=c,this.setState({editorState:c},function(){a._pendingEditorStateUpdateFromMount=void 0}));this._rerenderSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").RERENDER_MENTION_INPUT+this.context.composerID,function(){a.setState({editorState:b("ReactComposerStatusStore").getEditorState(a.context.composerID)})})},UNSAFE_componentWillReceiveProps:function(a){this.props.mentionsSource!==a.mentionsSource&&b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,a.mentionsSource);if(a.editorState===null){a=b("EditorState").createEmpty(b("getReactComposerEmojiInputDecorator")(b("ReactComposerInputDecorator").MENTIONS));b("ReactComposerStatusActions").setEditorState(this.context.composerID,a);this.setState({editorState:a})}},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null,this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe(),this._storyInsertionBlocker=null,this._rerenderSubscription&&this._rerenderSubscription.unsubscribe()},render:function(){var a,c,d,e=this,f=this.context.gks.showLinkPostWarning&&this.context.gks.showLinkPostWarningTooltip&&this.refs&&this.refs.mentionsInput?b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return e.refs.mentionsInput},offsetY:-13,onCloseButtonClick:this._onCloseButtonClick,position:"below",shown:this.state.shouldShowLinkPostWarningNux&&!this.state.hasShownLinkPostNux,useDarkMode:!0,width:"wide",children:b("React").jsx(b("FDSText.react"),{size:"body3",color:"white",children:g._("Add text to help people understand the link you're sharing.")})}):null;d=((d=this.props)!=null?(d=d.config)!=null?(d=d.loggingConfig)!=null?d.composerSourceSurface:d:d:d)==="page"&&this.context.gks.showInlineMediaIcon;c=((c=this.props)!=null?(c=c.config)!=null?(c=c.loggingConfig)!=null?c.composerSourceSurface:c:c:c)==="page"&&!!((c=this.context)!=null?(c=c.gks)!=null?c.showInlineDialogExperience:c:c)&&!!((c=this.context)!=null?(c=c.gks)!=null?c.isDialogComposer:c:c);a=((a=this.props)!=null?(a=a.config)!=null?(a=a.loggingConfig)!=null?a.composerSourceSurface:a:a:a)==="page"&&!!((a=this.context)!=null?(a=a.gks)!=null?a.showInlineDialogExperience:a:a)&&!((a=this.context)!=null?(a=a.gks)!=null?a.isDialogComposer:a:a);return b("React").jsxs("div",{children:[b("React").jsx(b("ReactComposerStatusAttachmentMentionsInputVariant.react"),babelHelpers["extends"]({},this.props,{className:this.props.className,activeEditorState:this.state.activeEditorState,compositionID:this.context.composerID,delightFunnelID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:"mentionsInput",shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this.state.useRichText,disableLinkAndMonoFormatting:this.state.disableLinkAndMonoFormatting,shouldShowFormattingNux:this.state.shouldShowFormattingNux,sticker:this.state.selectedSticker,exceedCharacterCount:this.state.exceedCharacterCount,simplifyComposerMoveEmojiButton:this.props.simplifyComposerMoveEmojiButton,canProduceSATPWithFont:this.props.canProduceSATPWithFont,showInlineMediaEntry:d,useDialogInlineMediaStyle:c,hideEmojiButtonBeforeFocus:a})),f]})},_onCloseButtonClick:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_SHARING_LINK_POST_WARNING_NUX),this.setState({shouldShowLinkPostWarningNux:!1})},focus:function(){var a=this;this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus();this._pendingEditorStateUpdateFromMount!==void 0&&this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return a.refs&&a.refs.mentionsInput&&a.refs.mentionsInput.focus()})},blur:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},_onFocus:function(){b("Arbiter").inform(b("ReactComposerEvents").MENTION_INPUT_FOCUS+this.context.composerID),b("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.state.atMentionSearchSource),this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus()},_onChange:function(a){__p&&__p();if(this._pendingEditorStateUpdateFromMount!==void 0)return;var c=0;if(a){var d=a.getCurrentContent();c=d?(h||(h=b("UnicodeUtils"))).strlen(d.getPlainText()):0;c>0&&b("TextDelightInComposerGating").isEnabled("post")&&(j?a=j.applyTextDelightEntity(a,b("ReactComposerStatusStore").getEditorState(this.context.composerID),this.context.composerID,"post"):b("Bootloader").loadModules(["TextDelightInComposerMatcher"],function(a){j=a},"ReactComposerStatusAttachmentMentionsInputContainer.react"));b("ReactComposerStatusStore").getEditorState(this.context.composerID)!==a&&(b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),b("ReactComposerStatusActions").setTextLength(this.context.composerID,c))}this._handleMarkdownChange(a);this.props.onChange&&this.props.onChange(a);this.setState({editorState:a})},_handleMarkdownChange:function(a){var c=this.props.config?this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS]:null;b("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,c?c.markdownPreviewAttachment:null,a)},_onBlur:function(a){a instanceof b("EditorState")&&b("ReactComposerStatusActions").setEditorState(this.context.composerID,a),this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur(a)},_onPostIntent:function(){this.context.gks.optimisticPosting?b("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,b("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID):b("ReactComposerActions").postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}});e.exports=a}),null);
__d("ReactComposerStatusMentionsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getMentionsFromEditorState:function(a){__p&&__p();var b=a.getCurrentContent(),c={};b.getBlockMap().forEach(function(a){__p&&__p();var d=a.getText();a.findEntityRanges(function(){return!0},function(e,f){var g=a.getEntityAt(e);if(!g)return;g=b.getEntity(g);if(g.getType()!=="MENTION"||g.getData().type!=="user")return;var h=g.getData().id;c[h]={type:"user",uid:h,text:d.slice(e,f),isWeak:g.getData().isWeak}})});return c}};e.exports=a}),null);
__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","ReactComposerStatusMentionsUtils","createReactClass_DEPRECATED","joinClasses"],(function(a,b,c,d,e,f,g){a=b("createReactClass_DEPRECATED")({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],render:function(){var a=b("joinClasses")(this.props.className,"_395");return b("React").jsx(b("ReactComposerStatusAttachmentMentionsInputContainer.react"),babelHelpers["extends"]({},this.props,{className:a,onChange:this._onChange,ref:"mentionsInput"}))},focus:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.focus()},blur:function(){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.blur()},insertEmoji:function(a){this.refs&&this.refs.mentionsInput&&this.refs.mentionsInput.insertEmoji(a)},_onChange:function(a){b("ReactComposerStatusActions").setMentions(this.context.composerID,b("ReactComposerStatusMentionsUtils").getMentionsFromEditorState(a)),this.props.onChange&&this.props.onChange(a)}});e.exports=a}),null);
__d("ReactComposerAlbumTaggerButton.react",["cx","fbt","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerAlbumTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],propTypes:{hasData:b("prop-types").bool},statics:{taggerID:b("ReactComposerTaggerType").ALBUM,loggingName:b("ReactComposerLoggingName").ALBUM_TAGGER,suppressTaggerLink:!0},getTitle:function(){return h._("Add your post to an album")},getTooltip:function(){return h._("Pick an album")},getClassName:function(){return"_3c57"+(this.props.hasData?" _6xe":"")}});e.exports=a}),null);
__d("ReactComposerAlbumTaggerButtonContainer.react",["FluxContainer","React","ReactComposerAlbumTaggerButton.react","ReactComposerAudienceStore","ReactComposerContextTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(a,c,d){a=b("ReactComposerAudienceStore").getCollectionID(d.composerID);return{hasSelectedAlbum:a!==null}};c.getStores=function(){return[b("ReactComposerAudienceStore")]};var d=c.prototype;d.render=function(){return b("React").jsx(b("ReactComposerAlbumTaggerButton.react"),{hasData:this.state.hasSelectedAlbum})};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerAudienceSelector.react",["cx","DOM","PrivacySelector","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=1.5,i=20,j=500;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=i,c.$2=null,c.$3=null,c.state={loading:c.props.viewerIsTarget},c.$8=function(a,b){c.$4||c.props.onChange(b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$4=!1,this.$5()};d.componentWillUnmount=function(){this.$4=!0,this.$2&&clearTimeout(this.$2),this.$3&&clearTimeout(this.$3)};d.componentDidUpdate=function(a,b){this.props.audienceXHP!==a.audienceXHP&&this.$5()};d.render=function(){return b("React").jsx("div",{ref:"audienceSelector",onClick:function(a){return a.stopPropagation()},className:b("joinClasses")("_5dd8"+(this.state.loading?" _2hio":""),this.props.className)})};d.$5=function(){this.props.viewerIsTarget&&this.$6(),this.refs&&this.refs.audienceSelector?b("DOM").setContent(b("ReactDOM").findDOMNode(this.refs.audienceSelector),this.props.audienceXHP):this.$7()};d.$7=function(){var a=this;this.$3=setTimeout(function(){a.refs&&a.refs.audienceSelector?b("DOM").setContent(b("ReactDOM").findDOMNode(a.refs.audienceSelector),a.props.audienceXHP):a.$7()},100)};d.$6=function(){var a=this;this.$2=setTimeout(function(){var c=b("PrivacySelector").getAdamaSelectorInstance(a.props.audienceXHP);c?(c.subscribe("changed",a.$8),a.setState({loading:!1})):(a.$1=Math.min(a.$1*h,j),a.$6())},this.$1)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerAudienceSelectorContainer.react",["csx","cx","fbt","invariant","Arbiter","BackgroundImage.react","CSS","DOM","FluxContainer","PrivacyConst","PrivacySelector","React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActions","ReactComposerAudienceSelector.react","ReactComposerAudienceStore","ReactComposerCollectionsStore","ReactComposerContextTypes","ReactComposerEvents","ReactComposerLoggingName","ReactComposerPrefillStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","TooltipData","XUIPopoverButton.react","ifRequired"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c)||this;e.$1=null;e.$3=function(a){var c=b("DOM").scry(e.props.audienceXHP,"._401v").pop();if(c){var d=e.$4(parseInt(a.post_param,10));d=i._("Shared with {privacyString}",[i._param("privacyString",d)]);c.setAttribute("aria-label",d)}b("ReactComposerAudienceActions").setAudience(e.context.composerID,a.post_param,a.privacy_base,b("ReactComposerLoggingName").AUDIENCE_SELECTOR);e.props.onAudienceChanged&&e.props.onAudienceChanged()};e.$2=function(){var a=b("ReactComposerPrefillStore").getField(e.context.composerID,"albumData");a&&a.albumID&&(b("ReactComposerCollectionsStore").loadCollections(e.context.composerID),b("ReactComposerAudienceActions").setCollectionIDWithoutLogging(e.context.composerID,a.albumID))};e.beforeCalculateInitialState(d.composerID,c,d);return e}var d=c.prototype;d.beforeCalculateInitialState=function(a,c,d){__p&&__p();var e=c.audienceXHP,f,g=b("PrivacySelector").getAdamaSelectorInstance(e);b("ReactComposerAudienceActions").setAudienceElement(a,c.audienceXHP);b("ReactComposerAudienceActions").setAudienceInstance(a,g);if(!e||!c.viewerIsTarget)return;g&&(f=g.getPostParam());var h;g||(h=b("DOM").scry(e,'select option[selected="1"]').pop());if(!g&&!h){c=b("DOM").scry(e,'input[name="privacyx"]')[0]||b("DOM").scry(e,'input[name="privacy[0]"]')[0];c&&(f=c.value)}!!(f||h)||b("PrivacySelector").isFakeOrUneditableSelector(e)||d.actorID||j(0,3205);b("ReactComposerAudienceActions").setAudienceWithoutLogging(a,f,h?h.value:null)};c.getStores=function(){var a=[b("ReactComposerAttachmentStore"),b("ReactComposerAudienceStore"),b("ReactComposerStatusStore"),b("ReactComposerTaggerStore"),b("ReactComposerCollectionsStore")];b("ifRequired")("ReactComposerListStore",function(b){a.push(b)});return a};c.calculateState=function(a,c,d){__p&&__p();var e=d.composerID;if(!c.ignoreCollectionAudience){a=b("ReactComposerAudienceStore").getCollectionID(e);if(a){d=b("ReactComposerCollectionsStore").getCollectionByID(e,a)||b("ReactComposerPrefillStore").getField(e,"albumData");if(d)return{collectionPrivacyIcon:d.privacyIcon,collectionPrivacyLabel:d.privacyLabel,collectionOwnerName:d.ownerName}}}var f=b("ReactComposerStatusStore").getMentions(e);a=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,b("ReactComposerAttachmentType").LIST);a&&b("ifRequired")("ReactComposerListStore",function(a){a=a.getAllListMentions(e);f=Object.assign(a,f)});d=b("ReactComposerTaggerStore").getTaggerData(e,b("ReactComposerTaggerType").PEOPLE)||[];var g=d.map(function(a){return{info:{type:a.getType(),uid:a.getUniqueID(),text:a.getTitle()}}});a=b("CSS").matchesSelector(c.audienceXHP,"._43_1")?c.audienceXHP:b("DOM").scry(c.audienceXHP,"._43_1")[0];a!=null&&b("PrivacySelector").genAndThen(a,function(a){a.informTagsChanged({withTags:g,mention:f})});return{collectionPrivacyIcon:null,collectionPrivacyLabel:null,collectionOwnerName:null}};d.UNSAFE_componentWillMount=function(){this.$2(),this.$1=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this.$2)};d.componentWillUnmount=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){if(this.state.collectionPrivacyIcon&&this.state.collectionPrivacyLabel){var a=this.state.collectionOwnerName?i._("{albumOwnerName} set who can see what's posted in this album",[i._param("albumOwnerName",this.state.collectionOwnerName)]):null;a=b("React").jsx(b("XUIPopoverButton.react"),babelHelpers["extends"]({className:"_5dd8",disabled:!0,image:b("React").jsx(b("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_3byx",height:12,src:this.state.collectionPrivacyIcon,width:12}),label:this.state.collectionPrivacyLabel},b("TooltipData").propsFor(a)));return a}else return b("React").jsx(b("ReactComposerAudienceSelector.react"),babelHelpers["extends"]({},this.props,{onChange:this.$3}))};d.$4=function(a){var c=Object.keys(b("PrivacyConst").PostParam);for(var d=0;d<c.length;d++){var e=c[d];if(b("PrivacyConst").PostParam[e]===a)return e.replace("_"," ").toLowerCase()}return""};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerBootloaderPropTypes",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";e.exports=(a=b("prop-types")).shape({statusAttachment:a.func.isRequired,mediaAttachment:a.func.isRequired,qandaAttachment:a.func,questionAttachment:a.func,visualPollAttachment:a.func,listAttachment:a.func,todoListAttachment:a.func,extraAttachment:a.func,findPlayersAttachment:a.func,salesPromoAttachment:a.func,eventCreationAttachment:a.func,publishJobAttachment:a.func,actionPostAttachment:a.func,ctaAttachment:a.func,localDevPlatformAttachment:a.func,supportNowAttachment:a.func})}),null);
__d("ReactComposerFooterActions.react",["cx","React","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_2ph-",this.props.className);return b("React").jsx(b("XUICardSection.react"),{className:a,children:this.props.children})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerFooter.react",["cx","requireDeferred","React","ReactComposerContextTypes","ReactComposerFocusStore","deferredLoadComponent","ReactComposerSproutsDisplayState","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React").Suspense,i=b("deferredLoadComponent")(b("requireDeferred")("ReactComposerPublicEventDisclaimer.react"));a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context.gks.lazySproutsExpand&&b("ReactComposerFocusStore").isComposerFocused(this.context.composerID);if(!this.props.showInlineSproutsPostBar&&!a&&this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE)return null;a=b("joinClasses")("_2dck",this.props.className);return b("React").jsxs(b("XUICardSection.react"),{background:this.props.background,className:a,"data-testid":"react-composer-footer",children:[this.props.children,this.props.showEventsPrivacyDisclaimer&&b("React").jsx(h,{fallback:null,children:b("React").jsx(i,{})})]})};return c}(b("React").PureComponent);a.defaultProps={background:"white"};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerFooterContainer.react",["FluxContainer","React","ReactComposerAudienceActions","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerFooter.react","ReactComposerStore","ifRequired","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("ReactComposerAudienceActions").clickSeeMessenger(d.context.composerID)},c)||babelHelpers.assertThisInitialized(d)}c.calculateState=function(a,c,d){return{adsPostSelected:(a=b("ReactComposerAudienceStore")).getAdsPePostSelected(d.composerID),instagramSelected:a.getInstagramSelected(d.composerID),isComposerFocused:b("ifRequired")("ReactComposerFocusStore",function(a){return a.isComposerFocused(d.composerID)},function(){return!1}),sproutsDisplayState:b("ReactComposerStore").getSproutsDisplayState(d.composerID),storiesSelected:a.getStoriesSelected(d.composerID),timelineSelected:a.getTimelineSelected(d.composerID),selectedMessengerRecipientEntries:a.getSelectedMessengerRecipientEntries(d.composerID),messengerSectionVisible:a.getMessengerSectionVisible(d.composerID)}};c.getStores=function(){var a=[b("ReactComposerStore"),b("ReactComposerAudienceStore")];b("ifRequired")("ReactComposerFocusStore",function(b){a.push(b)});return a};var d=c.prototype;d.render=function(){var a=this.context.gks&&this.context.gks.isSproutsComposer,c=this.props.footerModule||b("ReactComposerFooter.react"),d=babelHelpers["extends"]({showEventsPrivacyDisclaimer:!1},this.props.config);d=this.context.composerType==="event"&&d.showEventsPrivacyDisclaimer;return b("React").jsx(c,babelHelpers["extends"]({adsPostSelected:this.state.adsPostSelected,instagramSelected:this.state.instagramSelected,isComposerFocused:this.state.isComposerFocused,sproutsDisplayState:a?this.state.sproutsDisplayState:null,showInlineSproutsPostBar:this.context.gks&&this.context.gks.showInlineSproutsPostBar,storiesSelected:this.state.storiesSelected,timelineSelected:this.state.timelineSelected,selectedMessengerRecipientEntries:this.state.selectedMessengerRecipientEntries,messengerSectionVisible:this.state.messengerSectionVisible,onClickSeeMore:this.$1,showEventsPrivacyDisclaimer:d},this.props))};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ComposerPostEligibilityLoggingUtils",["ComposerXMarauderLogger","ReactComposerAudienceStore","ReactComposerStore","ReactComposerTaggerEligibilityUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logComposerPostEligibility:function(a){this._log("composer_post_eligibility",a)},_log:function(a,c){var d;d={is_eligible_for_messenger:!1,is_eligible_for_my_story:b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(c),instagram_eligibility:b("ReactComposerTaggerEligibilityUtils").getInstagramSharingEligibility(c),is_my_story_selected:(d=b("ReactComposerAudienceStore")).getStoriesSelected(c),is_ads_pe_post_selected:d.getAdsPePostSelected(c),is_news_feed_selected:d.getTimelineSelected(c),is_instagram_selected:d.getInstagramSelected(c)};var e=b("ReactComposerStore").getComposerData(c),f=e.actorID;e=e.isActorAPage;e&&(d=babelHelpers["extends"]({},d,{posting_as_page_id:f}));b("ComposerXMarauderLogger").logEvent(a.toLowerCase(),c,{extraData:d})}};e.exports=a}),null);
__d("ReactComposerPostButtonContainerMixin",["fbt","requireCond","Arbiter","BanzaiODS","Bootloader","ComposerConfirmationDialogEventTypedLogger","ComposerDestinationsLoggingUtils","ComposerPostEligibilityLoggingUtils","cr:890473","cr:890474","cr:1201383","FBIDCheck","JSResource","MisinfoFrontendTypedLogger","PagesComposerContextUtils","PagesComposerPostPreviewButtonContainer.react","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAsset3dAttachmentStore","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerConfig","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFormattedTextPickerComponent.react","ReactComposerInit","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingActions","ReactComposerOptimisticPostingStore","ReactComposerPostButton.react","ReactComposerPostDataUtils","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReloadPage","SimpleXUIDialog","XUIButtonGroup.react","lazyLoadComponent","prop-types","$","debounce","ifRequired","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("ReactComposerUserScheduledPostButton.react").__setRef("ReactComposerPostButtonContainerMixin")),i="misinfo_warning_disputed_flags",j="composer_confirmation_dialog_shown",k="composer_posted_anyways";c={contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin").apply(void 0,[b("ReactComposerOptimisticPostingStore"),b("ReactComposerStore"),b("ReactComposerAsset3dAttachmentStore"),b("ReactComposerAudienceStore"),b("ReactComposerAttachmentStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerStatusStore"),b("ReactComposerTaggerStore"),b("cr:890473"),b("cr:890474")].filter(function(a){return a!=null}))],propTypes:{config:b("ReactComposerConfig").isRequired,forceDisabled:(a=b("prop-types")).bool,onClickPreprocess:a.func,useDefaultScheduleComponent:a.bool,isMediaUploading:a.bool,isRunningInterception:a.bool},getDefaultProps:function(){return{forceDisabled:!1}},statics:{calculateState:function(a,c,d){var e=b("ReactComposerStore").isPosting(a),f=b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(a),g=b("ReactComposerAsset3dAttachmentStore").isCreating(a);d=b("ReactComposerPostDataUtils").isEmptyAttachment(c.config,d);var h=b("ReactComposerScrapedAttachmentStore").isScraping(a)&&!b("ReactComposerAttachmentStore").isContentMultiShareAttachment(a),i=b("cr:1201383")?b("cr:1201383").isPostButtonDisabled(a):!1,j=!!b("ReactComposerStatusStore").getMessageText(a).trim(),k=b("ReactComposerAudienceStore").getTimelineSelected(a);return{disabled:d||i||c.forceDisabled||e||f||g||h&&!j,isPosting:e,isOptimisticallyPosting:f,destinationPickerEligible:b("ReactComposerAttachmentStore").isSelectedAttachmentDestinationPickerEligible(a),timelineSelected:k}},getButtonSize:function(){return"medium"}},render:function(){var a=this.props,c=!this.context.gks.optimisticPosting&&(b("PagesComposerContextUtils").getIsDialogComposer(a.config.loggingConfig.ref)||this.context.gks.isDialogComposer);c=b("React").jsx(b("ReactComposerPostButton.react"),babelHelpers["extends"]({},a,{disabled:this.state.disabled,className:a.className,onClick:b("debounce")(this._onClick),isPosting:this.state.isPosting,isMediaUploading:a.isMediaUploading,timelineSelected:this.state.timelineSelected,hideSpinner:c,isRunningInterception:!!a.isRunningInterception,showPagesComposerFooterRedesign:!!((c=this.context)!=null?(c=c.gks)!=null?c.showPagesComposerFooterRedesign:c:c),showBoostedPostBtnInFooter:!!((c=this.context)!=null?(c=c.gks)!=null?c.showBoostedInFooter:c:c)}));if(a.useDefaultScheduleComponent&&a.config.actorConfig!==void 0&&a.config.actorConfig!==null&&a.config.actorConfig.canSchedule&&a.config.actorConfig.timezoneStr){var d=a.config.actorConfig,e=!1;this.context.composerType==="timeline"&&this.context.actorID===this.context.targetID&&b("FBIDCheck").isUser_deprecated(this.context.actorID)&&(e=!0);return b("React").jsxs("span",{children:[b("React").jsx(b("XUIButtonGroup.react"),{children:c}),b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(h,{composerID:this.context.composerID,isUserTimeline:e,onSchedule:this._onClick,timezoneStr:d.timezoneStr,disabled:this.state.disabled,minScheduledTimeDelta:d.minScheduledTimeDelta,maxScheduledTimeDelta:d.maxScheduledTimeDelta,timezoneOffset:d.timezoneOffset,defaultScheduledTimeDelta:d.defaultScheduledTimeDelta})})]})}d=!!((e=this.context)!=null?(e=e.gks)!=null?e.showPostPreview:e:e)&&b("React").jsx(b("PagesComposerPostPreviewButtonContainer.react"),{config:a.config,isPostButtonDisabled:this.state.disabled});return b("React").jsxs(b("React").Fragment,{children:[d,c]})},_onClick:function(a){__p&&__p();var c=this;a=this.props;this.state.destinationPickerEligible&&(this.context.gks.oneStepComposer||this.context.gks.showPagesDestinationPicker)&&b("ComposerDestinationsLoggingUtils").logComposerDestinationsSubmitClicked(this.context.composerID);b("ComposerPostEligibilityLoggingUtils").logComposerPostEligibility(this.context.composerID);if(this.state.disabled)return;if(a.onClickPreprocess&&!a.onClickPreprocess())return;b("ifRequired")("ReactComposerFormattedTextStore",function(a){c._checkEmptyTextWithBackgroundColor(a)},function(){c._validateAndStartPost()})},_checkEmptyTextWithBackgroundColor:function(a){var c=this,d=b("ReactComposerStatusStore").getTextLength(this.context.composerID);a=a.getBackgroundColorIsActive(this.context.composerID);d===0&&a?b("Bootloader").loadModules(["XUIDialogButton.react"],function(a){a=b("React").jsxs("div",{children:[b("React").jsx(a,{action:"cancel",label:g._("Go Back")}),b("React").jsx(a,{action:"cancel",label:g._("Post"),onClick:function(){c._removeBackground(),c._validateAndStartPost()},use:"confirm"})]});b("SimpleXUIDialog").showEx(g._("The background you selected will only appear when you add text to your post."),g._("Post Without Background?"),a)},"ReactComposerPostButtonContainerMixin"):this._validateAndStartPost()},_handleDisputedWarningConfirmation:function(a){b("BanzaiODS").bumpEntityKey(2966,i,k),new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("confirm").setEventLocation("composer").setCorrelationID(a).log(),new(b("MisinfoFrontendTypedLogger"))().setEvent("action").setFeature("SHARE_WARNING").setSurface("unknown").setView("MAIN_VIEW").setTarget("CONFIRM_SHARE").log()},_handleDisputedWarningCancellation:function(a){new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("cancel").setEventLocation("composer").setCorrelationID(a).log(),new(b("MisinfoFrontendTypedLogger"))().setEvent("action").setFeature("SHARE_WARNING").setSurface("unknown").setView("MAIN_VIEW").setTarget("CLOSE").log()},_handleDisputedWarningImplicitCancellation:function(a){new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("implicit_cancel").setEventLocation("composer").setCorrelationID(a).log(),new(b("MisinfoFrontendTypedLogger"))().setEvent("action").setFeature("SHARE_WARNING").setSurface("unknown").setView("MAIN_VIEW").setTarget("IMPLICIT_CANCEL").log()},_handleDisputedWarningShowing:function(a,c){b("BanzaiODS").bumpEntityKey(2966,i,j),new(b("ComposerConfirmationDialogEventTypedLogger"))().setEventName("shown").setEventLocation("composer").setCorrelationID(a).log(),new(b("MisinfoFrontendTypedLogger"))().setContentIDRaw(c).setEvent("visible").setFeature("SHARE_WARNING").setSurface("unknown").setView("MAIN_VIEW").log()},_validateAndStartPost:function(){__p&&__p();var a=this;if(this._validateAlbumAddition()===!1){b("SimpleXUIDialog").show(g._("Album posts must contain at least one photo or video. Please add a photo or video to your post, or remove the album selection."),g._("Cannot add post to album"));b("BanzaiODS").bumpEntityKey(2966,"www_composer_albumsv2","error_no_media");return}var c=this.context.composerID,d=b("ReactComposerScrapedAttachmentStore").getPostConfirmationDialog(c),e=d==null?b("uuid")():d.getRoot().id;if(d){var f=b("ReactComposerScrapedAttachmentStore").getHasDisputedWarning(c),h=d.subscribe("confirm",function(){k.unsubscribe(),d.hide(),d.destroy(),f&&a._handleDisputedWarningConfirmation(e),a._doStartPost()}),i=d.subscribe("cancel",function(){f&&(k.unsubscribe(),a._handleDisputedWarningCancellation(e))}),j=d.subscribe("show",function(){if(f){var d=b("ReactComposerScrapedAttachmentStore").getContentID(c);a._handleDisputedWarningShowing(e,d)}}),k=d.subscribe("hide",function(){f&&a._handleDisputedWarningImplicitCancellation(e)}),l=d.subscribe("hide",function(){h.unsubscribe(),i.unsubscribe(),j.unsubscribe(),l.unsubscribe()});d.show();return}else this._doStartPost()},_removeBackground:function(){var a=this;b("Bootloader").loadModules(["ReactComposerFormattedTextActions"],function(c){c.setSelectedIndex(a.context.composerID,b("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)},"ReactComposerPostButtonContainerMixin")},_validateAlbumAddition:function(){var a=this.context.composerID,c=b("ReactComposerAudienceStore").getCollectionID(a);if(!c)return!0;c=b("ReactComposerMediaUploadStore").getUploads(a);return c&&c.size>0?!0:this.context.gks&&this.context.gks.addAnyPostToAlbum},_doStartPost:function(){__p&&__p();var a=this.props,c=b("ReactComposerAudienceStore").getTimelineSelected(this.context.composerID);if(this.context.gks.optimisticPosting&&c)b("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,a.config,b("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID);else{b("ReactComposerActions").postStarted(this.context.composerID,{actorID:this.context.actorID,config:a.config,targetID:this.context.targetID,onPostSuccess:(c=a.config.postButtonConfig)==null?void 0:c.onPostSuccess})}if(a.config.dialogComposer)if(this.context.gks.optimisticPosting&&!a.config.dialogComposerRefreshOnPost)b("Arbiter").subscribe(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+this.context.composerID,function(){a.config.dialogHideOnEvent!==void 0&&b("Arbiter").inform(a.config.dialogHideOnEvent)}),b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.context.composerID,function(a,c){b("ReactComposerInit").unmountInstance(c.newComposerID)});else if(a.config.dialogElementID!==void 0){c=b("$")(a.config.dialogElementID);c.parentNode&&c.parentNode.removeChild(c);b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+this.context.composerID,function(a,c){b("ReactComposerInit").unmountInstance(c.newComposerID),b("ReloadPage").delay(0)})}}};e.exports=c}),null);
__d("ReactComposerPostButtonContainer.react",["React","ReactComposerPostButtonContainerMixin","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){a=b("createReactClass_DEPRECATED")({mixins:[b("ReactComposerPostButtonContainerMixin")]});e.exports=a}),null);
__d("ReactComposerAsset3dAttachment.react",["fbt","FluxContainer","React","ReactComposerAsset3dAttachmentStore","ReactComposerAsset3DComponent.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLazyProfilePhotoBlock.react","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerStatusFooterContainer.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ReactComposerAsset3dAttachmentStore")]};c.calculateState=function(a,c,d){return{asset3dInput:b("ReactComposerAsset3dAttachmentStore").getAsset3DInput(d.composerID)}};var d=c.prototype;d.$1=function(){var a=this.state.asset3dInput&&this.state.asset3dInput.type=="color_depth_pair";return a?g._("Say something about this 3D Photo..."):g._("Say something about this 3D Post...")};d.render=function(){var a,c=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],d=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").ASSET_3D],e=this.props;return(a=b("React")).jsxs("div",{children:[a.jsx(b("ReactComposerLazyProfilePhotoBlock.react"),{config:this.props.config,profilePicSrc:c.profilePicSrc,profileURI:c.profileURI,useVoiceSwitcher:!1,children:a.jsx(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{config:this.props.config,placeholder:this.$1()})}),a.jsx(a.Suspense,{fallback:null,loading:null,children:a.jsx(b("ReactComposerAsset3DComponent.react"),{composerID:this.context.composerID,actorID:this.context.actorID,asset3dInput:this.state.asset3dInput,showCloseButton:d&&d.showCloseButton!==void 0?d.showCloseButton:!0,showContextButton:d&&d.showContextButton!==void 0?d.showContextButton:!0})}),b("React").jsx(b("ReactComposerStatusFooterContainer.react"),babelHelpers["extends"]({},e,{attachmentsConfig:e.config.attachmentsConfig,audienceXHP:e.config.audienceXHP,config:e.config,isCameraIconEnabled:!1,mediaAcceptParam:e.config.mediaAcceptParam,taggersConfig:e.config.taggersConfig,targetData:e.config.targetData}))]})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withProps:!0,withContext:!0})}),null);
__d("ReactComposerAsset3dEagerAttachment.react",["React","ReactComposerAsset3dAttachment.react","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentType","ReactComposerConfig","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerAsset3dEagerAttachment",mixins:[b("ReactComposerAttachmentBodyMixin")()],propTypes:{config:b("ReactComposerConfig").isRequired,selected:b("prop-types").bool},statics:{attachmentID:b("ReactComposerAttachmentType").ASSET_3D},renderX:function(){return b("React").jsx(b("ReactComposerAsset3dAttachment.react"),babelHelpers["extends"]({},this.props))}});e.exports=a}),null);
__d("ReactComposerDocAttachmentSelector.react",["ix","AsyncRequest","Bootloader","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSproutsSelector.react","URI","asset","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){var h;c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerDocAttachmentSelector",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{isInMoreButton:(a=b("prop-types")).bool,label:a.node.isRequired,createDocCampfireURI:a.string,createDocFallbackURI:a.string.isRequired,sprouts:a.bool},render:function(){return this.props.sprouts?b("React").jsx(b("ReactComposerSproutsSelector.react"),{attachmentID:b("ReactComposerAttachmentType").DOC,loggingName:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,icon:g("651656"),label:this.props.label,onSelected:this._onSelected}):b("React").jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").DOC,label:this.props.label,icon:g("85214"),"data-testid":"create-doc-attachment-selector",onSelected:this._onSelected,loggingName:b("ReactComposerLoggingName").DOC_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?"-1":void 0})},_onSelected:function(){var a=this;this.props.createDocCampfireURI?b("Bootloader").loadModules(["AsyncDialog"],function(c){var d=new(b("AsyncRequest"))(a.props.createDocCampfireURI).setMethod("POST").setStatusElement(a.context.composerID);c.send(d)},"ReactComposerDocAttachmentSelector.react"):new(h||(h=b("URI")))(this.props.createDocFallbackURI).go()}});e.exports=c}),null);
__d("XReactComposerListAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/list/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0}})}),null);
__d("ReactComposerListLazyAttachment.react",["ActorURI","Bootloader","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerListAttachmentBootstrapController","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerListLazyAttachment",mixins:[b("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:b("ReactComposerAttachmentType").LIST},propTypes:{selected:b("prop-types").bool,bootload:b("prop-types").func,bootloader:b("ReactComposerBootloaderPropTypes")},bootload:function(a){this.props.bootload?this.props.bootload(a):this.props.bootloader&&this.props.bootloader.listAttachment?this.props.bootloader.listAttachment(a):b("Bootloader").loadModules(["ReactComposerListAttachmentContainer.react","ReactComposerListPostButtonContainer.react"],a,"ReactComposerListLazyAttachment.react")},getBootstrapURI:function(){return b("ActorURI").create(b("XReactComposerListAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});e.exports=a}),null);
__d("ReactComposerLiveVideoPreviewButton.react",["fbt","React","XUIAmbientNUX.react","XUIButton.react","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this;return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.button},shown:this.props.showNUX,position:"below",width:"auto",onCloseButtonClick:this.props.onNUXCloseButtonClick,children:g._("Click to continue. The next screen will show a preview before you go live.")})};d.render=function(){return b("React").jsxs("span",{children:[b("React").jsx(b("XUIButton.react"),{disabled:this.props.disabled,ref:"button",label:g._("Next"),onClick:this.props.onClick,use:"confirm"}),this.$1()]})};return c}(b("React").PureComponent);a.propTypes={disabled:b("prop-types").bool,showNUX:b("prop-types").bool,onClick:function(){},onNUXCloseButtonClick:function(){}};e.exports=a}),null);
__d("ReactComposerInstantMediaAttachmentSelector.react",["fbt","ix","ComposerTargetData","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerContextTypes","ReactComposerLoggingName","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerInstantMediaAttachmentSelector",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{targetData:b("prop-types").instanceOf(b("ComposerTargetData")).isRequired,icon:b("prop-types").object,hideIcon:b("prop-types").bool},render:function(){var a=g._("Photo\/Video"),c=this.props.hideIcon?null:this.props.icon||h("40533");return b("React").jsx(b("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:b("ReactComposerAttachmentType").MEDIA,label:a,icon:c,"data-testid":"media-attachment-selector",loggingName:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,disableSelectAttachment:!0})}});e.exports=a}),null);
__d("ReactComposerInstantMediaAttachmentSelectorContainer.react",["cx","ComposerTargetData","React","ReactComposerInstantMediaAttachmentSelector.react","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("ReactComposerMediaFilePickerController.react"),babelHelpers["extends"]({},this.props,{webDriverTestID:"media-tab",loggingName:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,containerClassName:"_yt4",children:b("React").jsx(b("ReactComposerInstantMediaAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{targetData:this.props.targetData,"data-testid":"instant-media-attachment-selector"}))}))};return c}(b("React").PureComponent);a.propTypes={disableFaceRecognition:(c=b("prop-types")).bool.isRequired,mediaAcceptParam:c.shape({videos:c.string,photos:c.string,both:c.string}).isRequired,photoLimit:c.number.isRequired,targetData:c.instanceOf(b("ComposerTargetData")).isRequired,icon:c.object,mediaConfig:c.object.isRequired};a.defaultProps={disableFaceRecognition:!1};e.exports=a}),null);
__d("ReactComposerPhotoThumbnail.react",["Image.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){if(a.bgURL){var c={backgroundImage:"url("+a.bgURL+")"};return b("React").jsx("div",{className:a.bgClassName,style:c})}else if(a.imgSrc)return b("React").jsx(b("Image.react"),{alt:a.alt,className:a.imgClassName,src:a.imgSrc,style:a.style,width:a.width,height:a.height});return null};e.exports=a}),null);
__d("ReactComposer.react",["cx","FluxContainer","React","ReactComposerActions","ReactComposerContextTypes","ReactComposerInit","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerLoggingQueue","ReactComposerSessionMetricsStore","ReactComposerStore","ReactDOM","XUICard.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasBeenActive:!1,isActive:!1},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerSessionMetricsStore")]};c.calculateState=function(a,c,d){a=d.composerID;return{isActive:b("ReactComposerStore").isActive(a)}};var d=c.prototype;d.componentDidMount=function(){b("ReactComposerActions").initConfig(this.context.composerID,this.props.loggingConfig,this.context.gks&&this.context.gks.lazySproutsExpand,this.props.activateOnInit,this.props.sproutsConfig,this.props.promotedSprout,this.props.activateOnInitEntryPoint),this.props.activateOnInit&&b("ReactComposerLoggingActions").composerEntry(this.context.composerID,this.props.activateOnInitEntryPoint)};d.componentDidUpdate=function(a,c){this.state.isActive&&!this.state.hasBeenActive&&(this.setState({hasBeenActive:!this.state.hasBeenActive}),b("ReactComposerLoggingQueue").initBootload(this.context.composerID,b("ReactDOM").findDOMNode(this),this.context.targetID,this.props.loggingConfig))};d.componentWillUnmount=function(){Boolean(this.props.preventUnmount)||b("ReactComposerInit").unmountInstance(this.context.composerID,!0)};d.render=function(){var a="_36bx"+(this.props.hideBorders?" _4a60":"");return b("React").jsx(b("XUICard.react"),{className:b("joinClasses")(this.props.className,a),"data-testid":"react-composer-root","data-test-actorid":this.context.actorID,id:this.context.composerID,children:this.props.children})};return c}(b("React").PureComponent);a.defaultProps={hideBorders:!1,activateOnInit:!1,activateOnInitEntryPoint:b("ReactComposerLoggingName").OTHERS,preventUnmount:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerBody.react",["cx","ErrorBoundary.react","React","XUICardSection.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_4zoz",this.props.className);return b("React").jsx(b("XUICardSection.react"),{className:a,children:b("React").Children.map(this.props.children,function(a){return a?b("React").jsx(b("ErrorBoundary.react"),{children:a}):null})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerBodyContainer.react",["cx","FluxContainer","React","ReactComposerAttachmentStore","ReactComposerBody.react","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(a,c,d){a=b("ReactComposerAttachmentStore").isSelectedAttachmentActive(d.composerID);return{active:a}};c.getStores=function(){return[b("ReactComposerAttachmentStore")]};var d=c.prototype;d.render=function(){var a=(this.state.active&&this.props.hasMinHeight?"_5xv3":"")+(this.props.expanded?" _4cw":"");return b("React").jsx(b("ReactComposerBody.react"),{className:a,children:this.props.children})};return c}(b("React").PureComponent);a.defaultProps={expanded:!1,hasMinHeight:!0};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerSproutsMediaSelector.react",["ix","cx","React","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerInstantMediaAttachmentSelectorContainer.react","ReactComposerLoggingName","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("span",{className:"_sg1",children:b("React").jsx(b("ReactComposerInstantMediaAttachmentSelectorContainer.react"),{icon:g("122530"),disableFaceRecognition:this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA].disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,photoLimit:this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA].photoLimit,targetData:this.props.config.targetData,mediaConfig:this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA]},b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR)},b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR)};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerSproutItem.react",["cx","Focus","Image.react","JSResource","Link.react","React","TooltipData","XUISpinner.react","lazyLoadComponent","prop-types","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("ReactComposerSproutItemNewBadge.react").__setRef("ReactComposerSproutItem.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasBeenClicked:!1},c.$1=function(){c.setState({hasBeenClicked:!0}),c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.loading?b("React").jsx(b("XUISpinner.react"),{className:"_20j1",background:"dark",size:"small"}):null,c=this.props.uiConfig,d=!this.context.hasFinishedSproutPromotion&&this.context.promotedSprout&&this.props.uiConfig.sprout&&this.context.promotedSprout===this.props.uiConfig.sprout?b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(h,{composerID:this.context.composerID,hasSproutBeenClicked:this.state.hasBeenClicked,promotionID:this.context.promotionID,title:this.context.subtitle&&this.context.subtitle})}):null,e=Boolean(c.showTooltipOnlyWhenDisabled)?null:babelHelpers["extends"]({},b("TooltipData").propsFor(c.tooltip)),f=this.props;f.onClick;f=babelHelpers.objectWithoutPropertiesLoose(f,["onClick"]);return b("React").jsx(b("Link.react"),{"aria-label":c==null?void 0:c.ariaLabel,"aria-pressed":this.props.highlighted,"data-testid":c.webDriverTestID,onClick:this.$1,role:this.props.linkRole||"button",children:b("React").jsxs("div",babelHelpers["extends"]({},f,{className:b("joinClasses")("_m_1"+(this.props.loading?" _20jn":"")+(d!==null?" _4c9w":""),c&&c.className),onMouseDown:function(a){return a.preventDefault()},ref:"sproutItemRoot",style:this.props.highlighted?{background:c.highlightedColor}:null,"data-tooltip-delay":"500"},e,{children:[b("React").jsx(b("Image.react"),{className:"_4a0a",src:c.icon}),b("React").jsx("div",{className:"_2aha",children:c.label}),d,a]}))})};d.focus=function(){b("Focus").set(this.refs.sproutItemRoot)};return c}(b("React").PureComponent);a.contextTypes={hasFinishedSproutPromotion:(c=b("prop-types")).bool.isRequired,promotionID:c.number,promotedSprout:c.string,subtitle:c.string,composerID:c.string};a.defaultProps={highlighted:!1};e.exports=a}),null);
__d("ReactComposerEllipsisSproutContainer.react",["csx","cx","fbt","ix","DOM","DOMTraverser","Focus","React","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSproutItem.react","ReactComposerStore","TabbableElements","ge"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.context.gks&&d.context.gks.lazySproutsExpand&&d.$3(),b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(d.context.composerID,"ELLIPSIS",b("ReactComposerLoggingName").ELLIPSIS_SPROUT,b("ReactComposerStore").getSproutSurface(d.context.composerID))},d.$1=function(a){d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx("span",{onKeyDown:this.$1,children:b("React").jsx(b("ReactComposerSproutItem.react"),{uiConfig:{ariaLabel:i._("More post options"),label:"",icon:j("28705"),iconSrc:"/images/composer/sprouts/composer_sprout_ellipsis.png",className:"_1gr3",loggingName:b("ReactComposerLoggingName").ELLIPSIS_SPROUT,webDriverTestID:"ellipsis-sprout"},onClick:this.$2})})};d.$3=function(){var a=this;b("ReactComposerActions").expandSprouts(this.context.composerID);window.setTimeout(function(){var c=b("ge")(a.context.composerID),d=b("DOM").find(c,"._16vl");c=b("DOMTraverser").nextFilteredNode(c,d,function(a){return b("TabbableElements").isTabbable(a)});b("Focus").set(c)},0)};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerLazySproutContainer.react",["React","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerTaggerActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={loading:!1},d.$1=function(){d.setState({loading:!0}),d.props.uiConfig.sproutTaggerID&&b("ReactComposerTaggerActions").selectTagger(d.context.composerID,d.props.uiConfig.loggingName,d.props.uiConfig.sproutTaggerID,!0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,onClick:this.$1,loading:this.state.loading})};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("XSproutPromotionUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/sprouts/promotions/update/",{promotion_id:{type:"Int"},increment_view:{type:"Exists",defaultValue:!1},end_promotion:{type:"Exists",defaultValue:!1},current_promotion:{type:"Exists",defaultValue:!1}})}),null);
__d("ReactComposerSproutBadgePromotionUtils",["AsyncRequest","ReactComposerActions","XSproutPromotionUpdateController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initWWWPromotion:function(a){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("current_promotion",!0).getURI();new(b("AsyncRequest"))().setURI(a).send()},addView:function(a,c){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("increment_view",!0).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a.payload&&a.payload.clear_badge_on_next_composer&&b("ReactComposerActions").setQueueFinishedSproutPromotion(c)}).send();b("ReactComposerActions").setLoggedSproutPromotionView(c)},endPromotion:function(a,c){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("end_promotion",!0).getURI();new(b("AsyncRequest"))().setURI(a).send();b("ReactComposerActions").setFinishedSproutPromotion(c)}};e.exports=a}),null);
__d("ReactComposerSproutsStyleUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={SPROUT_HEIGHT_PX:32,SPROUT_MARGIN_PX:8,SPROUT_LIST_VERTICAL_PADDING_PX:8,SPROUTS_PER_ROW:2,calculateVisibleSproutWindow:function(a,b){a=this.calculateSproutContainerHeight(a);var c=this.SPROUT_HEIGHT_PX+this.SPROUT_MARGIN_PX,d=Math.round(Math.max(b-this.SPROUT_LIST_VERTICAL_PADDING_PX,0)/c);b=Math.round((b+a-2*this.SPROUT_LIST_VERTICAL_PADDING_PX)/c);return{start:d,end:b}},calculateVisibleSprouts:function(a,b){var c={};for(var d=0;d<b.length;d++){var e=d>=a.start*this.SPROUTS_PER_ROW&&d<(a.end+1)*this.SPROUTS_PER_ROW;c[b[d]]=e}return c},calculateVisibleInlineSprouts:function(a,b){var c={};for(var d=0;d<b.length;d++){var e=a.indexOf(b[d])>=0;c[b[d]]=e}return c},calculateSproutContainerHeight:function(a){return a*this.SPROUT_HEIGHT_PX+Math.floor(a)*this.SPROUT_MARGIN_PX-this.SPROUT_LIST_VERTICAL_PADDING_PX}};e.exports=a}),null);
__d("ReactComposerSproutsListRenderer.react",["cx","invariant","ExtensibleSproutsItemType","Grid.react","ProductTaggingCreatorTypedLogger","React","ReactComposerEllipsisSproutContainer.react","ReactComposerLoggingActions","ReactComposerSproutBadgePromotionUtils","ReactComposerSproutsDisplayState","ReactComposerSproutsStyleUtils","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","SproutConfigConstants","debounce","getObjectValues","joinClasses","prop-types","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Grid.react").GridItem;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$8=function(){c.$3("inline_sprouts_scrolled_in_full_screen")},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getChildContext=function(){return{hasFinishedSproutPromotion:this.props.hasFinishedSproutPromotion,promotedSprout:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout,subtitle:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.subtitle,promotionID:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.promotionID}};d.componentDidMount=function(){var a=this;this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED?window.setTimeout(function(){a.$3("inline_sprouts_initial_state")},0):this.$4("inline_sprouts_initial_state")};d.componentDidUpdate=function(a){this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED&&a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE&&this.$3("inline_sprouts_state_changed"),this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE&&a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED&&this.$4("inline_sprouts_state_changed")};d.render=function(){var a=this,c=this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED?this.$5():this.$6(),d=this.$7();return b("React").jsx("div",{className:"_16ve"+(this.props.sproutsDisplayState!==b("ReactComposerSproutsDisplayState").EXPANDED?" _7i31":""),style:d,ref:function(b){return a.$1=b},onScroll:this.context.gks.extensibleSproutsNumRows&&b("debounce")(this.$8),children:c})};d.$7=function(){var a=b("ReactComposerStore").getTargetType(this.context.composerID);if(!this.context.gks.lazySproutsExpand&&a!=="group"&&a!=="page"&&this.context.composerType!=="edit_composer"&&this.context.composerType!=="edit_dialog"&&this.context.composerType!=="work_group_learning"){a=parseFloat("2.5");a=b("ReactComposerSproutsStyleUtils").calculateSproutContainerHeight(a);return{maxHeight:a+"px",overflowY:"auto"}}else return{}};d.$3=function(a){__p&&__p();if(!this.$1)return;var c=b("ReactComposerSproutsStyleUtils").calculateVisibleSproutWindow(this.context.gks.extensibleSproutsNumRows,this.$1.scrollTop);c=b("ReactComposerSproutsStyleUtils").calculateVisibleSprouts(c,this.props.orderedSprouts);b("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,c,a,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null);if(this.props.config.sproutsPromotionConfig){a=this.props.config.sproutsPromotionConfig.sprout;!this.props.hasLoggedSproutPromotionView&&a&&(c[a]===!0&&(this.props.config.sproutsPromotionConfig.promotionID&&b("ReactComposerSproutBadgePromotionUtils").addView(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)))}c=b("ReactComposerTaggerStore").isDisabled(this.context.composerID,b("ReactComposerTaggerType").PRODUCT);c||new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Imp_PhotoComposerWithTagPill").setCreatorID(this.context.targetID).log()};d.$4=function(a){var c=b("ReactComposerSproutsStyleUtils").calculateVisibleInlineSprouts(this.$2,this.props.orderedSprouts);b("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,c,a,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null)};d.$9=function(a,c){var d=b("joinClasses")("_5xmp","fbReactComposerAttachmentSelector_"+c);return b("React").jsx("li",{className:d,children:a},c)};d.$6=function(){__p&&__p();var a=[];this.$2=[];var c=this.props.config.sproutsConfig,d=this.props.orderedSprouts;if(c)for(var e=0;e<d.length;e++){if(!this.$10(c[d[e]])||!this.$11(c[d[e]])||this.$12(d[e]))continue;if(this.$13(d[e],a))break}a.length<=3||h(0,4256);return b("React").jsxs("ul",{"data-testid":"collapsed_sprouts",className:"_16vg"+(a.length===3?" _1oxv":""),children:[a,((e=this.context)!=null?(e=e.gks)!=null?e.shouldShowSimplifiedComposer:e:e)?null:this.$9(b("React").jsx(b("ReactComposerEllipsisSproutContainer.react"),{}),"ELLIPSIS")]})};d.$5=function(){var a=[],c=this.props.config.sproutsConfig,d=this.props.orderedSprouts;if(c)for(var e=0;e<d.length;e++){if(!this.$10(c[d[e]])||this.$12(d[e]))continue;this.props.sprouts[d[e]]||h(0,4257,d[e]);a.push(b("React").jsx(i,{className:"fbReactComposerAttachmentSelector_"+d[e],children:this.props.sprouts[d[e]]},d[e]))}return b("React").jsx("div",{"data-testid":"expanded-sprout-list",className:"_16vl",children:b("React").jsx(b("Grid.react"),{cols:2,fixed:!0,spacing:b("joinClasses")("pas","_1fng"),children:a})})};d.$10=function(a){return!!a&&a.enabled};d.$11=function(a){return this.$10(a)};d.$12=function(a){return!!this.props.isGroupTabSelected&&!this.$14(a)};d.$14=function(a){return a==="MINUTIAE"||a==="LOCATION"||a==="WITH_TAG"||a==="MEDIA"};d.$13=function(a,c){this.props.sprouts[a]||h(0,4257,a);this.$2.push(a);c.push(this.$9(this.props.sprouts[a],a));return c.length>=b("SproutConfigConstants").MAX_INLINE_SPROUTS_COUNT?!0:!1};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");a.childContextTypes={hasFinishedSproutPromotion:(c=b("prop-types")).bool.isRequired,promotionID:c.number,promotedSprout:c.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType"))),subtitle:c.string};e.exports=a}),null);
__d("ReactComposerSproutsList.react",["ErrorBoundary.react","ExtensibleSproutsItemType","FBLogger","React","ReactComposerContextTypes","ReactComposerLazySproutContainer.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerSproutsListRenderer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("ReactComposerSproutsListRenderer.react"),babelHelpers["extends"]({},this.props,{sprouts:this.$1()}))};d.$1=function(){__p&&__p();var a=this.props.config.sproutsConfig,c={};if(a)for(var d in a){var e,f=b("ExtensibleSproutsItemType")[d];if(((e=a[f])==null?void 0:e.enabled)!==!0)continue;e=b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[f];e||b("FBLogger")("fb4c").mustfix("SproutID %s is not in the config %s.",f,JSON.stringify(b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap));this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===f&&(e.sprout=f);e!=null&&(e.hasFormatting=this.props.richTextInStatus);var g=this.props.fakeSprouts!==!0?this.props.sproutModules[f]||b("ReactComposerLazySproutContainer.react"):b("ReactComposerSproutItem.react");c[f]=b("React").jsx(b("ErrorBoundary.react"),{children:b("React").jsx(g,{uiConfig:e,config:this.props.config})})}return c};return c}(b("React").PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSproutsListContainer.react",["invariant","ExtensibleSproutsItemType","FluxContainer","React","ReactComposerContextTypes","ReactComposerSproutsDisplayState","ReactComposerSproutsList.react","ReactComposerStatusStore","ReactComposerStore","ifRequired","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={additionalSproutModules:{},bootloading:!1,orderedSprouts:[]};b.$2={};return b}c.getStores=function(){var a=[b("ReactComposerStore"),b("ReactComposerStatusStore")];b("ifRequired")("ReactComposerPostToGroupStore",function(b){a.push(b)});return a};c.calculateState=function(a,c,d){a=!1;b("ifRequired")("ReactComposerPostToGroupStore",function(b){a=b.getIsTabSelected(d.composerID)});return{sproutsDisplayState:(c=b("ReactComposerStore")).getSproutsDisplayState(d.composerID),isGroupTabSelected:a,hasLoggedSproutPromotionView:c.hasLoggedSproutPromotionView(d.composerID),hasFinishedSproutPromotion:c.hasFinishedSproutPromotion(d.composerID),orderedSprouts:c.getOrderedSprouts(d.composerID),richTextInStatus:b("ReactComposerStatusStore").getRichTextBlocks(d.composerID)!==null}};var d=c.prototype;d.componentDidMount=function(){this.$1=!1,(this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED||this.context.gks&&this.context.gks.lazySproutsExpand)&&this.$3()};d.componentDidUpdate=function(){(this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED||this.context.gks&&this.context.gks.lazySproutsExpand)&&this.$3()};d.componentWillUnmount=function(){this.$1=!0};d.render=function(){this.context.jsModules.sprouts=Object.assign({},this.context.jsModules.sprouts,this.state.additionalSproutModules);return b("React").jsx(b("ReactComposerSproutsList.react"),{config:this.props.config,sproutsDisplayState:this.state.sproutsDisplayState,sproutModules:this.context.jsModules.sprouts,fakeSprouts:this.props.fakeSprouts,isGroupTabSelected:this.state.isGroupTabSelected,hasLoggedSproutPromotionView:this.state.hasLoggedSproutPromotionView,hasFinishedSproutPromotion:this.state.hasFinishedSproutPromotion,orderedSprouts:this.state.orderedSprouts,richTextInStatus:this.state.richTextInStatus})};d.$3=function(){__p&&__p();var a=this;if(this.state.bootloading)return;var c=this.props.config.sproutsConfig,d={};for(var e in c){var f=b("ExtensibleSproutsItemType")[e];if(!c[f].enabled||!c[f].lazyLoad)continue;this.context.jsResources.sprouts[f]||g(0,4479,f);d[f]=this.context.jsResources.sprouts[f]}f=function(c){b("promiseDone")(d[c].load(),function(b){if(a.$1)return;a.$2[c]=b;a.setState({additionalSproutModules:Object.assign({},a.$2)})})};for(var h in d)f(h);this.setState({bootloading:!0})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerWithSprouts.react",["cx","Arbiter","FluxContainer","React","ReactComposer.react","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerEvents","ReactComposerFocusStore","ReactComposerLoggingName","ReactComposerSproutsDisplayState","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,d){b=a.call(this,b,d)||this;b.beforeCalculateInitialState(b.context.composerID,b.props);b.state=c.calculateState(b.state,b.props,b.context);return b}c.getStores=function(){return[b("ReactComposerStore"),b("ReactComposerFocusStore"),b("ReactComposerAudienceStore")]};var d=c.prototype;d.beforeCalculateInitialState=function(a,c){c.expandOnInit&&(b("ReactComposerActions").expandSprouts(this.context.composerID),b("ReactComposerAttachmentActions").initializeAttachment(a,c.defaultAttachmentOnExpand,!0,b("ReactComposerLoggingName").OTHERS))};c.calculateState=function(a,c,d){a=d.composerID;return{displayState:b("ReactComposerStore").getSproutsDisplayState(a),isFocused:b("ReactComposerFocusStore").isComposerFocused(a),messengerSectionVisible:b("ReactComposerAudienceStore").getMessengerSectionVisible(d.composerID)}};d.UNSAFE_componentWillMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/selectcomposer/"+this.context.composerID,function(c,d){return a.$2(b("ReactComposerLoggingName").PROMPT,d&&d.selectedTagger)}))};d.componentDidMount=function(){this.props.expandOnInit&&this.$2(b("ReactComposerLoggingName").ELLIPSIS_SPROUT)};d.render=function(){var a=this;return b("React").jsx("div",{className:"_1cx1"+(this.state.displayState===b("ReactComposerSproutsDisplayState").EXPANDED?" _4qr4":"")+(this.state.displayState===b("ReactComposerSproutsDisplayState").INLINE?" _4a8c":"")+" _4aay _4ab3"+(this.context.gks&&!this.context.gks.addAnyPostToAlbum?" _2qma":"")+(this.state.messengerSectionVisible?" _1qf9":""),onClick:function(c){a.$2(b("ReactComposerLoggingName").INLINE_COMPOSER),a.props.onClick&&a.props.onClick(c)},role:"presentation",children:b("React").jsx(b("ReactComposer.react"),babelHelpers["extends"]({},this.props.innerProps,{children:this.props.children}))})};d.$2=function(a,c){__p&&__p();var d=this;if(!this.state.isFocused){this.context.gks&&this.context.gks.lazySproutsExpand||b("ReactComposerActions").expandSprouts(this.context.composerID);b("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,this.props.defaultAttachmentOnExpand,!0,a);var e=b("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID);b("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,e||this.props.defaultAttachmentOnExpand,!0,a);c&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,c.loggingName,c.taggerType);(!b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)||b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===b("ReactComposerTaggerType").FORMATTED_TEXT)&&setTimeout(function(){return b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+d.context.composerID)},0)}};return c}(b("React").PureComponent);a.defaultProps={expandOnInit:!1};a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);